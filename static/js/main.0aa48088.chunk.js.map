{"version":3,"sources":["logo.svg","config.js","hash.js","store.js","components/AlbumList.js","components/PlaylistTable.js","api.js","components/ActionButtons.js","components/PlaylistAlbumsPage.js","components/Main.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","scopes","hash","window","location","substring","split","reduce","initial","item","parts","decodeURIComponent","user","localStorage","getItem","store","JSON","parse","name","id","token","allPlaylists","album","selectedPlaylists","progress","done","total","percent","errors","playlistArray","test","playlist","newObj","Object","objectSpread","push","console","log","observe","setItem","stringify","useStyles","makeStyles","theme","root","width","backgroundColor","palette","background","paper","list","position","overflow","maxHeight","view","props","classes","_useState","useState","_useState2","slicedToArray","selectedIndex","setSelectedIndex","_useAxios","useAxios","url","method","headers","Authorization","_useAxios2$","data","loading","error","react_default","a","createElement","className","List","component","aria-label","items","map","i","ListItem","button","selected","onClick","event","index","key","ListItemAvatar","Avatar","variant","src","images","alt","ListItemText","primary","tableIcons","Add","forwardRef","ref","AddBox_default","assign","Check","Check_default","Clear","Clear_default","Delete","DeleteOutline_default","DetailPanel","ChevronRight_default","Edit","Edit_default","Export","SaveAlt_default","Filter","FilterList_default","FirstPage","FirstPage_default","LastPage","LastPage_default","NextPage","PreviousPage","ChevronLeft_default","ResetSearch","Search","Search_default","SortArrow","ArrowDownward_default","ThirdStateCheck","Remove_default","ViewColumn","ViewColumn_default","getTracksAndAlbums","_x","_x2","_getTracksAndAlbums","apply","this","arguments","asyncToGenerator","regenerator_default","mark","_callee2","delayms","nextLink","APItracks","tracks","albums","albumList","res","track","wrap","_context2","prev","next","axios","get","concat","sent","place","hasOwnProperty","trackCount","abrupt","stop","delay","_x3","_delay","_callee3","ms","_context3","timeout","useEffect","_loadTable","_callee","playlistBatch","currentDelay","_i","_playlist","_yield$getTracksAndAl","_yield$getTracksAndAl2","newTracks","newAlbums","newAlbumList","_context","owner","external_urls","spotify","tracks_endpoint","href","t0","keys","t1","value","loadTable","Promise","setTimeout","style","maxWidth","dist_default","columns","title","field","icons","options","showTitle","selection","pageSize","maxBodyHeight","draggable","onSelectionChange","rows","APIdelay","addAlbum","_addAlbum","side","albumDetails","trackURIs","j","firstTrackPos","k","nextNum","length","uri","indexOf","uris","post","Content-Type","display","flexWrap","justifyContent","margin","progressBox","alignItems","flexGrow","Typography","LinearProgress","color","Button","api","removeItem","padding","spacing","textAlign","text","secondary","PlaylistAlbumsPage","Grid","container","xs","Paper","components_AlbumList","components_PlaylistTable","components_ActionButtons","TabPanel","children","other","objectWithoutProperties","role","hidden","aria-labelledby","Box","a11yProps","aria-controls","setValue","_useAxios2","display_name","AppBar","Tabs","onChange","newValue","Tab","label","components_PlaylistAlbumsPage","App","_this","classCallCheck","_super","call","state","artists","duration_ms","is_playing","progress_ms","_token","access_token","setState","logo","join","components_Main","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.0aa48088.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";","export const authEndpoint = 'https://accounts.spotify.com/authorize';\r\n\r\n// Replace with your app's client ID, redirect URI and desired scopes\r\nexport const clientId = '149f235f7ad941419d900b585b05d9e3';\r\n// export const redirectUri = 'http://localhost:3000/redirect';\r\nexport const redirectUri = 'https://brandoshizzle.github.io/Little-Conductor/';\r\nexport const scopes = ['user-read-email', 'playlist-modify-public', 'playlist-modify-private'];\r\n","// Get the hash of the url\r\nconst hash = window.location.hash\r\n  .substring(1)\r\n  .split(\"&\")\r\n  .reduce(function(initial, item) {\r\n    if (item) {\r\n      var parts = item.split(\"=\");\r\n      initial[parts[0]] = decodeURIComponent(parts[1]);\r\n    }\r\n    return initial;\r\n  }, {});\r\nwindow.location.hash = \"\";\r\n\r\nexport default hash;\r\n","import { store } from '@risingstack/react-easy-state';\r\nimport { observe } from '@nx-js/observer-util';\r\n\r\nexport const user = localStorage.getItem('user')\r\n\t? store(JSON.parse(localStorage.getItem('user')))\r\n\t: store({\r\n\t\t\tname: '',\r\n\t\t\tid: '',\r\n\t\t\ttoken: '',\r\n\t\t\tallPlaylists: {},\r\n\t\t\talbum: {},\r\n\t\t\tselectedPlaylists: [],\r\n\t\t\tprogress: {\r\n\t\t\t\tdone: 0,\r\n\t\t\t\ttotal: 0,\r\n\t\t\t\tpercent: 0,\r\n\t\t\t},\r\n\t\t\terrors: [],\r\n\t  });\r\n\r\nobserve(() => {\r\n\tlocalStorage.setItem('user', JSON.stringify(user));\r\n});\r\n\r\n// observe(() => {\r\n// \tplaylistArray = [];\r\n// \tfor (var playlist in user.allPlaylists) {\r\n// \t\tconst newObj = {\r\n// \t\t\t...user.allPlaylists[playlist],\r\n// \t\t};\r\n// \t\tplaylistArray.push(newObj);\r\n// \t}\r\n// \t// playlistArray = Object.values(user.allPlaylists);\r\n// \tconsole.log(playlistArray);\r\n// });\r\n\r\nexport function playlistArray() {\r\n\tlet test = [];\r\n\tfor (var playlist in user.allPlaylists) {\r\n\t\tconst newObj = {\r\n\t\t\t...user.allPlaylists[playlist],\r\n\t\t};\r\n\t\ttest.push(newObj);\r\n\t}\r\n\t// playlistArray = Object.values(user.allPlaylists);\r\n\tconsole.log(test);\r\n\treturn test;\r\n}\r\n\r\nwindow.user = user;\r\n","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport useAxios from 'axios-hooks';\r\nimport { view } from '@risingstack/react-easy-state';\r\nimport { user } from './../store';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t\tbackgroundColor: theme.palette.background.paper,\r\n\t},\r\n\tlist: {\r\n\t\tposition: 'relative',\r\n\t\toverflow: 'auto',\r\n\t\tmaxHeight: '65vh',\r\n\t},\r\n}));\r\n\r\nconst AlbumList = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst { token } = props;\r\n\tconst [selectedIndex, setSelectedIndex] = useState(0);\r\n\r\n\tconst [{ data, loading, error }] = useAxios({\r\n\t\turl: 'https://api.spotify.com/v1/artists/4SCWiQbJCMTHK737aNUqBJ/albums?offset=0&limit=20&market=CA',\r\n\t\tmethod: 'GET',\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\n\tconst handleListItemClick = (event, index) => {\r\n\t\tsetSelectedIndex(index);\r\n\t\tuser.album = data.items[index];\r\n\t};\r\n\tif (loading) return <p>Loading...</p>;\r\n\tif (error) return <p>Error!</p>;\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<List className={classes.list} component=\"nav\" aria-label=\"main mailbox folders\">\r\n\t\t\t\t{data.items.map((album, i) => (\r\n\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\tselected={selectedIndex === i}\r\n\t\t\t\t\t\tonClick={(event) => handleListItemClick(event, i)}\r\n\t\t\t\t\t\tkey={album.id}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t\t\t<Avatar variant=\"square\">\r\n\t\t\t\t\t\t\t\t<img src={album.images[1].url} alt=\"cover\" />\r\n\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t\t\t<ListItemText primary={album.name} />\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t))}\r\n\t\t\t</List>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(AlbumList);\r\n","import React, { forwardRef, useEffect } from 'react';\r\nimport MaterialTable from 'material-table';\r\nimport axios from 'axios';\r\n\r\nimport { view } from '@risingstack/react-easy-state';\r\nimport { playlistArray, user } from './../store';\r\n\r\nimport AddBox from '@material-ui/icons/AddBox';\r\nimport ArrowDownward from '@material-ui/icons/ArrowDownward';\r\nimport Check from '@material-ui/icons/Check';\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRight from '@material-ui/icons/ChevronRight';\r\nimport Clear from '@material-ui/icons/Clear';\r\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\r\nimport Edit from '@material-ui/icons/Edit';\r\nimport FilterList from '@material-ui/icons/FilterList';\r\nimport FirstPage from '@material-ui/icons/FirstPage';\r\nimport LastPage from '@material-ui/icons/LastPage';\r\nimport Remove from '@material-ui/icons/Remove';\r\nimport SaveAlt from '@material-ui/icons/SaveAlt';\r\nimport Search from '@material-ui/icons/Search';\r\nimport ViewColumn from '@material-ui/icons/ViewColumn';\r\n\r\nconst tableIcons = {\r\n\tAdd: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n\tCheck: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n\tClear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tDelete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n\tDetailPanel: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n\tEdit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n\tExport: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n\tFilter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n\tFirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n\tLastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n\tNextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n\tPreviousPage: forwardRef((props, ref) => <ChevronLeft {...props} ref={ref} />),\r\n\tResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tSearch: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n\tSortArrow: forwardRef((props, ref) => <ArrowDownward {...props} ref={ref} />),\r\n\tThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\r\n\tViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\r\n};\r\n\r\nconst PlaylistTable = (props) => {\r\n\tconst { token } = props;\r\n\r\n\t// Get data from storage or API on launch\r\n\tuseEffect(() => {\r\n\t\tasync function loadTable() {\r\n\t\t\tlet nextLink;\r\n\t\t\tdo {\r\n\t\t\t\tlet res = await axios.get(nextLink || `https://api.spotify.com/v1/me/playlists?limit=50`, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: 'Bearer ' + user.token,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tlet playlistBatch = res.data.items;\r\n\t\t\t\tfor (const i in playlistBatch) {\r\n\t\t\t\t\tlet playlist = playlistBatch[i];\r\n\t\t\t\t\tif (playlist.owner.id === user.id) {\r\n\t\t\t\t\t\tif (!user.allPlaylists.hasOwnProperty(playlist.id)) {\r\n\t\t\t\t\t\t\tuser.allPlaylists[playlist.id] = {\r\n\t\t\t\t\t\t\t\tid: playlist.id,\r\n\t\t\t\t\t\t\t\tname: playlist.name,\r\n\t\t\t\t\t\t\t\turl: playlist.external_urls.spotify,\r\n\t\t\t\t\t\t\t\ttracks_endpoint: playlist.tracks.href,\r\n\t\t\t\t\t\t\t\ttracks: {},\r\n\t\t\t\t\t\t\t\talbumList: 'Loading...',\r\n\t\t\t\t\t\t\t\talbums: {},\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tnextLink = res.data.next;\r\n\t\t\t} while (nextLink);\r\n\r\n\t\t\tconst delayIncrement = 300;\r\n\t\t\tlet currentDelay = -delayIncrement;\r\n\t\t\tfor (const i in user.allPlaylists) {\r\n\t\t\t\tlet playlist = user.allPlaylists[i];\r\n\t\t\t\tif (playlist.albumList === 'Loading...') {\r\n\t\t\t\t\tawait delay(currentDelay);\r\n\t\t\t\t\tconst [newTracks, newAlbums, newAlbumList] = await getTracksAndAlbums(playlist.id);\r\n\t\t\t\t\t// console.log(newTracks, newAlbums, newAlbumList);\r\n\t\t\t\t\tuser.allPlaylists[i].tracks = newTracks;\r\n\t\t\t\t\tuser.allPlaylists[i].albums = newAlbums;\r\n\t\t\t\t\tuser.allPlaylists[i].albumList = newAlbumList;\r\n\t\t\t\t\t// currentDelay += delayIncrement;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Get all user's playlists first, then determine if we need additional API calls\r\n\t\tloadTable();\r\n\t}, []);\r\n\r\n\tasync function getTracksAndAlbums(id, delayms) {\r\n\t\tlet nextLink;\r\n\t\tlet APItracks = [];\r\n\t\tlet tracks = {};\r\n\t\tlet albums = {};\r\n\t\tlet albumList = '';\r\n\t\tdo {\r\n\t\t\tlet res = await axios.get(nextLink || `https://api.spotify.com/v1/playlists/${id}/tracks?fields=`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\tconsole.log(res);\r\n\t\t\tAPItracks = APItracks.concat(res.data.items);\r\n\t\t\tnextLink = res.data.next;\r\n\t\t} while (nextLink);\r\n\r\n\t\tfor (const i in APItracks) {\r\n\t\t\tconst track = APItracks[i].track;\r\n\t\t\ttracks[i] = { place: i, id: track.id, album: track.album.name };\r\n\t\t\tif (albums.hasOwnProperty(track.album.name)) {\r\n\t\t\t\talbums[track.album.name].trackCount += 1;\r\n\t\t\t} else {\r\n\t\t\t\talbums[track.album.name] = { name: track.album.name, trackCount: 0 };\r\n\t\t\t\talbumList += ', ' + track.album.name;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\talbumList = albumList.substring(2);\r\n\r\n\t\treturn [tracks, albums, albumList];\r\n\t}\r\n\r\n\tasync function delay(ms) {\r\n\t\tawait timeout(ms);\r\n\t}\r\n\r\n\tconst timeout = (ms) => new Promise((res) => setTimeout(res, ms));\r\n\r\n\treturn (\r\n\t\t<div style={{ maxWidth: '100%' }}>\r\n\t\t\t<MaterialTable\r\n\t\t\t\tcolumns={[\r\n\t\t\t\t\t// { title: 'Cover', field: 'cover' },\r\n\t\t\t\t\t{ title: 'Name', field: 'name' },\r\n\t\t\t\t\t{ title: 'Albums', field: 'albumList' },\r\n\t\t\t\t]}\r\n\t\t\t\tdata={playlistArray()}\r\n\t\t\t\ticons={tableIcons}\r\n\t\t\t\toptions={{\r\n\t\t\t\t\tshowTitle: false,\r\n\t\t\t\t\tselection: true,\r\n\t\t\t\t\t// paging: false,\r\n\t\t\t\t\tpageSize: 20,\r\n\t\t\t\t\tmaxBodyHeight: '52vh',\r\n\t\t\t\t\tdraggable: false,\r\n\t\t\t\t\t// actionsColumnIndex: -1,\r\n\t\t\t\t}}\r\n\t\t\t\tonSelectionChange={(rows) => (user.selectedPlaylists = rows)}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(PlaylistTable);\r\n","import { user } from './store';\r\nimport axios from 'axios';\r\n\r\nconst APIdelay = 300;\r\n\r\nexport async function addAlbum(side) {\r\n\tconsole.log('Go time!');\r\n\tuser.progress.done = 0;\r\n\tuser.progress.total = user.selectedPlaylists.length;\r\n\tuser.progress.percent = 0;\r\n\r\n\tlet delayms = 0;\r\n\r\n\tlet res = await axios.get(`https://api.spotify.com/v1/albums/${user.album.id}/tracks`, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + user.token,\r\n\t\t},\r\n\t});\r\n\tconst albumDetails = res.data;\r\n\tlet trackURIs = [];\r\n\tfor (var i = 0; i < albumDetails.total; i++) {\r\n\t\ttrackURIs.push(albumDetails.items[i].uri);\r\n\t}\r\n\r\n\tfor (var j = 0; j < user.selectedPlaylists.length; j++) {\r\n\t\tconst playlist = user.selectedPlaylists[j];\r\n\t\t// Don't add album if it's already on the playlist\r\n\t\tconsole.log(playlist.albumList, user.album.name, playlist.albumList.indexOf(user.album.name));\r\n\t\tif (playlist.albumList.indexOf(user.album.name) === -1) {\r\n\t\t\tlet data =\r\n\t\t\t\tside === 'start'\r\n\t\t\t\t\t? {\r\n\t\t\t\t\t\t\turis: trackURIs,\r\n\t\t\t\t\t\t\tposition: 0,\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t: {\r\n\t\t\t\t\t\t\turis: trackURIs,\r\n\t\t\t\t\t  };\r\n\t\t\ttry {\r\n\t\t\t\tlet res = await axios.post(`https://api.spotify.com/v1/playlists/${playlist.id}/tracks`, data, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: 'Bearer ' + user.token,\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\t// Update local store\r\n\t\t\t\tconst firstTrackPos = side === 'start' ? 0 : user.allPlaylists[playlist.id].tracks.length;\r\n\t\t\t\tuser.allPlaylists[playlist.id].albumList =\r\n\t\t\t\t\tside === 'start'\r\n\t\t\t\t\t\t? `${user.album.name}, ` + user.allPlaylists[playlist.id].albumList\r\n\t\t\t\t\t\t: (user.allPlaylists[playlist.id].albumList += `, ${user.album.name}`);\r\n\r\n\t\t\t\tfor (var k = 0; k < albumDetails.total; k++) {\r\n\t\t\t\t\tlet nextNum = firstTrackPos + k;\r\n\t\t\t\t\tuser.allPlaylists[playlist.id].tracks[nextNum] = {\r\n\t\t\t\t\t\tplace: nextNum,\r\n\t\t\t\t\t\tid: albumDetails.items[k].id,\r\n\t\t\t\t\t\talbum: albumDetails.name,\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tuser.progress.done++;\r\n\t\tuser.progress.percent = (user.progress.done / user.progress.total) * 100;\r\n\t\tdelayms += APIdelay;\r\n\t\tawait delay(delayms);\r\n\t}\r\n}\r\n\r\nexport async function getAllUserPlaylists() {\r\n\t// let nextLink;\r\n\t// let newPlaylistsFromAPI = [];\r\n\t// do {\r\n\t// \tlet res = await axios.get(nextLink || `https://api.spotify.com/v1/me/playlists?limit=50`, {\r\n\t// \t\theaders: {\r\n\t// \t\t\tAuthorization: 'Bearer ' + token,\r\n\t// \t\t},\r\n\t// \t});\r\n\t// \tconsole.log(res);\r\n\t// \tlet playlistBatch = res.data.items;\r\n\t// \tfor (const i in playlistBatch) {\r\n\t// \t\tlet playlist = playlistBatch[i];\r\n\t// \t\tif (playlist.owner.id === user.id) {\r\n\t// \t\t\tlet dupe = playlists.find((element) => element.id === playlist.id);\r\n\t// \t\t\tif (dupe === undefined) {\r\n\t// \t\t\t\tnewPlaylistsFromAPI.push({\r\n\t// \t\t\t\t\tid: playlist.id,\r\n\t// \t\t\t\t\tname: playlist.name,\r\n\t// \t\t\t\t\turl: playlist.external_urls.spotify,\r\n\t// \t\t\t\t\ttracks_endpoint: playlist.tracks.href,\r\n\t// \t\t\t\t\ttracks: {},\r\n\t// \t\t\t\t\talbumList: 'Loading...',\r\n\t// \t\t\t\t\talbums: {},\r\n\t// \t\t\t\t});\r\n\t// \t\t\t}\r\n\t// \t\t}\r\n\t// \t}\r\n\t// \tnextLink = res.data.next;\r\n\t// } while (nextLink);\r\n\t// const newList = [...playlists].concat(newPlaylistsFromAPI);\r\n\t// setPlaylists(newList);\r\n\t// localStorage.setItem('user-playlists', JSON.stringify(newList));\r\n\t// const delayIncrement = 300;\r\n\t// let currentDelay = -delayIncrement;\r\n\t// for (const i in playlists) {\r\n\t// \tlet playlist = playlists[i];\r\n\t// \tif (playlist.albumList === 'Loading...') {\r\n\t// \t\tconst [newTracks, newAlbums, newAlbumList] = await getTracksAndAlbums(playlist.id, currentDelay);\r\n\t// \t\tconsole.log(newTracks, newAlbums, newAlbumList);\r\n\t// \t\tlet playlistsCopy = [...playlists];\r\n\t// \t\tplaylistsCopy[i].tracks = newTracks;\r\n\t// \t\tplaylistsCopy[i].albums = newAlbums;\r\n\t// \t\tplaylistsCopy[i].albumList = newAlbumList;\r\n\t// \t\tsetPlaylists(playlistsCopy);\r\n\t// \t\tlocalStorage.setItem('user-playlists', JSON.stringify(playlistsCopy));\r\n\t// \t}\r\n\t// }\r\n}\r\n\r\nasync function delay(ms) {\r\n\tawait timeout(ms);\r\n}\r\n\r\nconst timeout = (ms) => new Promise((res) => setTimeout(res, ms));\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport * as api from './../api';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport { view } from '@risingstack/react-easy-state';\r\nimport { user } from './../store';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t\tflexWrap: 'wrap',\r\n\t\tjustifyContent: 'flex-start',\r\n\t},\r\n\titem: {\r\n\t\tmargin: 5,\r\n\t},\r\n\tprogressBox: {\r\n\t\twidth: '100%',\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t},\r\n\tprogress: {\r\n\t\tflexGrow: '1',\r\n\t},\r\n}));\r\n\r\nconst ActionButtons = (props) => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<div className={classes.progressBox}>\r\n\t\t\t\t<Typography variant=\"subtitle1\">Current Task</Typography>\r\n\t\t\t\t<LinearProgress\r\n\t\t\t\t\tvariant=\"determinate\"\r\n\t\t\t\t\tvalue={user.progress.percent}\r\n\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\tclassName={classes.progress}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<Button\r\n\t\t\t\tvariant=\"contained\"\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tclassName={classes.item}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tapi.addAlbum('start');\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tAdd to start\r\n\t\t\t</Button>\r\n\t\t\t<Button\r\n\t\t\t\tvariant=\"contained\"\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tclassName={classes.item}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tapi.addAlbum('end');\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tAdd to end\r\n\t\t\t</Button>\r\n\t\t\t<Button variant=\"contained\" color=\"primary\" className={classes.item}>\r\n\t\t\t\tAdd to start and push last album\r\n\t\t\t</Button>\r\n\t\t\t<Button\r\n\t\t\t\tvariant=\"contained\"\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tclassName={classes.item}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tlocalStorage.setItem('token', '');\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tClear Token\r\n\t\t\t</Button>\r\n\t\t\t<Button\r\n\t\t\t\tvariant=\"contained\"\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tclassName={classes.item}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tlocalStorage.removeItem('user');\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tReload all playlists\r\n\t\t\t</Button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(ActionButtons);\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport AlbumList from './AlbumList';\r\nimport PlaylistTable from './PlaylistTable';\r\nimport ActionButtons from './ActionButtons';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t},\r\n\tpaper: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\ttextAlign: 'left',\r\n\t\tcolor: theme.palette.text.secondary,\r\n\t},\r\n}));\r\n\r\nconst PlaylistAlbumsPage = (props) => {\r\n\tconst { token } = props;\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t<Grid item xs={3}>\r\n\t\t\t\t\t{/* <Typography component=\"h5\">Albums</Typography> */}\r\n\t\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t\t<AlbumList token={token} />\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={9}>\r\n\t\t\t\t\t{/* <Typography component=\"h5\">Playlists</Typography> */}\r\n\t\t\t\t\t<PlaylistTable token={token} />\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<ActionButtons token={token} />\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PlaylistAlbumsPage;\r\n","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Box from '@material-ui/core/Box';\r\nimport Button from '@material-ui/core/Button';\r\nimport useAxios from 'axios-hooks';\r\n\r\nimport { view } from '@risingstack/react-easy-state';\r\nimport { user } from './../store';\r\n\r\nimport PlaylistAlbumsPage from './PlaylistAlbumsPage';\r\n\r\nfunction TabPanel(props) {\r\n\tconst { children, value, index, ...other } = props;\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\trole=\"tabpanel\"\r\n\t\t\thidden={value !== index}\r\n\t\t\tid={`simple-tabpanel-${index}`}\r\n\t\t\taria-labelledby={`simple-tab-${index}`}\r\n\t\t\t{...other}\r\n\t\t>\r\n\t\t\t{value === index && <Box p={3}>{children}</Box>}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction a11yProps(index) {\r\n\treturn {\r\n\t\tid: `simple-tab-${index}`,\r\n\t\t'aria-controls': `simple-tabpanel-${index}`,\r\n\t};\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t\t// backgroundColor: theme.palette.background.paper,\r\n\t},\r\n}));\r\n\r\nconst Main = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst { token } = props;\r\n\tconst [value, setValue] = useState(0);\r\n\r\n\tconst [{ data, loading, error }, refetch] = useAxios({\r\n\t\turl: 'https://api.spotify.com/v1/me',\r\n\t\tmethod: 'GET',\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\n\tif (data) {\r\n\t\tconsole.log(data);\r\n\t\tuser.name = data.display_name;\r\n\t\tuser.id = data.id;\r\n\t}\r\n\r\n\tconst handleChange = (event, newValue) => {\r\n\t\tsetValue(newValue);\r\n\t};\r\n\r\n\tif (user.id !== '') {\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<AppBar position=\"static\">\r\n\t\t\t\t\t<Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\">\r\n\t\t\t\t\t\t<Tab label=\"Playlist Albums\" {...a11yProps(0)} />\r\n\t\t\t\t\t\t<Tab label=\"Nothing... for now\" {...a11yProps(1)} />\r\n\t\t\t\t\t</Tabs>\r\n\t\t\t\t</AppBar>\r\n\t\t\t\t<TabPanel value={value} index={0}>\r\n\t\t\t\t\t<PlaylistAlbumsPage token={token} />\r\n\t\t\t\t</TabPanel>\r\n\t\t\t\t<TabPanel value={value} index={1}>\r\n\t\t\t\t\tItem Two\r\n\t\t\t\t</TabPanel>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tif (error) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tlocalStorage.setItem('token', '');\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tClear Token\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<p>Loading...</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(Main);\r\n","import React, { Component } from 'react';\r\nimport { authEndpoint, clientId, redirectUri, scopes } from './config';\r\nimport hash from './hash';\r\nimport Main from './components/Main';\r\nimport logo from './logo.svg';\r\nimport './App.css';\r\nimport { user } from './store';\r\n\r\nclass App extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\ttoken: null,\r\n\t\t\titem: {\r\n\t\t\t\talbum: {\r\n\t\t\t\t\timages: [{ url: '' }],\r\n\t\t\t\t},\r\n\t\t\t\tname: '',\r\n\t\t\t\tartists: [{ name: '' }],\r\n\t\t\t\tduration_ms: 0,\r\n\t\t\t},\r\n\t\t\tis_playing: 'Paused',\r\n\t\t\tprogress_ms: 0,\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\t// Set token\r\n\t\tlet _token = hash.access_token || localStorage.getItem('token');\r\n\r\n\t\tif (_token) {\r\n\t\t\t// Set token\r\n\t\t\tthis.setState({\r\n\t\t\t\ttoken: _token,\r\n\t\t\t});\r\n\t\t\tlocalStorage.setItem('token', _token);\r\n\t\t\tuser.token = _token;\r\n\t\t\t// this.getCurrentlyPlaying(_token);\r\n\t\t}\r\n\t}\r\n\r\n\tclearLocalStorage() {\r\n\t\tlocalStorage.setItem('token', '');\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"App\">\r\n\t\t\t\t<header>\r\n\t\t\t\t\t{!this.state.token && (\r\n\t\t\t\t\t\t<div className=\"App-header\">\r\n\t\t\t\t\t\t\t<img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn--loginApp-link\"\r\n\t\t\t\t\t\t\t\thref={`${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\r\n\t\t\t\t\t\t\t\t\t'%20'\r\n\t\t\t\t\t\t\t\t)}&response_type=token&show_dialog=true`}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tLogin to Spotify\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{this.state.token && <Main token={this.state.token} />}\r\n\t\t\t\t</header>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}