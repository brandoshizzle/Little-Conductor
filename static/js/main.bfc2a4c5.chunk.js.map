{"version":3,"sources":["logo.svg","config.js","hash.js","store.js","components/AlbumList.js","api.js","components/PlaylistTable.js","components/ActionButtons.js","components/AlbumChips.js","components/PlaylistAlbumsPage.js","components/Logger.js","components/Main.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","scopes","hash","window","location","substring","split","reduce","initial","item","parts","decodeURIComponent","defaultUser","name","id","token","allPlaylists","filteredPlaylists","selectedAlbums","allAlbums","selectedPlaylists","progress","done","total","percent","log","newLine","color","textColor","user","logArray","unshift","text","start","normal","end","errors","store","localStorage","getItem","merge","JSON","parse","playlistArray","test","playlist","newObj","Object","objectSpread","push","observe","setItem","stringify","useStyles","makeStyles","theme","root","width","backgroundColor","palette","background","paper","list","position","overflow","maxHeight","filter","obj","predicate","keys","key","res","view","props","classes","useEffect","_loadAlbums","asyncToGenerator","regenerator_default","a","mark","_callee","nextLink","i","wrap","_context","prev","next","axios","get","headers","Authorization","sent","console","data","items","length","concat","values","stop","apply","this","arguments","loadAlbums","handleListItemClick","event","indexOf","newSelectedAlbums","react_default","createElement","className","Typography","variant","List","component","aria-label","album","album_type","map","rDate","Date","release_date","ListItem","button","selected","onClick","ListItemAvatar","Avatar","src","images","url","ListItemText","primary","secondary","toLocaleDateString","year","month","day","APIdelay","addAlbums","_x","_addAlbums","side","albumDetails","delayms","trackURIs","newAlbumsString","addedTime","newAlbumsList","cha","j","_res","resetProgress","uri","duration_ms","uris","post","Content-Type","status","albumList","playlistMilliseconds","lastUpdated","now","toString","albums","t0","updateProgress","delay","_callee2","description","_context2","put","getPlaylistTracksAndAlbums","_x3","_getPlaylistTracksAndAlbums","_callee3","album_id","APItracks","tracks","hasLSAlbum","track","trackAddedDate","_context3","place","added_at","hasOwnProperty","entries","undefined","abrupt","_callee4","ms","_context4","timeout","Promise","setTimeout","tableIcons","Add","forwardRef","ref","AddBox_default","assign","Check","Check_default","Clear","Clear_default","Delete","DeleteOutline_default","DetailPanel","ChevronRight_default","Edit","Edit_default","Export","SaveAlt_default","Filter","FilterList_default","FirstPage","FirstPage_default","LastPage","LastPage_default","NextPage","PreviousPage","ChevronLeft_default","ResetSearch","Search","Search_default","SortArrow","ArrowDownward_default","ThirdStateCheck","Remove_default","ViewColumn","ViewColumn_default","display","justifyContent","flexWrap","listStyle","padding","spacing","margin","chip","_delay","_loadTable","playlistBatch","currentDelay","_i","_playlist","_yield$api$getPlaylis","_yield$api$getPlaylis2","newTracks","newAlbums","owner","external_urls","spotify","tracks_endpoint","href","t1","value","api","slicedToArray","loadTable","style","maxWidth","dist_default","columns","title","field","render","rowData","d","h","m","s","Math","floor","icons","options","showTitle","selection","paging","pageSize","draggable","onSelectionChange","rows","bg","progressBox","alignItems","flexGrow","_useState","useState","_useState2","desc","setDesc","LinearProgress","flexBasis","paddingTop","Button","textAlign","TextField","label","onChange","e","target","_x2","_replaceDescription","removeItem","Paper","albumID","index","chipToDelete","Chip","icon","onDelete","height","PlaylistAlbumsPage","top","left","components_AlbumList","components_AlbumChips","components_ActionButtons","Grid","container","xs","components_PlaylistTable","panelHeight","setPanelHeight","_useState3","_useState4","setOverflow","right","zIndex","transition","overflowY","paddingLeft","logline","IconButton","MenuOpen_default","TabPanel","children","other","objectWithoutProperties","role","hidden","aria-labelledby","Box","a11yProps","aria-controls","setValue","_useAxios","useAxios","method","_useAxios2","_useAxios2$","error","loading","display_name","AppBar","Tabs","newValue","Tab","components_Logger","components_PlaylistAlbumsPage","App","_this","classCallCheck","_super","call","state","artists","is_playing","progress_ms","_token","access_token","setState","logo","alt","join","components_Main","Component","ReactDOM","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.bfc2a4c5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";","export const authEndpoint = \"https://accounts.spotify.com/authorize\";\r\n\r\n// Replace with your app's client ID, redirect URI and desired scopes\r\nexport const clientId = \"149f235f7ad941419d900b585b05d9e3\";\r\n// export const redirectUri = \"http://localhost:3000/redirect\";\r\nexport const redirectUri = \"https://brandoshizzle.github.io/Little-Conductor/\";\r\nexport const scopes = [\r\n\t\"user-read-email\",\r\n\t\"playlist-modify-public\",\r\n\t\"playlist-modify-private\",\r\n];\r\n","// Get the hash of the url\r\nconst hash = window.location.hash\r\n  .substring(1)\r\n  .split(\"&\")\r\n  .reduce(function(initial, item) {\r\n    if (item) {\r\n      var parts = item.split(\"=\");\r\n      initial[parts[0]] = decodeURIComponent(parts[1]);\r\n    }\r\n    return initial;\r\n  }, {});\r\nwindow.location.hash = \"\";\r\n\r\nexport default hash;\r\n","import { store } from '@risingstack/react-easy-state';\r\nimport { observe } from '@nx-js/observer-util';\r\nimport merge from 'lodash/merge';\r\n\r\nconst defaultUser = {\r\n\tname: '',\r\n\tid: '',\r\n\ttoken: '',\r\n\tallPlaylists: {},\r\n\tfilteredPlaylists: [],\r\n\tselectedAlbums: [],\r\n\tallAlbums: {},\r\n\tselectedPlaylists: [],\r\n\tprogress: {\r\n\t\tdone: 0,\r\n\t\ttotal: 0,\r\n\t\tpercent: 0,\r\n\t},\r\n\tlog: (newLine, color) => {\r\n\t\tconst textColor = color || 'normal';\r\n\t\tconst colors = {\r\n\t\t\tstart: 'green',\r\n\t\t\tnormal: '#ddd',\r\n\t\t\tend: 'red',\r\n\t\t};\r\n\t\tuser.logArray.unshift({ text: newLine, color: colors[textColor] });\r\n\t},\r\n\tlogArray: [],\r\n\terrors: [],\r\n};\r\n\r\nexport const user = store(\r\n\tlocalStorage.getItem('user') != null ? merge(defaultUser, JSON.parse(localStorage.getItem('user'))) : defaultUser\r\n);\r\n\r\nobserve(() => {\r\n\tlocalStorage.setItem('user', JSON.stringify(user));\r\n});\r\n\r\n// observe(() => {\r\n// \tplaylistArray = [];\r\n// \tfor (var playlist in user.allPlaylists) {\r\n// \t\tconst newObj = {\r\n// \t\t\t...user.allPlaylists[playlist],\r\n// \t\t};\r\n// \t\tplaylistArray.push(newObj);\r\n// \t}\r\n// \t// playlistArray = Object.values(user.allPlaylists);\r\n// \tconsole.log(playlistArray);\r\n// });\r\n\r\nexport function playlistArray() {\r\n\tlet test = [];\r\n\tfor (var playlist in user.allPlaylists) {\r\n\t\tconst newObj = {\r\n\t\t\t...user.allPlaylists[playlist],\r\n\t\t};\r\n\t\ttest.push(newObj);\r\n\t}\r\n\t// playlistArray = Object.values(user.allPlaylists);\r\n\t// console.log(test);\r\n\treturn test;\r\n}\r\n\r\nwindow.user = user;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n// import useAxios from 'axios-hooks';\r\nimport axios from \"axios\";\r\nimport { view } from \"@risingstack/react-easy-state\";\r\nimport { user } from \"./../store\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\twidth: \"100%\",\r\n\t\tbackgroundColor: theme.palette.background.paper,\r\n\t},\r\n\tlist: {\r\n\t\tposition: \"relative\",\r\n\t\toverflow: \"auto\",\r\n\t\tmaxHeight: \"50vh\",\r\n\t},\r\n}));\r\n\r\nObject.filter = (obj, predicate) =>\r\n\tObject.keys(obj)\r\n\t\t.filter((key) => predicate(obj[key]))\r\n\t\t.reduce((res, key) => ((res[key] = obj[key]), res), {});\r\n\r\nconst AlbumList = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst { token } = props;\r\n\t// const [selectedAlbums, setSelectedAlbums] = useState([]);\r\n\t// let [albums, setAlbums] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function loadAlbums() {\r\n\t\t\tlet nextLink;\r\n\t\t\tuser.log(\"Getting LS albums...\");\r\n\t\t\tdo {\r\n\t\t\t\tlet res = await axios.get(\r\n\t\t\t\t\tnextLink ||\r\n\t\t\t\t\t\t\"https://api.spotify.com/v1/artists/4SCWiQbJCMTHK737aNUqBJ/albums?offset=0&limit=50&market=CA\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: \"Bearer \" + token,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\t// console.log(res);\r\n\t\t\t\t// albums = albums.concat(res.data.items);\r\n\t\t\t\tconsole.log(user);\r\n\t\t\t\tfor (var i = 0; i < res.data.items.length; i++) {\r\n\t\t\t\t\tuser.allAlbums[res.data.items[i].id] = res.data.items[i];\r\n\t\t\t\t}\r\n\t\t\t\tnextLink = res.data.next;\r\n\t\t\t} while (nextLink);\r\n\t\t\tuser.log(`Loaded ${Object.values(user.allAlbums).length} albums`);\r\n\t\t\tconsole.log(user.allAlbums);\r\n\t\t}\r\n\t\t// Get all LS albums\r\n\t\tloadAlbums();\r\n\t\tuser.selectedAlbums = [];\r\n\t}, []);\r\n\r\n\tconst handleListItemClick = (event, id) => {\r\n\t\tif (user.selectedAlbums.indexOf(id) > -1) {\r\n\t\t\tconst newSelectedAlbums = user.selectedAlbums.filter(\r\n\t\t\t\t(item) => item !== id\r\n\t\t\t);\r\n\t\t\tuser.selectedAlbums = newSelectedAlbums;\r\n\t\t} else {\r\n\t\t\tuser.selectedAlbums = user.selectedAlbums.concat(id);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Typography variant=\"body1\">Releases</Typography>\r\n\t\t\t<List\r\n\t\t\t\tclassName={classes.list}\r\n\t\t\t\tcomponent=\"nav\"\r\n\t\t\t\taria-label=\"main mailbox folders\">\r\n\t\t\t\t<Typography variant=\"body1\">Albums</Typography>\r\n\t\t\t\t{user.allAlbums &&\r\n\t\t\t\t\tObject.values(\r\n\t\t\t\t\t\tObject.filter(\r\n\t\t\t\t\t\t\tuser.allAlbums,\r\n\t\t\t\t\t\t\t(album) => album.album_type === \"album\"\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t).map((album, i) => {\r\n\t\t\t\t\t\tconst rDate = new Date(album.release_date);\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\tselected={\r\n\t\t\t\t\t\t\t\t\tuser.selectedAlbums.indexOf(album.id) > -1\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tonClick={(event) =>\r\n\t\t\t\t\t\t\t\t\thandleListItemClick(event, album.id)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tkey={album.id}>\r\n\t\t\t\t\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"square\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={album.images[1].url}></Avatar>\r\n\t\t\t\t\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tprimary={album.name}\r\n\t\t\t\t\t\t\t\t\tsecondary={rDate.toLocaleDateString(\r\n\t\t\t\t\t\t\t\t\t\t\"en-US\",\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tyear: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t\tmonth: \"long\",\r\n\t\t\t\t\t\t\t\t\t\t\tday: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t<Typography variant=\"body1\">Singles</Typography>\r\n\t\t\t\t{user.allAlbums &&\r\n\t\t\t\t\tObject.values(\r\n\t\t\t\t\t\tObject.filter(\r\n\t\t\t\t\t\t\tuser.allAlbums,\r\n\t\t\t\t\t\t\t(album) => album.album_type === \"single\"\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t).map((album, i) => {\r\n\t\t\t\t\t\tconst rDate = new Date(album.release_date);\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\tselected={\r\n\t\t\t\t\t\t\t\t\tuser.selectedAlbums.indexOf(album.id) > -1\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tonClick={(event) =>\r\n\t\t\t\t\t\t\t\t\thandleListItemClick(event, album.id)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tkey={album.id}>\r\n\t\t\t\t\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"square\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={album.images[1].url}></Avatar>\r\n\t\t\t\t\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tprimary={album.name}\r\n\t\t\t\t\t\t\t\t\tsecondary={rDate.toLocaleDateString(\r\n\t\t\t\t\t\t\t\t\t\t\"en-US\",\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tyear: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t\tmonth: \"long\",\r\n\t\t\t\t\t\t\t\t\t\t\tday: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t</List>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(AlbumList);\r\n","import { user } from \"./store\";\r\nimport axios from \"axios\";\r\n\r\nconst APIdelay = 300;\r\n\r\nexport async function addAlbums(side) {\r\n\tresetProgress();\r\n\tlet albumDetails = [];\r\n\tlet delayms = 0;\r\n\tlet trackURIs = [];\r\n\tlet newAlbumsString = \", \";\r\n\tlet addedTime = 0;\r\n\tlet newAlbumsList = [];\r\n\tuser.log(\r\n\t\t`It's time to add ${user.selectedAlbums.length} albums to the ${side} of ${user.selectedPlaylists.length} playlists`,\r\n\t\t\"start\"\r\n\t);\r\n\tfor (var i = 0; i < user.selectedAlbums.length; i++) {\r\n\t\tuser.log(\r\n\t\t\t`Grabbing track info for ${\r\n\t\t\t\tuser.allAlbums[user.selectedAlbums[i]].name\r\n\t\t\t}`\r\n\t\t);\r\n\t\tlet res = await axios.get(\r\n\t\t\t`https://api.spotify.com/v1/albums/${user.selectedAlbums[i]}/tracks`,\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: \"Bearer \" + user.token,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t);\r\n\t\talbumDetails = albumDetails.concat(res.data);\r\n\t\tnewAlbumsString += `${user.allAlbums[user.selectedAlbums[i]].name}, `;\r\n\t\tnewAlbumsList.push(user.allAlbums[user.selectedAlbums[i]]);\r\n\t\t// console.log(albumDetails);\r\n\t\tfor (var cha = 0; cha < albumDetails[i].total; cha++) {\r\n\t\t\ttrackURIs.push(albumDetails[i].items[cha].uri);\r\n\t\t\taddedTime += albumDetails[i].items[cha].duration_ms;\r\n\t\t}\r\n\t}\r\n\t// console.log(trackURIs);\r\n\r\n\t// Go through each playlist and add the albums to it\r\n\tfor (var j = 0; j < user.selectedPlaylists.length; j++) {\r\n\t\tconst playlist = user.selectedPlaylists[j];\r\n\t\t// Don't add album if it's already on the playlist\r\n\t\t// console.log(playlist.albumList, user.album.name, playlist.albumList.indexOf(user.album.name));\r\n\t\t// if (playlist.albumList.indexOf(user.album.name) === -1) {\r\n\t\tif (true) {\r\n\t\t\tlet data =\r\n\t\t\t\tside === \"start\"\r\n\t\t\t\t\t? {\r\n\t\t\t\t\t\t\turis: trackURIs,\r\n\t\t\t\t\t\t\tposition: 0,\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t: {\r\n\t\t\t\t\t\t\turis: trackURIs,\r\n\t\t\t\t\t  };\r\n\t\t\ttry {\r\n\t\t\t\tlet res = await axios.post(\r\n\t\t\t\t\t`https://api.spotify.com/v1/playlists/${playlist.id}/tracks`,\r\n\t\t\t\t\tdata,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: \"Bearer \" + user.token,\r\n\t\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\t// If successful, update local\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tif (res.status === 201) {\r\n\t\t\t\t\tuser.log(\r\n\t\t\t\t\t\t`Successfully plopped ${trackURIs.length} beats onto ${playlist.name}.`\r\n\t\t\t\t\t);\r\n\t\t\t\t\t// Update list of albums\r\n\t\t\t\t\tif (side === \"start\") {\r\n\t\t\t\t\t\tuser.allPlaylists[playlist.id].albumList =\r\n\t\t\t\t\t\t\tnewAlbumsString.substring(2) +\r\n\t\t\t\t\t\t\tuser.allPlaylists[playlist.id].albumList;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuser.allPlaylists[playlist.id].albumList =\r\n\t\t\t\t\t\t\tuser.allPlaylists[playlist.id].albumList +\r\n\t\t\t\t\t\t\tnewAlbumsString.substring(\r\n\t\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t\tnewAlbumsString.length - 2\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Update total time\r\n\t\t\t\t\tuser.allPlaylists[\r\n\t\t\t\t\t\tplaylist.id\r\n\t\t\t\t\t].playlistMilliseconds += addedTime;\r\n\t\t\t\t\t// Update lastUpdated\r\n\t\t\t\t\tuser.allPlaylists[\r\n\t\t\t\t\t\tplaylist.id\r\n\t\t\t\t\t].lastUpdated = Date.now().toString();\r\n\t\t\t\t\t// Update albums array\r\n\t\t\t\t\tuser.allPlaylists[playlist.id].albums.concat(newAlbumsList);\r\n\t\t\t\t\t// \tuser.allPlaylists[id].tracks = newTracks;\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tuser.log(`Houston, we had an issue with ${playlist.name}...`);\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tupdateProgress();\r\n\t\tdelayms += APIdelay;\r\n\t\tawait delay(delayms);\r\n\t}\r\n\r\n\tuser.log(`All finished big guy.`, \"end\");\r\n}\r\n\r\nexport async function replaceDescription(description) {\r\n\tresetProgress();\r\n\tlet delayms = 0;\r\n\tuser.log(\r\n\t\t`Description time! Changing the description of ${user.selectedPlaylists.length} playlists.`,\r\n\t\t\"start\"\r\n\t);\r\n\t// Go through each playlist and replace the description\r\n\tfor (var j = 0; j < user.selectedPlaylists.length; j++) {\r\n\t\tconst playlist = user.selectedPlaylists[j];\r\n\t\tlet data = { description };\r\n\r\n\t\ttry {\r\n\t\t\tlet res = await axios.put(\r\n\t\t\t\t`https://api.spotify.com/v1/playlists/${playlist.id}/`,\r\n\t\t\t\tdata,\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: \"Bearer \" + user.token,\r\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\t// If successful, update local\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tuser.log(\r\n\t\t\t\t\t`Bam. Description of ${user.selectedPlaylists[j].name} updated.`\r\n\t\t\t\t);\r\n\t\t\t\tuser.allPlaylists[playlist.id].description = description;\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tuser.log(`Uh oh! There was an issue with .`);\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n\r\n\t\tupdateProgress();\r\n\t\tdelayms += APIdelay;\r\n\t\tawait delay(delayms);\r\n\t}\r\n\tresetProgress();\r\n\tuser.log(`We're done here.`, \"end\");\r\n}\r\n\r\nexport async function getPlaylistTracksAndAlbums(album_id) {\r\n\tlet nextLink;\r\n\tlet APItracks = [];\r\n\tlet tracks = {};\r\n\tlet albums = [];\r\n\tlet albumList = \"\";\r\n\tlet lastUpdated = Date.parse(\"1980-01-01T12:00:00Z\");\r\n\tlet playlistMilliseconds = 0;\r\n\tlet hasLSAlbum = false;\r\n\tdo {\r\n\t\tlet res = await axios.get(\r\n\t\t\tnextLink ||\r\n\t\t\t\t`https://api.spotify.com/v1/playlists/${album_id}/tracks?fields=`,\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: \"Bearer \" + user.token,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t);\r\n\t\t// console.log(res);\r\n\t\tAPItracks = APItracks.concat(res.data.items);\r\n\t\tnextLink = res.data.next;\r\n\t} while (nextLink);\r\n\r\n\tfor (const i in APItracks) {\r\n\t\tconst track = APItracks[i].track;\r\n\t\ttracks[i] = { place: i, id: track.id, album: track.album.name };\r\n\t\tplaylistMilliseconds += track.duration_ms;\r\n\t\tconst trackAddedDate = Date.parse(APItracks[i].added_at);\r\n\r\n\t\tif (user.allAlbums.hasOwnProperty(track.album.id)) {\r\n\t\t\thasLSAlbum = true;\r\n\t\t}\r\n\t\t// Updated lastUpdated if trackAddedDate is later\r\n\t\tif (trackAddedDate > lastUpdated) {\r\n\t\t\tlastUpdated = trackAddedDate;\r\n\t\t}\r\n\r\n\t\tif (albumList.indexOf(track.album.name) === -1) {\r\n\t\t\talbums.push({ id: track.album.id, name: track.album.name });\r\n\t\t\talbumList += track.album.name + \", \";\r\n\t\t}\r\n\t}\r\n\r\n\tif (!hasLSAlbum && Object.entries(tracks).length > 0) {\r\n\t\ttracks = undefined;\r\n\t}\r\n\r\n\t// Remove comma/space from album list\r\n\talbumList = albumList.substring(0, albumList.length - 2);\r\n\r\n\treturn [tracks, albums, albumList, lastUpdated, playlistMilliseconds];\r\n}\r\n\r\nfunction resetProgress() {\r\n\tuser.progress.done = 0;\r\n\tuser.progress.total = user.selectedPlaylists.length;\r\n\tuser.progress.percent = 0;\r\n}\r\nfunction updateProgress() {\r\n\tuser.progress.done++;\r\n\tuser.progress.percent = (user.progress.done / user.progress.total) * 100;\r\n}\r\n\r\nasync function delay(ms) {\r\n\tawait timeout(ms);\r\n}\r\n\r\nconst timeout = (ms) => new Promise((res) => setTimeout(res, ms));\r\n","import React, { forwardRef, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport MaterialTable from \"material-table\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport axios from \"axios\";\r\nimport { ReactSortable } from \"react-sortablejs\";\r\n\r\nimport * as api from \"./../api\";\r\n\r\nimport { view } from \"@risingstack/react-easy-state\";\r\nimport { playlistArray, user } from \"./../store\";\r\n\r\nimport AddBox from \"@material-ui/icons/AddBox\";\r\nimport ArrowDownward from \"@material-ui/icons/ArrowDownward\";\r\nimport Check from \"@material-ui/icons/Check\";\r\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\r\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\r\nimport Clear from \"@material-ui/icons/Clear\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\nimport Edit from \"@material-ui/icons/Edit\";\r\nimport FilterList from \"@material-ui/icons/FilterList\";\r\nimport FirstPage from \"@material-ui/icons/FirstPage\";\r\nimport LastPage from \"@material-ui/icons/LastPage\";\r\nimport Remove from \"@material-ui/icons/Remove\";\r\nimport SaveAlt from \"@material-ui/icons/SaveAlt\";\r\nimport Search from \"@material-ui/icons/Search\";\r\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\r\n\r\nconst tableIcons = {\r\n\tAdd: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n\tCheck: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n\tClear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tDelete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n\tDetailPanel: forwardRef((props, ref) => (\r\n\t\t<ChevronRight {...props} ref={ref} />\r\n\t)),\r\n\tEdit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n\tExport: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n\tFilter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n\tFirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n\tLastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n\tNextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n\tPreviousPage: forwardRef((props, ref) => (\r\n\t\t<ChevronLeft {...props} ref={ref} />\r\n\t)),\r\n\tResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tSearch: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n\tSortArrow: forwardRef((props, ref) => (\r\n\t\t<ArrowDownward {...props} ref={ref} />\r\n\t)),\r\n\tThirdStateCheck: forwardRef((props, ref) => (\r\n\t\t<Remove {...props} ref={ref} />\r\n\t)),\r\n\tViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\tflexWrap: \"wrap\",\r\n\t\tlistStyle: \"none\",\r\n\t\tpadding: theme.spacing(0.5),\r\n\t\tmargin: 0,\r\n\t},\r\n\tchip: {\r\n\t\tmargin: theme.spacing(0.5),\r\n\t},\r\n}));\r\n\r\nconst PlaylistTable = (props) => {\r\n\tconst classes = useStyles();\r\n\r\n\t// Get data from storage or API on launch\r\n\tuseEffect(() => {\r\n\t\tasync function loadTable() {\r\n\t\t\tlet nextLink;\r\n\t\t\tuser.log(`Fetching all of ${user.name}'s playlists`);\r\n\t\t\tdo {\r\n\t\t\t\tlet res = await axios.get(\r\n\t\t\t\t\tnextLink ||\r\n\t\t\t\t\t\t`https://api.spotify.com/v1/me/playlists?limit=50`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: \"Bearer \" + user.token,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\t// console.log(res);\r\n\t\t\t\tlet playlistBatch = res.data.items;\r\n\t\t\t\tuser.log(`Retrieved ${res.data.items.length} playlists`);\r\n\t\t\t\tfor (const i in playlistBatch) {\r\n\t\t\t\t\tlet playlist = playlistBatch[i];\r\n\t\t\t\t\tif (playlist.owner.id === user.id) {\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t!user.allPlaylists.hasOwnProperty(playlist.id) &&\r\n\t\t\t\t\t\t\tuser.filteredPlaylists.indexOf(playlist.id) === -1\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\tuser.allPlaylists[playlist.id] = {\r\n\t\t\t\t\t\t\t\tid: playlist.id,\r\n\t\t\t\t\t\t\t\tname: playlist.name,\r\n\t\t\t\t\t\t\t\turl: playlist.external_urls.spotify,\r\n\t\t\t\t\t\t\t\ttracks_endpoint: playlist.tracks.href,\r\n\t\t\t\t\t\t\t\tdescription: decodeURIComponent(\r\n\t\t\t\t\t\t\t\t\tplaylist.description\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\ttracks: {},\r\n\t\t\t\t\t\t\t\talbumList: \"Loading...\",\r\n\t\t\t\t\t\t\t\talbums: [],\r\n\t\t\t\t\t\t\t\tlastUpdated: \"Loading...\",\r\n\t\t\t\t\t\t\t\tplaylistMilliseconds: \"Loading...\",\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tnextLink = res.data.next;\r\n\t\t\t} while (nextLink);\r\n\r\n\t\t\tconst delayIncrement = 300;\r\n\t\t\tlet currentDelay = -delayIncrement;\r\n\t\t\tfor (const i in user.allPlaylists) {\r\n\t\t\t\tlet playlist = user.allPlaylists[i];\r\n\t\t\t\tif (playlist.albumList === \"Loading...\") {\r\n\t\t\t\t\tawait delay(currentDelay);\r\n\t\t\t\t\tconst [\r\n\t\t\t\t\t\tnewTracks,\r\n\t\t\t\t\t\tnewAlbums,\r\n\t\t\t\t\t\talbumList,\r\n\t\t\t\t\t\tlastUpdated,\r\n\t\t\t\t\t\tplaylistMilliseconds,\r\n\t\t\t\t\t] = await api.getPlaylistTracksAndAlbums(playlist.id);\r\n\t\t\t\t\t// console.log(newTracks, newAlbums, newAlbumList);\r\n\t\t\t\t\tif (newTracks) {\r\n\t\t\t\t\t\tuser.allPlaylists[playlist.id].tracks = newTracks;\r\n\t\t\t\t\t\tuser.allPlaylists[playlist.id].albums = newAlbums;\r\n\t\t\t\t\t\tuser.allPlaylists[playlist.id].albumList = albumList;\r\n\t\t\t\t\t\tuser.allPlaylists[\r\n\t\t\t\t\t\t\tplaylist.id\r\n\t\t\t\t\t\t].lastUpdated = lastUpdated;\r\n\t\t\t\t\t\tuser.allPlaylists[\r\n\t\t\t\t\t\t\tplaylist.id\r\n\t\t\t\t\t\t].playlistMilliseconds = playlistMilliseconds;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuser.log(`${playlist.name} was not relaxing enough.`);\r\n\t\t\t\t\t\tuser.filteredPlaylists.push(playlist.id);\r\n\t\t\t\t\t\tdelete user.allPlaylists[playlist.id];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// currentDelay += delayIncrement;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Get all user's playlists first, then determine if we need additional API calls\r\n\t\tloadTable();\r\n\t}, []);\r\n\r\n\tasync function delay(ms) {\r\n\t\tawait timeout(ms);\r\n\t}\r\n\r\n\tconst timeout = (ms) => new Promise((res) => setTimeout(res, ms));\r\n\r\n\tfunction handleDelete(name) {\r\n\t\t// Remove album from playlist\r\n\t\tconsole.log(name);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div style={{ maxWidth: \"100%\" }}>\r\n\t\t\t<MaterialTable\r\n\t\t\t\tcolumns={[\r\n\t\t\t\t\t{ title: \"Name\", field: \"name\", width: 250 },\r\n\t\t\t\t\t{ title: \"Description\", field: \"description\", width: 300 },\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"Total length\",\r\n\t\t\t\t\t\tfield: \"playlistMilliseconds\",\r\n\t\t\t\t\t\trender: (rowData) => {\r\n\t\t\t\t\t\t\tconst ms = rowData.playlistMilliseconds;\r\n\t\t\t\t\t\t\tif (ms === \"Loading...\") {\r\n\t\t\t\t\t\t\t\treturn \"Loading...\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar d, h, m, s;\r\n\t\t\t\t\t\t\ts = Math.floor(ms / 1000);\r\n\t\t\t\t\t\t\tm = Math.floor(s / 60);\r\n\t\t\t\t\t\t\ts = s % 60;\r\n\t\t\t\t\t\t\th = Math.floor(m / 60);\r\n\t\t\t\t\t\t\tm = m % 60;\r\n\t\t\t\t\t\t\td = Math.floor(h / 24);\r\n\t\t\t\t\t\t\th = h % 24;\r\n\t\t\t\t\t\t\th += d * 24;\r\n\t\t\t\t\t\t\treturn `${h}:${m}:${s}`;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"Last updated\",\r\n\t\t\t\t\t\tfield: \"lastUpdated\",\r\n\t\t\t\t\t\twidth: 150,\r\n\t\t\t\t\t\trender: (rowData) => {\r\n\t\t\t\t\t\t\tconst now = Date.now().toString();\r\n\t\t\t\t\t\t\treturn `${Math.floor(\r\n\t\t\t\t\t\t\t\t(now - rowData.lastUpdated) / 86400000\r\n\t\t\t\t\t\t\t)} days ago`;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"Albums\",\r\n\t\t\t\t\t\tfield: \"albumList\",\r\n\t\t\t\t\t},\r\n\t\t\t\t]}\r\n\t\t\t\tdata={playlistArray()}\r\n\t\t\t\ticons={tableIcons}\r\n\t\t\t\toptions={{\r\n\t\t\t\t\tshowTitle: false,\r\n\t\t\t\t\tselection: true,\r\n\t\t\t\t\tpaging: false,\r\n\t\t\t\t\tpageSize: 20,\r\n\t\t\t\t\t// maxBodyHeight: '52vh',\r\n\t\t\t\t\tdraggable: false,\r\n\t\t\t\t\t// actionsColumnIndex: -1,\r\n\t\t\t\t}}\r\n\t\t\t\tonSelectionChange={(rows) => (user.selectedPlaylists = rows)}\r\n\t\t\t\t// onRowClick={(event, rowData, togglePanel) => togglePanel()}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(PlaylistTable);\r\n","import React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport * as api from \"./../api\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport { view } from \"@risingstack/react-easy-state\";\r\nimport { user } from \"./../store\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tbg: {\r\n\t\tbackground: theme.palette.background.paper,\r\n\t},\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t\tjustifyContent: \"flex-start\",\r\n\t},\r\n\titem: {\r\n\t\tmargin: 5,\r\n\t},\r\n\tprogressBox: {\r\n\t\twidth: \"100%\",\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t},\r\n\tprogress: {\r\n\t\tflexGrow: \"1\",\r\n\t},\r\n}));\r\n\r\nconst ActionButtons = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst [desc, setDesc] = useState(\"\");\r\n\r\n\tfunction descChange(e) {\r\n\t\tsetDesc(e.target.value);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<div className={classes.progressBox}>\r\n\t\t\t\t\t{/* <Typography variant=\"body1\">Current Task</Typography> */}\r\n\t\t\t\t\t<LinearProgress\r\n\t\t\t\t\t\tvariant=\"determinate\"\r\n\t\t\t\t\t\tvalue={user.progress.percent}\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tclassName={classes.progress}\r\n\t\t\t\t\t\tstyle={{ display: \"none\" }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tvariant=\"body1\"\r\n\t\t\t\t\tstyle={{ flexBasis: \"100%\", paddingTop: 20 }}>\r\n\t\t\t\t\tAlbum Actions\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tapi.addAlbums(\"start\");\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\tAdd to start\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tapi.addAlbums(\"end\");\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\tAdd to end\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tvariant=\"body1\"\r\n\t\t\t\t\tstyle={{ flexBasis: \"100%\", paddingTop: 20 }}>\r\n\t\t\t\t\tPlaylist Actions\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<div style={{ textAlign: \"left\" }}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tid=\"new-description\"\r\n\t\t\t\t\t\tlabel=\"Description\"\r\n\t\t\t\t\t\tonChange={descChange}\r\n\t\t\t\t\t\tstyle={{ width: \"60%\" }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tapi.replaceDescription(desc);\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\tReplace\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* <Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}>\r\n\t\t\t\t\tAdd to start and push last album\r\n\t\t\t\t</Button> */}\r\n\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tvariant=\"body1\"\r\n\t\t\t\t\tstyle={{ flexBasis: \"100%\", paddingTop: 20 }}>\r\n\t\t\t\t\tUtility\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tlocalStorage.setItem(\"token\", \"\");\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\tClear Token\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"user\");\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\tReload all playlists\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(ActionButtons);\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport { view } from '@risingstack/react-easy-state';\r\nimport { user } from './../store';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t\tjustifyContent: 'center',\r\n\t\tflexWrap: 'wrap',\r\n\t\tlistStyle: 'none',\r\n\t\tpadding: theme.spacing(0.5),\r\n\t\tmargin: 0,\r\n\t},\r\n\tchip: {\r\n\t\tmargin: theme.spacing(0.5),\r\n\t},\r\n}));\r\n\r\nconst AlbumChips = () => {\r\n\tconst classes = useStyles();\r\n\tconst handleDelete = (chipToDelete) => () => {\r\n\t\tuser.selectedAlbums = user.selectedAlbums.filter((chip) => chip !== chipToDelete);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Paper component=\"ul\" className={classes.root}>\r\n\t\t\t{user.selectedAlbums.map((albumID, index) => {\r\n\t\t\t\tlet icon;\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<li key={index}>\r\n\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\ticon={icon}\r\n\t\t\t\t\t\t\tlabel={user.allAlbums[albumID].name}\r\n\t\t\t\t\t\t\tonDelete={handleDelete(albumID)}\r\n\t\t\t\t\t\t\tclassName={classes.chip}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</Paper>\r\n\t);\r\n};\r\n\r\nexport default view(AlbumChips);\r\n","import React, { useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport AlbumList from \"./AlbumList\";\r\nimport PlaylistTable from \"./PlaylistTable\";\r\nimport ActionButtons from \"./ActionButtons\";\r\nimport AlbumChips from \"./AlbumChips\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t},\r\n\tpaper: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\ttextAlign: \"left\",\r\n\t\tcolor: theme.palette.text.secondary,\r\n\t\theight: \"95vh\",\r\n\t},\r\n}));\r\n\r\nconst PlaylistAlbumsPage = (props) => {\r\n\tconst { token } = props;\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: \"fixed\",\r\n\t\t\t\t\theight: \"100vh\",\r\n\t\t\t\t\twidth: \"25%\",\r\n\t\t\t\t\ttop: 48,\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t}}>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t<AlbumList token={token} />\r\n\t\t\t\t\t<AlbumChips />\r\n\t\t\t\t\t<ActionButtons token={token} />\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t<Grid item xs={3}>\r\n\t\t\t\t\t{/* <Typography component=\"h5\">Albums</Typography> */}\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={9}>\r\n\t\t\t\t\t{/* <Typography component=\"h5\">Playlists</Typography> */}\r\n\t\t\t\t\t<PlaylistTable token={token} />\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t{/* <ActionButtons token={token} /> */}\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PlaylistAlbumsPage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/MenuOpen';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport { view } from '@risingstack/react-easy-state';\r\nimport { user } from './../store';\r\n\r\nconst Logger = (props) => {\r\n\tconst [panelHeight, setPanelHeight] = useState(48);\r\n\tconst [overflow, setOverflow] = useState('hidden');\r\n\r\n\tfunction expand() {\r\n\t\tsetPanelHeight(panelHeight === 48 ? '80vh' : 48);\r\n\t\tsetOverflow(overflow === 'hidden' ? 'scroll' : 'hidden');\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tuser.logArray = [];\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\tright: 0,\r\n\t\t\t\ttop: 0,\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\talignItems: 'flex-start',\r\n\t\t\t\tjustifyContent: 'flex-end',\r\n\t\t\t\twidth: '50%',\r\n\t\t\t\theight: panelHeight,\r\n\t\t\t\tbackground: 'black',\r\n\t\t\t\tzIndex: 1000,\r\n\t\t\t\ttransition: '0.5s',\r\n\t\t\t\toverflowY: overflow,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div style={{ color: '#ddd', flexGrow: 1, paddingTop: 15, textAlign: 'left', paddingLeft: 12 }}>\r\n\t\t\t\t{user.logArray.map((logline, index) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tcomponent=\"p\"\r\n\t\t\t\t\t\t\tvariant=\"body2\"\r\n\t\t\t\t\t\t\tid=\"last-log\"\r\n\t\t\t\t\t\t\tstyle={{ display: 'block', color: logline.color }}\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{logline.text}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t\t<IconButton\r\n\t\t\t\taria-label=\"delete\"\r\n\t\t\t\tstyle={{ color: 'white' }}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\texpand();\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<MenuIcon />\r\n\t\t\t</IconButton>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(Logger);\r\n","import React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport useAxios from \"axios-hooks\";\r\n\r\nimport { view } from \"@risingstack/react-easy-state\";\r\nimport { user } from \"./../store\";\r\n\r\nimport PlaylistAlbumsPage from \"./PlaylistAlbumsPage\";\r\nimport Logger from \"./Logger\";\r\n\r\nfunction TabPanel(props) {\r\n\tconst { children, value, index, ...other } = props;\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\trole=\"tabpanel\"\r\n\t\t\thidden={value !== index}\r\n\t\t\tid={`simple-tabpanel-${index}`}\r\n\t\t\taria-labelledby={`simple-tab-${index}`}\r\n\t\t\t{...other}>\r\n\t\t\t{value === index && <Box p={3}>{children}</Box>}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction a11yProps(index) {\r\n\treturn {\r\n\t\tid: `simple-tab-${index}`,\r\n\t\t\"aria-controls\": `simple-tabpanel-${index}`,\r\n\t};\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t\theight: \"calc(100vh - 48px)\",\r\n\t\t// backgroundColor: theme.palette.background.paper,\r\n\t},\r\n}));\r\n\r\nconst Main = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst { token } = props;\r\n\tconst [value, setValue] = useState(0);\r\n\r\n\tconst [{ data, loading, error }, refetch] = useAxios({\r\n\t\turl: \"https://api.spotify.com/v1/me\",\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\tAuthorization: \"Bearer \" + token,\r\n\t\t},\r\n\t});\r\n\r\n\tif (data) {\r\n\t\tconsole.log(data);\r\n\t\tuser.name = data.display_name;\r\n\t\tuser.id = data.id;\r\n\t}\r\n\r\n\tconst handleChange = (event, newValue) => {\r\n\t\tsetValue(newValue);\r\n\t};\r\n\r\n\tif (user.id !== \"\") {\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t{/* <div style={{ display: 'flex' }}> */}\r\n\t\t\t\t<AppBar position=\"static\" style={{ width: \"50%\" }}>\r\n\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\taria-label=\"simple tabs example\">\r\n\t\t\t\t\t\t<Tab label=\"Playlist Tools\" {...a11yProps(0)} />\r\n\t\t\t\t\t\t<Tab label=\"Utilities\" {...a11yProps(1)} />\r\n\t\t\t\t\t</Tabs>\r\n\t\t\t\t</AppBar>\r\n\t\t\t\t<Logger />\r\n\t\t\t\t{/* </div> */}\r\n\t\t\t\t<TabPanel value={value} index={0} style={{ height: \"100%\" }}>\r\n\t\t\t\t\t<PlaylistAlbumsPage token={token} />\r\n\t\t\t\t</TabPanel>\r\n\t\t\t\t<TabPanel value={value} index={1}>\r\n\t\t\t\t\tItem Two\r\n\t\t\t\t</TabPanel>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tif (error) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<p>\r\n\t\t\t\t\tIf you're seeing this, click this button, then refresh the\r\n\t\t\t\t\tpage.\r\n\t\t\t\t</p>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tlocalStorage.setItem(\"token\", \"\");\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\tClear Token\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<p>Loading...</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(Main);\r\n","import React, { Component } from 'react';\r\nimport { authEndpoint, clientId, redirectUri, scopes } from './config';\r\nimport hash from './hash';\r\nimport Main from './components/Main';\r\nimport logo from './logo.svg';\r\nimport './App.css';\r\nimport { user } from './store';\r\n\r\nclass App extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\ttoken: null,\r\n\t\t\titem: {\r\n\t\t\t\talbum: {\r\n\t\t\t\t\timages: [{ url: '' }],\r\n\t\t\t\t},\r\n\t\t\t\tname: '',\r\n\t\t\t\tartists: [{ name: '' }],\r\n\t\t\t\tduration_ms: 0,\r\n\t\t\t},\r\n\t\t\tis_playing: 'Paused',\r\n\t\t\tprogress_ms: 0,\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\t// Set token\r\n\t\tlet _token = hash.access_token || localStorage.getItem('token');\r\n\r\n\t\tif (_token) {\r\n\t\t\t// Set token\r\n\t\t\tthis.setState({\r\n\t\t\t\ttoken: _token,\r\n\t\t\t});\r\n\t\t\tlocalStorage.setItem('token', _token);\r\n\t\t\tuser.token = _token;\r\n\t\t\t// this.getCurrentlyPlaying(_token);\r\n\t\t}\r\n\t}\r\n\r\n\tclearLocalStorage() {\r\n\t\tlocalStorage.setItem('token', '');\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"App\">\r\n\t\t\t\t<header>\r\n\t\t\t\t\t{!this.state.token && (\r\n\t\t\t\t\t\t<div className=\"App-header\">\r\n\t\t\t\t\t\t\t<img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn--loginApp-link\"\r\n\t\t\t\t\t\t\t\thref={`${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\r\n\t\t\t\t\t\t\t\t\t'%20'\r\n\t\t\t\t\t\t\t\t)}&response_type=token&show_dialog=true`}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tLogin to Spotify\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{this.state.token && <Main token={this.state.token} />}\r\n\t\t\t\t</header>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}