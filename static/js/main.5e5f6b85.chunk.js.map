{"version":3,"sources":["logo.svg","config.js","hash.js","store.js","components/AlbumList.js","api.js","components/PlaylistTable.js","components/ActionButtons.js","components/AlbumChips.js","components/PlaylistAlbumsPage.js","components/Logger.js","components/Main.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","scopes","hash","window","location","substring","split","reduce","initial","item","parts","decodeURIComponent","defaultUser","name","id","token","allPlaylists","filteredPlaylists","selectedAlbums","allAlbums","selectedPlaylists","progress","done","total","percent","log","newLine","color","textColor","user","logArray","unshift","text","start","normal","end","errors","store","localStorage","getItem","merge","JSON","parse","playlistArray","test","playlist","newObj","Object","objectSpread","push","observe","setItem","stringify","useStyles","makeStyles","theme","root","width","backgroundColor","palette","background","paper","list","position","overflow","maxHeight","filter","obj","predicate","keys","key","res","view","props","classes","useEffect","_loadAlbums","asyncToGenerator","regenerator_default","a","mark","_callee","nextLink","i","wrap","_context","prev","next","axios","get","headers","Authorization","sent","console","data","items","length","concat","values","stop","apply","this","arguments","loadAlbums","handleListItemClick","event","indexOf","newSelectedAlbums","react_default","createElement","className","List","component","aria-label","Typography","variant","album","album_type","map","rDate","Date","release_date","ListItem","button","selected","onClick","style","paddingLeft","paddingBottom","paddingTop","ListItemAvatar","Avatar","src","images","url","ListItemText","primary","secondary","toLocaleDateString","year","month","day","APIdelay","addAlbums","_x","_x2","_addAlbums","side","replaceArg","replace","albumDetails","delayms","trackURIs","newAlbumsString","addedTime","newAlbumsList","newTracksList","cha","j","_res","apiURL","resetProgress","uri","duration_ms","place","tracks","uris","put","Content-Type","post","status","albumList","albums","playlistMilliseconds","arrayConcat","lastUpdated","now","toString","t0","updateProgress","delay","_callee2","description","_context2","_callee3","_context3","getPlaylistTracksAndAlbums","_x4","_getPlaylistTracksAndAlbums","_callee4","album_id","APItracks","hasLSAlbum","track","trackAddedDate","_context4","added_at","hasOwnProperty","entries","undefined","abrupt","_callee5","ms","_context5","timeout","arr1","arr2","forEach","Promise","setTimeout","tableIcons","Add","forwardRef","ref","AddBox_default","assign","Check","Check_default","Clear","Clear_default","Delete","DeleteOutline_default","DetailPanel","ChevronRight_default","Edit","Edit_default","Export","SaveAlt_default","Filter","FilterList_default","FirstPage","FirstPage_default","LastPage","LastPage_default","NextPage","PreviousPage","ChevronLeft_default","ResetSearch","Search","Search_default","SortArrow","ArrowDownward_default","ThirdStateCheck","Remove_default","ViewColumn","ViewColumn_default","display","justifyContent","flexWrap","listStyle","padding","spacing","margin","chip","_delay","_loadTable","playlistBatch","currentDelay","_i","_playlist","_yield$api$getPlaylis","_yield$api$getPlaylis2","newTracks","newAlbums","owner","external_urls","spotify","tracks_endpoint","href","t1","value","api","slicedToArray","loadTable","maxWidth","dist_default","columns","title","field","render","rowData","d","h","m","s","Math","floor","icons","options","showTitle","selection","paging","pageSize","draggable","headerStyle","fontWeight","onSelectionChange","rows","bg","marginRight","marginBottom","progressBox","alignItems","flexGrow","_useState","useState","_useState2","desc","setDesc","LinearProgress","flexBasis","Button","size","textAlign","placeholder","onChange","e","target","type","_x3","_replaceDescription","_refreshPlaylists","removeItem","Paper","albumID","index","chipToDelete","Tooltip","placement","Chip","avatar","height","PlaylistAlbumsPage","top","left","components_AlbumList","components_AlbumChips","components_ActionButtons","sidebarWidth","components_PlaylistTable","panelHeight","setPanelHeight","_useState3","_useState4","setOverflow","right","zIndex","transition","overflowY","logline","IconButton","MenuOpen_default","TabPanel","children","other","objectWithoutProperties","role","hidden","aria-labelledby","Box","a11yProps","aria-controls","setValue","_useAxios","useAxios","method","_useAxios2","_useAxios2$","error","loading","display_name","AppBar","Tabs","newValue","Tab","label","components_Logger","components_PlaylistAlbumsPage","LSTheme","createMuiTheme","main","brown","App","_this","classCallCheck","_super","call","state","artists","is_playing","progress_ms","_token","access_token","setState","ThemeProvider","logo","alt","join","components_Main","Component","ReactDOM","src_App_0","document","getElementById"],"mappings":"6EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,sPCM3BC,EAAS,CACrB,kBACA,yBACA,sDCRKC,EAAOC,OAAOC,SAASF,KAC1BG,UAAU,GACVC,MAAM,KACNC,OAAO,SAASC,EAASC,GACxB,GAAIA,EAAM,CACR,IAAIC,EAAQD,EAAKH,MAAM,KACvBE,EAAQE,EAAM,IAAMC,mBAAmBD,EAAM,IAE/C,OAAOF,GACN,IACLL,OAAOC,SAASF,KAAO,GAERA,mICTTU,EAAc,CACnBC,KAAM,GACNC,GAAI,GACJC,MAAO,GACPC,aAAc,GACdC,kBAAmB,GACnBC,eAAgB,GAChBC,UAAW,GACXC,kBAAmB,GACnBC,SAAU,CACTC,KAAM,EACNC,MAAO,EACPC,QAAS,GAEVC,IAAK,SAACC,EAASC,GACd,IAAMC,EAAYD,GAAS,SAM3BE,EAAKC,SAASC,QAAQ,CAAEC,KAAMN,EAASC,MALxB,CACdM,MAAO,QACPC,OAAQ,OACRC,IAAK,OAE+CP,MAEtDE,SAAU,GACVM,OAAQ,IAGIP,EAAOQ,YACa,MAAhCC,aAAaC,QAAQ,QAAkBC,IAAM5B,EAAa6B,KAAKC,MAAMJ,aAAaC,QAAQ,UAAY3B,GAmBhG,SAAS+B,IACf,IAAIC,EAAO,GACX,IAAK,IAAIC,KAAYhB,EAAKb,aAAc,CACvC,IAAM8B,EAAMC,OAAAC,EAAA,EAAAD,CAAA,GACRlB,EAAKb,aAAa6B,IAEtBD,EAAKK,KAAKH,GAIX,OAAOF,EA1BRM,YAAQ,WACPZ,aAAaa,QAAQ,OAAQV,KAAKW,UAAUvB,MA4B7C1B,OAAO0B,KAAOA,+GCnDRwB,EAAYC,YAAW,SAACC,GAAD,MAAY,CACxCC,KAAM,CACLC,MAAO,OACPC,gBAAiBH,EAAMI,QAAQC,WAAWC,OAE3CC,KAAM,CACLC,SAAU,WACVC,SAAU,OACVC,UAAW,WAIblB,OAAOmB,OAAS,SAACC,EAAKC,GAAN,OACfrB,OAAOsB,KAAKF,GACVD,OAAO,SAACI,GAAD,OAASF,EAAUD,EAAIG,MAC9B/D,OAAO,SAACgE,EAAKD,GAAN,OAAgBC,EAAID,GAAOH,EAAIG,GAAOC,GAAM,KAEtD,IAqHeC,cArHG,SAACC,GAClB,IAAMC,EAAUrB,IACRtC,EAAU0D,EAAV1D,MAIR4D,oBAAU,WAAM,SAAAC,IAAA,OAAAA,EAAA7B,OAAA8B,EAAA,EAAA9B,CAAA+B,EAAAC,EAAAC,KACf,SAAAC,IAAA,IAAAC,EAAAX,EAAAY,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEC1D,EAAKJ,IAAI,wBAFV,cAAA4D,EAAAE,KAAA,EAIkBC,IAAMC,IACrBP,GACC,+FACD,CACCQ,QAAS,CACRC,cAAe,UAAY5E,KAThC,OAgBE,IAZIwD,EAJNc,EAAAO,KAeEC,QAAQpE,IAAII,GACHsD,EAAI,EAAGA,EAAIZ,EAAIuB,KAAKC,MAAMC,OAAQb,IAC1CtD,EAAKV,UAAUoD,EAAIuB,KAAKC,MAAMZ,GAAGrE,IAAMyD,EAAIuB,KAAKC,MAAMZ,GAEvDD,EAAWX,EAAIuB,KAAKP,KAnBtB,UAoBUL,EApBV,CAAAG,EAAAE,KAAA,eAqBC1D,EAAKJ,IAAL,UAAAwE,OAAmBlD,OAAOmD,OAAOrE,EAAKV,WAAW6E,OAAjD,YACAH,QAAQpE,IAAII,EAAKV,WAtBlB,yBAAAkE,EAAAc,SAAAlB,OADemB,MAAAC,KAAAC,YAAA,WAAA1B,EAAAwB,MAAAC,KAAAC,WA0BfC,GACA1E,EAAKX,eAAiB,IACpB,IAEH,IAAMsF,EAAsB,SAACC,EAAO3F,GACnC,GAAIe,EAAKX,eAAewF,QAAQ5F,IAAO,EAAG,CACzC,IAAM6F,EAAoB9E,EAAKX,eAAegD,OAAO,SAACzD,GAAD,OAAUA,IAASK,IACxEe,EAAKX,eAAiByF,OAEtB9E,EAAKX,eAAiBW,EAAKX,eAAe+E,OAAOnF,IAInD,OACC8F,EAAA7B,EAAA8B,cAAA,OAAKC,UAAWpC,EAAQlB,MACvBoD,EAAA7B,EAAA8B,cAACE,EAAA,EAAD,CAAMD,UAAWpC,EAAQZ,KAAMkD,UAAU,MAAMC,aAAW,wBACzDL,EAAA7B,EAAA8B,cAACK,EAAA,EAAD,CAAYC,QAAQ,SAApB,UACCtF,EAAKV,WACL4B,OAAOmD,OAAOnD,OAAOmB,OAAOrC,EAAKV,UAAW,SAACiG,GAAD,MAAgC,UAArBA,EAAMC,cAAyBC,IACrF,SAACF,EAAOjC,GACP,IAAMoC,EAAQ,IAAIC,KAAKJ,EAAMK,cAC7B,OACCb,EAAA7B,EAAA8B,cAACa,EAAA,EAAD,CACCC,QAAM,EACNC,SAAU/F,EAAKX,eAAewF,QAAQU,EAAMtG,KAAO,EACnD+G,QAAS,SAACpB,GAAD,OAAWD,EAAoBC,EAAOW,EAAMtG,KACrDwD,IAAK8C,EAAMtG,GACXgH,MAAO,CACNC,YAAa,EACbC,cAAe,EACfC,WAAY,IAGbrB,EAAA7B,EAAA8B,cAACqB,EAAA,EAAD,KACCtB,EAAA7B,EAAA8B,cAACsB,EAAA,EAAD,CAAQhB,QAAQ,SAASiB,IAAKhB,EAAMiB,OAAO,GAAGC,OAE/C1B,EAAA7B,EAAA8B,cAAC0B,EAAA,EAAD,CACCC,QAASpB,EAAMvG,KACf4H,UAAWlB,EAAMmB,mBAAmB,QAAS,CAC5CC,KAAM,UACNC,MAAO,OACPC,IAAK,iBAOZjC,EAAA7B,EAAA8B,cAACK,EAAA,EAAD,CAAYC,QAAQ,SAApB,WACCtF,EAAKV,WACL4B,OAAOmD,OAAOnD,OAAOmB,OAAOrC,EAAKV,UAAW,SAACiG,GAAD,MAAgC,WAArBA,EAAMC,cAA0BC,IACtF,SAACF,EAAOjC,GACP,IAAMoC,EAAQ,IAAIC,KAAKJ,EAAMK,cAC7B,OACCb,EAAA7B,EAAA8B,cAACa,EAAA,EAAD,CACCC,QAAM,EACNC,SAAU/F,EAAKX,eAAewF,QAAQU,EAAMtG,KAAO,EACnD+G,QAAS,SAACpB,GAAD,OAAWD,EAAoBC,EAAOW,EAAMtG,KACrDwD,IAAK8C,EAAMtG,GACXgH,MAAO,CACNC,YAAa,EACbC,cAAe,EACfC,WAAY,IAGbrB,EAAA7B,EAAA8B,cAACqB,EAAA,EAAD,KACCtB,EAAA7B,EAAA8B,cAACsB,EAAA,EAAD,CAAQhB,QAAQ,SAASiB,IAAKhB,EAAMiB,OAAO,GAAGC,OAE/C1B,EAAA7B,EAAA8B,cAAC0B,EAAA,EAAD,CACCC,QAASpB,EAAMvG,KACf4H,UAAWlB,EAAMmB,mBAAmB,QAAS,CAC5CC,KAAM,UACNC,MAAO,OACPC,IAAK,uCCpIVC,UAAW,KAEV,SAAeC,EAAtBC,EAAAC,GAAA,OAAAC,EAAA9C,MAAAC,KAAAC,sDAAO,SAAArB,EAAyBkE,EAAMC,GAA/B,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAzE,EAAAZ,EAAAsF,EAAAC,EAAAjH,EAAAiD,EAAAiE,EAAAC,EAAA,OAAAlF,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACN0E,KAEIX,EAAe,GACfC,EAAU,EACVC,EAAY,GACZC,EAAkB,GAClBC,EAAY,EACZC,EAAgB,GAChBC,EAAgB,IAPdP,EAAyB,YAAfD,KAUfD,EAAO,OAERtH,EAAKJ,IAAL,oBAAAwE,OACqBpE,EAAKX,eAAe8E,OADzC,mBAAAC,OACiEkD,EADjE,QAAAlD,OAC4EpE,EAAKT,kBAAkB4E,OADnG,cAEC,SAEQb,EAAI,EAlBP,aAkBUA,EAAItD,EAAKX,eAAe8E,QAlBlC,CAAAX,EAAAE,KAAA,gBAmBL1D,EAAKJ,IAAL,2BAAAwE,OAEEpE,EAAKV,UAAUU,EAAKX,eAAeiE,IAAItE,OArBpCwE,EAAAE,KAAA,GAwBWC,IAAMC,IAAN,qCAAAQ,OACsBpE,EAAKX,eAAeiE,GAD1C,WAEf,CACCO,QAAS,CACRC,cAAe,UAAY9D,EAAKd,SA5B9B,QAoCL,IAZIwD,EAxBCc,EAAAO,KAgCL0D,EAAeA,EAAarD,OAAO1B,EAAIuB,MACvC2D,GAAe,GAAAxD,OAAOpE,EAAKV,UAAUU,EAAKX,eAAeiE,IAAItE,KAA9C,MACf8I,EAAc1G,KAAKpB,EAAKV,UAAUU,EAAKX,eAAeiE,KAE7C0E,EAAM,EAAGA,EAAMP,EAAanE,GAAG5D,MAAOsI,IAC9CL,EAAUvG,KAAKqG,EAAanE,GAAGY,MAAM8D,GAAKK,KAC1CR,GAAaJ,EAAanE,GAAGY,MAAM8D,GAAKM,YACxCP,EAAc3G,KAAK,CAClBmH,MAAOP,EACP/I,GAAIwI,EAAanE,GAAGY,MAAM8D,GAAK/I,GAC/BkF,OAAQsD,EAAanE,GAAGY,MAAM8D,GAAKM,YACnC/C,MAAOvF,EAAKX,eAAeiE,GAAGtE,OA3C3B,QAkB0CsE,IAlB1CE,EAAAE,KAAA,iBA+CNM,QAAQpE,IAAIkI,GACZ9D,QAAQpE,IAAImI,GAGHE,EAAI,EAnDP,aAmDUA,EAAIjI,EAAKT,kBAAkB4E,QAnDrC,CAAAX,EAAAE,KAAA,YAoDC1C,EAAWhB,EAAKT,kBAAkB0I,GACxCjE,QAAQpE,IAAIoB,EAASwH,QAKhBvE,EACM,UAATqD,EACG,CACAmB,KAAMd,EACNzF,SAAU,GAEV,CACAuG,KAAMd,GAjENnE,EAAAC,KAAA,GAoECf,OApED,EAqEGyF,EArEH,wCAAA/D,OAqEoDpD,EAAS/B,GArE7D,YAsECuI,EAtED,CAAAhE,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,GAuEUC,IAAM+E,IAAIP,EAAQlE,EAAM,CACnCJ,QAAS,CACRC,cAAe,UAAY9D,EAAKd,MAChCyJ,eAAgB,sBA1EhB,QAuEFjG,EAvEEc,EAAAO,KAAAP,EAAAE,KAAA,wBAAAF,EAAAE,KAAA,GA8EUC,IAAMiF,KAAKT,EAAQlE,EAAM,CACpCJ,QAAS,CACRC,cAAe,UAAY9D,EAAKd,MAChCyJ,eAAgB,sBAjFhB,QA8EFjG,EA9EEc,EAAAO,KAAA,QAuFHC,QAAQpE,IAAI8C,GACO,MAAfA,EAAImG,SACHrB,IACHxH,EAAKJ,IAAL,oCAAAwE,OACqCpD,EAAShC,KAD9C,MAGAgB,EAAKb,aAAa6B,EAAS/B,IAAI6J,UAAY,GAC3C9I,EAAKb,aAAa6B,EAAS/B,IAAI8J,OAAS,GACxC/I,EAAKb,aAAa6B,EAAS/B,IAAIuJ,OAAS,GACxCxI,EAAKb,aAAa6B,EAAS/B,IAAI+J,qBAAuB,GAEvDhJ,EAAKJ,IAAL,wBAAAwE,OACyBuD,EAAUxD,OADnC,gBAAAC,OACwDpD,EAAShC,KADjE,MAKa,UAATsI,GACHtH,EAAKb,aAAa6B,EAAS/B,IAAI6J,UAC9BlB,EACA5H,EAAKb,aAAa6B,EAAS/B,IAAI6J,UAEhC9I,EAAKb,aAAa6B,EAAS/B,IAAI8J,OAASE,GACvCnB,EACA9H,EAAKb,aAAa6B,EAAS/B,IAAI8J,QAEhC/I,EAAKb,aAAa6B,EAAS/B,IAAIuJ,OAASS,GACvClB,EACA/H,EAAKb,aAAa6B,EAAS/B,IAAIuJ,UAGiB,KAA7CxI,EAAKb,aAAa6B,EAAS/B,IAAI6J,YAClC9I,EAAKb,aAAa6B,EAAS/B,IAAI6J,WAAa,MAE7C9I,EAAKb,aAAa6B,EAAS/B,IAAI6J,UAC9B9I,EAAKb,aAAa6B,EAAS/B,IAAI6J,UAC/BlB,EAAgBpJ,UACf,EACAoJ,EAAgBzD,OAAS,GAE3BnE,EAAKb,aAAa6B,EAAS/B,IAAI8J,OAASE,GACvCjJ,EAAKb,aAAa6B,EAAS/B,IAAI8J,OAC/BjB,GAED9H,EAAKb,aAAa6B,EAAS/B,IAAIuJ,OAASS,GACvCjJ,EAAKb,aAAa6B,EAAS/B,IAAIuJ,OAC/BT,IAIF/H,EAAKb,aACJ6B,EAAS/B,IACR+J,sBAAwBnB,EAE1B7H,EAAKb,aACJ6B,EAAS/B,IACRiK,YAAcvD,KAAKwD,MAAMC,YA9IzB5F,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAA6F,GAAA7F,EAAA,UAiJHxD,EAAKJ,IAAL,iCAAAwE,OAA0CpD,EAAShC,KAAnD,QACAgF,QAAQpE,IAAR4D,EAAA6F,IAlJG,eAsJLC,KACA5B,GAAWT,EAvJNzD,EAAAE,KAAA,GAwJC6F,GAAM7B,GAxJP,QAmD6CO,IAnD7CzE,EAAAE,KAAA,iBA2JN1D,EAAKJ,IAAL,wBAAkC,OA3J5B,yBAAA4D,EAAAc,SAAAlB,EAAA,uFA8JA,SAAAoG,EAAkCC,GAAlC,IAAA/B,EAAAO,EAAAjH,EAAAiD,EAAA,OAAAhB,EAAAC,EAAAK,KAAA,SAAAmG,GAAA,cAAAA,EAAAjG,KAAAiG,EAAAhG,MAAA,OACN0E,KACIV,EAAU,EACd1H,EAAKJ,IAAL,iDAAAwE,OACkDpE,EAAKT,kBAAkB4E,OADzE,eAEC,SAGQ8D,EAAI,EARP,YAQUA,EAAIjI,EAAKT,kBAAkB4E,QARrC,CAAAuF,EAAAhG,KAAA,gBASC1C,EAAWhB,EAAKT,kBAAkB0I,GACpChE,EAAO,CAAEwF,eAVRC,EAAAjG,KAAA,EAAAiG,EAAAhG,KAAA,GAaYC,IAAM+E,IAAN,wCAAAtE,OACyBpD,EAAS/B,GADlC,KAEfgF,EACA,CACCJ,QAAS,CACRC,cAAe,UAAY9D,EAAKd,MAChCyJ,eAAgB,sBAnBf,QAwBe,MAxBfe,EAAA3F,KAwBI8E,SACP7I,EAAKJ,IAAL,uBAAAwE,OACwBpE,EAAKT,kBAAkB0I,GAAGjJ,KADlD,cAGAgB,EAAKb,aAAa6B,EAAS/B,IAAIwK,YAAcA,GA5B1CC,EAAAhG,KAAA,iBAAAgG,EAAAjG,KAAA,GAAAiG,EAAAL,GAAAK,EAAA,SA+BJ1J,EAAKJ,IAAL,oCACAoE,QAAQpE,IAAR8J,EAAAL,IAhCI,eAmCLC,KACA5B,GAAWT,EApCNyC,EAAAhG,KAAA,GAqCC6F,GAAM7B,GArCP,QAQ6CO,IAR7CyB,EAAAhG,KAAA,gBAuCN0E,KACApI,EAAKJ,IAAL,mBAA6B,OAxCvB,yBAAA8J,EAAApF,SAAAkF,EAAA,sFA4CA,SAAAG,IAAA,IAAArG,EAAAtC,EAAAiD,EAAAgE,EAAAvF,EAAAyF,EAAA,OAAAlF,EAAAC,EAAAK,KAAA,SAAAqG,GAAA,cAAAA,EAAAnG,KAAAmG,EAAAlG,MAAA,OACNM,QAAQpE,IAAI,OACH0D,EAAI,EAFP,YAEUA,EAAItD,EAAKT,kBAAkB4E,QAFrC,CAAAyF,EAAAlG,KAAA,SAML,IAHM1C,EAAWhB,EAAKT,kBAAkB+D,GACpCW,EAAO,CAAEwE,KAAM,IAEVR,EAAI,EAAGA,EAAI/G,OAAOsB,KAAKxB,EAASwH,QAAQrE,OAAQ8D,IACxDjE,QAAQpE,IAAIoB,EAASwH,OAAOP,IAC5BhE,EAAKwE,KAAKrH,KAAV,iBAAAgD,OAAgCpD,EAASwH,OAAOP,GAAGhJ,KAR/C,OAAA2K,EAAAnG,KAAA,EAWAf,OAXA,EAYEyF,EAZF,wCAAA/D,OAYmDpD,EAAS/B,GAZ5D,WAAA2K,EAAAlG,KAAA,GAaQC,IAAM+E,IACjBP,EACA,CAAEM,KAAM,IACR,CACC5E,QAAS,CACRC,cAAe,UAAY9D,EAAKd,MAChCyJ,eAAgB,sBAnBf,eAaJjG,EAbIkH,EAAA7F,KAAA6F,EAAAlG,KAAA,GAuBQC,IAAM+E,IAAIP,EAAQlE,EAAM,CACnCJ,QAAS,CACRC,cAAe,UAAY9D,EAAKd,MAChCyJ,eAAgB,sBA1Bd,QAuBJjG,EAvBIkH,EAAA7F,KA+BJC,QAAQpE,IAAI8C,GACO,MAAfA,EAAImG,OACP7I,EAAKJ,IAAL,GAAAwE,OAAYpD,EAAShC,KAArB,8BAEAgB,EAAKJ,IAAL,cAAAwE,OACepD,EAAShC,KADxB,qCAnCG4K,EAAAlG,KAAA,iBAAAkG,EAAAnG,KAAA,GAAAmG,EAAAP,GAAAO,EAAA,SAwCJ5J,EAAKJ,IAAL,cAAAwE,OACepD,EAAShC,KADxB,qCAGAgF,QAAQpE,IAARgK,EAAAP,IA3CI,QAE6C/F,IAF7CsG,EAAAlG,KAAA,iCAAAkG,EAAAtF,SAAAqF,EAAA,yCAgDA,SAAeE,GAAtBC,GAAA,OAAAC,GAAAxF,MAAAC,KAAAC,wDAAO,SAAAuF,EAA0CC,GAA1C,IAAA5G,EAAA6G,EAAA1B,EAAAO,EAAAD,EAAAI,EAAAF,EAAAmB,EAAAzH,EAAAY,EAAA8G,EAAAC,EAAA,OAAApH,EAAAC,EAAAK,KAAA,SAAA+G,GAAA,cAAAA,EAAA7G,KAAA6G,EAAA5G,MAAA,OAEFwG,EAAY,GACZ1B,EAAS,GACTO,EAAS,GACTD,EAAY,GACZI,EAAcvD,KAAK9E,MAAM,wBACzBmI,EAAuB,EACvBmB,GAAa,EARX,cAAAG,EAAA5G,KAAA,EAUWC,IAAMC,IACrBP,GAAQ,wCAAAe,OACiC6F,EADjC,mBAER,CACCpG,QAAS,CACRC,cAAe,UAAY9D,EAAKd,SAf9B,OAUDwD,EAVC4H,EAAAvG,KAoBLmG,EAAYA,EAAU9F,OAAO1B,EAAIuB,KAAKC,OACtCb,EAAWX,EAAIuB,KAAKP,KArBf,WAsBGL,EAtBH,CAAAiH,EAAA5G,KAAA,gBAwBN,IAAWJ,KAAK4G,EACTE,EAAQF,EAAU5G,GAAG8G,MAC3B5B,EAAOpH,KAAK,CACXmH,MAAOjF,EACPrE,GAAImL,EAAMnL,GACVkF,OAAQiG,EAAM9B,YACd/C,MAAO6E,EAAM7E,MAAMvG,OAEpBgK,GAAwBoB,EAAM9B,YACxB+B,EAAiB1E,KAAK9E,MAAMqJ,EAAU5G,GAAGiH,UAE3CvK,EAAKV,UAAUkL,eAAeJ,EAAM7E,MAAMtG,MAC7CkL,GAAa,GAGVE,EAAiBnB,IACpBA,EAAcmB,IAG8B,IAAzCvB,EAAUjE,QAAQuF,EAAM7E,MAAMvG,QACjC+J,EAAO3H,KAAK,CAAEnC,GAAImL,EAAM7E,MAAMtG,GAAID,KAAMoL,EAAM7E,MAAMvG,OACpD8J,GAAasB,EAAM7E,MAAMvG,KAAO,MA7C5B,OAiDDmL,GAAcjJ,OAAOuJ,QAAQjC,GAAQrE,OAAS,IAClDqE,OAASkC,GAIV5B,EAAYA,EAAUtK,UAAU,EAAGsK,EAAU3E,OAAS,GAtDhDmG,EAAAK,OAAA,SAwDC,CAACnC,EAAQO,EAAQD,EAAWI,EAAaF,IAxD1C,yBAAAsB,EAAAhG,SAAA0F,6BA2DP,SAAS5B,KACRpI,EAAKR,SAASC,KAAO,EACrBO,EAAKR,SAASE,MAAQM,EAAKT,kBAAkB4E,OAC7CnE,EAAKR,SAASG,QAAU,EAEzB,SAAS2J,KACRtJ,EAAKR,SAASC,OACdO,EAAKR,SAASG,QAAWK,EAAKR,SAASC,KAAOO,EAAKR,SAASE,MAAS,aAGvD6J,mFAAf,SAAAqB,EAAqBC,GAArB,OAAA5H,EAAAC,EAAAK,KAAA,SAAAuH,GAAA,cAAAA,EAAArH,KAAAqH,EAAApH,MAAA,cAAAoH,EAAApH,KAAA,EACOqH,GAAQF,GADf,wBAAAC,EAAAxG,SAAAsG,6BAIA,SAAS3B,GAAY+B,EAAMC,GAI1B,OAHAA,EAAKC,QAAQ,SAAUtM,GACtBoM,EAAK5J,KAAKxC,KAEJoM,EAGR,IAAMD,GAAU,SAACF,GAAD,OAAQ,IAAIM,QAAQ,SAACzI,GAAD,OAAS0I,WAAW1I,EAAKmI,iUClTvDQ,GAAa,CAClBC,IAAKC,qBAAW,SAAC3I,EAAO4I,GAAR,OAAgBzG,EAAA7B,EAAA8B,cAACyG,GAAAvI,EAADhC,OAAAwK,OAAA,GAAY9I,EAAZ,CAAmB4I,IAAKA,OACxDG,MAAOJ,qBAAW,SAAC3I,EAAO4I,GAAR,OAAgBzG,EAAA7B,EAAA8B,cAAC4G,GAAA1I,EAADhC,OAAAwK,OAAA,GAAW9I,EAAX,CAAkB4I,IAAKA,OACzDK,MAAON,qBAAW,SAAC3I,EAAO4I,GAAR,OAAgBzG,EAAA7B,EAAA8B,cAAC8G,GAAA5I,EAADhC,OAAAwK,OAAA,GAAW9I,EAAX,CAAkB4I,IAAKA,OACzDO,OAAQR,qBAAW,SAAC3I,EAAO4I,GAAR,OAAgBzG,EAAA7B,EAAA8B,cAACgH,GAAA9I,EAADhC,OAAAwK,OAAA,GAAmB9I,EAAnB,CAA0B4I,IAAKA,OAClES,YAAaV,qBAAW,SAAC3I,EAAO4I,GAAR,OACvBzG,EAAA7B,EAAA8B,cAACkH,GAAAhJ,EAADhC,OAAAwK,OAAA,GAAkB9I,EAAlB,CAAyB4I,IAAKA,OAE/BW,KAAMZ,qBAAW,SAAC3I,EAAO4I,GAAR,OAAgBzG,EAAA7B,EAAA8B,cAACoH,GAAAlJ,EAADhC,OAAAwK,OAAA,GAAU9I,EAAV,CAAiB4I,IAAKA,OACvDa,OAAQd,qBAAW,SAAC3I,EAAO4I,GAAR,OAAgBzG,EAAA7B,EAAA8B,cAACsH,GAAApJ,EAADhC,OAAAwK,OAAA,GAAa9I,EAAb,CAAoB4I,IAAKA,OAC5De,OAAQhB,qBAAW,SAAC3I,EAAO4I,GAAR,OAAgBzG,EAAA7B,EAAA8B,cAACwH,GAAAtJ,EAADhC,OAAAwK,OAAA,GAAgB9I,EAAhB,CAAuB4I,IAAKA,OAC/DiB,UAAWlB,qBAAW,SAAC3I,EAAO4I,GAAR,OAAgBzG,EAAA7B,EAAA8B,cAAC0H,GAAAxJ,EAADhC,OAAAwK,OAAA,GAAe9I,EAAf,CAAsB4I,IAAKA,OACjEmB,SAAUpB,qBAAW,SAAC3I,EAAO4I,GAAR,OAAgBzG,EAAA7B,EAAA8B,cAAC4H,GAAA1J,EAADhC,OAAAwK,OAAA,GAAc9I,EAAd,CAAqB4I,IAAKA,OAC/DqB,SAAUtB,qBAAW,SAAC3I,EAAO4I,GAAR,OAAgBzG,EAAA7B,EAAA8B,cAACkH,GAAAhJ,EAADhC,OAAAwK,OAAA,GAAkB9I,EAAlB,CAAyB4I,IAAKA,OACnEsB,aAAcvB,qBAAW,SAAC3I,EAAO4I,GAAR,OACxBzG,EAAA7B,EAAA8B,cAAC+H,GAAA7J,EAADhC,OAAAwK,OAAA,GAAiB9I,EAAjB,CAAwB4I,IAAKA,OAE9BwB,YAAazB,qBAAW,SAAC3I,EAAO4I,GAAR,OAAgBzG,EAAA7B,EAAA8B,cAAC8G,GAAA5I,EAADhC,OAAAwK,OAAA,GAAW9I,EAAX,CAAkB4I,IAAKA,OAC/DyB,OAAQ1B,qBAAW,SAAC3I,EAAO4I,GAAR,OAAgBzG,EAAA7B,EAAA8B,cAACkI,GAAAhK,EAADhC,OAAAwK,OAAA,GAAY9I,EAAZ,CAAmB4I,IAAKA,OAC3D2B,UAAW5B,qBAAW,SAAC3I,EAAO4I,GAAR,OACrBzG,EAAA7B,EAAA8B,cAACoI,GAAAlK,EAADhC,OAAAwK,OAAA,GAAmB9I,EAAnB,CAA0B4I,IAAKA,OAEhC6B,gBAAiB9B,qBAAW,SAAC3I,EAAO4I,GAAR,OAC3BzG,EAAA7B,EAAA8B,cAACsI,GAAApK,EAADhC,OAAAwK,OAAA,GAAY9I,EAAZ,CAAmB4I,IAAKA,OAEzB+B,WAAYhC,qBAAW,SAAC3I,EAAO4I,GAAR,OAAgBzG,EAAA7B,EAAA8B,cAACwI,GAAAtK,EAADhC,OAAAwK,OAAA,GAAgB9I,EAAhB,CAAuB4I,IAAKA,QAG9DhK,GAAYC,YAAW,SAACC,GAAD,MAAY,CACxCC,KAAM,CACL8L,QAAS,OACTC,eAAgB,SAChBC,SAAU,OACVC,UAAW,OACXC,QAASnM,EAAMoM,QAAQ,IACvBC,OAAQ,GAETC,KAAM,CACLD,OAAQrM,EAAMoM,QAAQ,QAsLTnL,eAlLO,SAACC,GACNpB,KADgB,SAsFjB+H,EAtFiBpC,GAAA,OAAA8G,EAAA1J,MAAAC,KAAAC,WAAA,SAAAwJ,IAAA,OAAAA,EAAA/M,OAAA8B,EAAA,EAAA9B,CAAA+B,EAAAC,EAAAC,KAsFhC,SAAAqG,EAAqBqB,GAArB,OAAA5H,EAAAC,EAAAK,KAAA,SAAAmG,GAAA,cAAAA,EAAAjG,KAAAiG,EAAAhG,MAAA,cAAAgG,EAAAhG,KAAA,EACOqH,EAAQF,GADf,wBAAAnB,EAAApF,SAAAkF,OAtFgCjF,MAAAC,KAAAC,WAIhC3B,oBAAU,WAAM,SAAAoL,IAAA,OAAAA,EAAAhN,OAAA8B,EAAA,EAAA9B,CAAA+B,EAAAC,EAAAC,KACf,SAAAC,IAAA,IAAAC,EAAAX,EAAAyL,EAAA7K,EAAAtC,EAAAoN,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA5F,EAAAI,EAAAF,EAAA,OAAA/F,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEC1D,EAAKJ,IAAL,mBAAAwE,OAA4BpE,EAAKhB,KAAjC,iBAFD,cAAAwE,EAAAE,KAAA,EAIkBC,IAAMC,IACrBP,GAAQ,mDAER,CACCQ,QAAS,CACRC,cAAe,UAAY9D,EAAKd,SATrC,OAgBE,IAAWoE,KAZPZ,EAJNc,EAAAO,KAcMoK,EAAgBzL,EAAIuB,KAAKC,MAC7BlE,EAAKJ,IAAL,aAAAwE,OAAsB1B,EAAIuB,KAAKC,MAAMC,OAArC,eACgBgK,GACXnN,EAAWmN,EAAc7K,IAChBqL,MAAM1P,KAAOe,EAAKf,KAE5Be,EAAKb,aAAaqL,eAAexJ,EAAS/B,MACM,IAAjDe,EAAKZ,kBAAkByF,QAAQ7D,EAAS/B,MAExCe,EAAKb,aAAa6B,EAAS/B,IAAM,CAChCA,GAAI+B,EAAS/B,GACbD,KAAMgC,EAAShC,KACfyH,IAAKzF,EAAS4N,cAAcC,QAC5BC,gBAAiB9N,EAASwH,OAAOuG,KACjCtF,YAAa3K,mBACZkC,EAASyI,aAEVjB,OAAQ,GACRM,UAAW,aACXC,OAAQ,GACRG,YAAa,aACbF,qBAAsB,gBAK1B3F,EAAWX,EAAIuB,KAAKP,KAxCtB,UAyCUL,EAzCV,CAAAG,EAAAE,KAAA,eA4CK0K,GADmB,IA3CxB5K,EAAA6F,GAAApG,EAAAC,EAAAV,KA6CiBxC,EAAKb,cA7CtB,YAAAqE,EAAAwL,GAAAxL,EAAA6F,MAAA5J,KAAA,CAAA+D,EAAAE,KAAA,YA6CYJ,EA7CZE,EAAAwL,GAAAC,MA+C6B,gBADvBjO,EAAWhB,EAAKb,aAAamE,IACpBwF,UA/Cf,CAAAtF,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,GAgDS6F,EAAM6E,GAhDf,eAAA5K,EAAAE,KAAA,GAuDawL,GAA+BlO,EAAS/B,IAvDrD,QAAAsP,EAAA/K,EAAAO,KAAAyK,EAAAtN,OAAAiO,EAAA,EAAAjO,CAAAqN,EAAA,GAkDIE,EAlDJD,EAAA,GAmDIE,EAnDJF,EAAA,GAoDI1F,EApDJ0F,EAAA,GAqDItF,EArDJsF,EAAA,GAsDIxF,EAtDJwF,EAAA,GAyDOC,GACHzO,EAAKb,aAAa6B,EAAS/B,IAAIuJ,OAASiG,EACxCzO,EAAKb,aAAa6B,EAAS/B,IAAI8J,OAAS2F,EACxC1O,EAAKb,aAAa6B,EAAS/B,IAAI6J,UAAYA,EAC3C9I,EAAKb,aACJ6B,EAAS/B,IACRiK,YAAcA,EAChBlJ,EAAKb,aACJ6B,EAAS/B,IACR+J,qBAAuBA,IAEzBhJ,EAAKJ,IAAL,GAAAwE,OAAYpD,EAAShC,KAArB,8BACAgB,EAAKZ,kBAAkBgC,KAAKJ,EAAS/B,WAC9Be,EAAKb,aAAa6B,EAAS/B,KAtEtC,QAAAuE,EAAAE,KAAA,kCAAAF,EAAAc,SAAAlB,OADemB,MAAAC,KAAAC,YAAA,WAAAyJ,EAAA3J,MAAAC,KAAAC,WA+Ef2K,IACE,IAMH,IAAMrE,EAAU,SAACF,GAAD,OAAQ,IAAIM,QAAQ,SAACzI,GAAD,OAAS0I,WAAW1I,EAAKmI,MAO7D,OACC9F,EAAA7B,EAAA8B,cAAA,OAAKiB,MAAO,CAAEoJ,SAAU,SACvBtK,EAAA7B,EAAA8B,cAACsK,EAAApM,EAAD,CACCqM,QAAS,CACR,CACCC,MAAO,OACPC,MAAO,OACP7N,MAAO,IACP8N,OAAQ,SAACC,GACR,OACC5K,EAAA7B,EAAA8B,cAAA,WACCD,EAAA7B,EAAA8B,cAACK,EAAA,EAAD,CAAYC,QAAQ,SACnBP,EAAA7B,EAAA8B,cAAA,cAAS2K,EAAQ3Q,OAElB+F,EAAA7B,EAAA8B,cAACK,EAAA,EAAD,CAAYC,QAAQ,aACnBP,EAAA7B,EAAA8B,cAAA,UAAK2K,EAAQlG,iBAMlB,CACC+F,MAAO,eACPC,MAAO,uBACPC,OAAQ,SAACC,GACR,IAIIC,EAAGC,EAAGC,EAAGC,EAJPlF,EAAK8E,EAAQ3G,qBACnB,MAAW,eAAP6B,EACI,cAGRkF,EAAIC,KAAKC,MAAMpF,EAAK,KACpBiF,EAAIE,KAAKC,MAAMF,EAAI,IACnBA,GAAQ,GACRF,EAAIG,KAAKC,MAAMH,EAAI,IACnBA,GAAQ,GACRF,EAAII,KAAKC,MAAMJ,EAAI,IACnBA,GAAQ,GAER,GAAAzL,QADAyL,GAAS,GAAJD,GACS,GAAK,IAAMC,EAAIA,EAA7B,KAAAzL,OACC0L,EAAI,GAAK,IAAMA,EAAIA,EADpB,KAAA1L,OAEI2L,EAAI,GAAK,IAAMA,EAAIA,MAGzB,CACCP,MAAO,eACPC,MAAO,cACP7N,MAAO,IACP8N,OAAQ,SAACC,GACR,IAAMxG,EAAMxD,KAAKwD,MAAMC,WACvB,SAAAhF,OAAU4L,KAAKC,OACb9G,EAAMwG,EAAQzG,aAAe,OAD/B,eAKF,CACCsG,MAAO,SACPC,MAAO,YACP7N,MAAO,MAGTqC,KAAMnD,IACNoP,MAAO7E,GACP8E,QAAS,CACRC,WAAW,EACXC,WAAW,EACXC,QAAQ,EACRC,SAAU,GAEVC,WAAW,EACXC,YAAa,CACZC,WAAY,SAIdC,kBAAmB,SAACC,GAAD,OAAW5Q,EAAKT,kBAAoBqR,kBCvOrDpP,GAAYC,YAAW,SAACC,GAAD,MAAY,CACxCmP,GAAI,CACH9O,WAAYL,EAAMI,QAAQC,WAAWC,OAEtCL,KAAM,CACL8L,QAAS,OACTE,SAAU,OACVD,eAAgB,cAEjB9O,KAAM,CACLmP,OAAQ,EACR+C,YAAa,EACbC,aAAc,GAEfC,YAAa,CACZpP,MAAO,OACP6L,QAAS,OACTwD,WAAY,UAEbzR,SAAU,CACT0R,SAAU,QAoIGvO,eAhIO,SAACC,GACtB,IAAMC,EAAUrB,KADgB2P,EAERC,mBAAS,IAFDC,EAAAnQ,OAAAiO,EAAA,EAAAjO,CAAAiQ,EAAA,GAEzBG,EAFyBD,EAAA,GAEnBE,EAFmBF,EAAA,GAQhC,OACCtM,EAAA7B,EAAA8B,cAAA,WACCD,EAAA7B,EAAA8B,cAAA,OAAKC,UAAWpC,EAAQlB,MACvBoD,EAAA7B,EAAA8B,cAAA,OAAKC,UAAWpC,EAAQmO,aAEvBjM,EAAA7B,EAAA8B,cAACwM,GAAA,EAAD,CACClM,QAAQ,cACR2J,MAAOjP,EAAKR,SAASG,QACrBG,MAAM,YACNmF,UAAWpC,EAAQrD,SACnByG,MAAO,CAAEwH,QAAS,WAGpB1I,EAAA7B,EAAA8B,cAACK,EAAA,EAAD,CACCC,QAAQ,QACRW,MAAO,CAAEwL,UAAW,OAAQrL,WAAY,IAFzC,iBAKArB,EAAA7B,EAAA8B,cAAC0M,EAAA,EAAD,CACCpM,QAAQ,YACRxF,MAAM,UACNmF,UAAWpC,EAAQjE,KACnBoH,QAAS,WACRkJ,EAAc,UAEfyC,KAAK,SAPN,SAUA5M,EAAA7B,EAAA8B,cAAC0M,EAAA,EAAD,CACCpM,QAAQ,YACRxF,MAAM,UACNmF,UAAWpC,EAAQjE,KACnBoH,QAAS,WACRkJ,EAAc,QAEfyC,KAAK,SAPN,OAUA5M,EAAA7B,EAAA8B,cAAC0M,EAAA,EAAD,CACCpM,QAAQ,YACRxF,MAAM,UACNmF,UAAWpC,EAAQjE,KACnBoH,QAAS,WACRkJ,EAAc,QAAS,YAExByC,KAAK,SAPN,WAWA5M,EAAA7B,EAAA8B,cAACK,EAAA,EAAD,CACCC,QAAQ,QACRW,MAAO,CAAEwL,UAAW,OAAQrL,WAAY,IAFzC,oBAKArB,EAAA7B,EAAA8B,cAAA,OAAKiB,MAAO,CAAE2L,UAAW,SACxB7M,EAAA7B,EAAA8B,cAAA,SACC/F,GAAG,kBACH4S,YAAY,cACZC,SA9DL,SAAoBC,GACnBR,EAAQQ,EAAEC,OAAO/C,QA8DbhJ,MAAO,CAAErE,MAAO,QAASiM,QAAS,GAClCoE,KAAK,SAENlN,EAAA7B,EAAA8B,cAAC0M,EAAA,EAAD,CACCpM,QAAQ,YACRxF,MAAM,UACNmF,UAAWpC,EAAQjE,KACnBoH,QAAS,YFsDR,SAAPkM,GAAAC,GAAA5N,MAAAC,KAAAC,WErDOyK,CAAuBoC,IAExBK,KAAK,SAPN,WAUA5M,EAAA7B,EAAA8B,cAAC0M,EAAA,EAAD,CACCpM,QAAQ,YACRxF,MAAM,UACNmF,UAAWpC,EAAQjE,KACnBoH,QAAS,YFwFR,WAAPoM,GAAA7N,MAAAC,KAAAC,WEvFOyK,IAEDyC,KAAK,SAPN,mBAkBD5M,EAAA7B,EAAA8B,cAACK,EAAA,EAAD,CACCC,QAAQ,QACRW,MAAO,CAAEwL,UAAW,OAAQrL,WAAY,IAFzC,WAKArB,EAAA7B,EAAA8B,cAAC0M,EAAA,EAAD,CACCpM,QAAQ,YACRxF,MAAM,UACNmF,UAAWpC,EAAQjE,KACnBoH,QAAS,WACRvF,aAAaa,QAAQ,QAAS,KAE/BqQ,KAAK,SAPN,eAUA5M,EAAA7B,EAAA8B,cAAC0M,EAAA,EAAD,CACCpM,QAAQ,YACRxF,MAAM,UACNmF,UAAWpC,EAAQjE,KACnBoH,QAAS,WACRvF,aAAa4R,WAAW,SAEzBV,KAAK,SAPN,iCC3IEnQ,GAAYC,YAAW,SAACC,GAAD,MAAY,CACxCC,KAAM,CACL8L,QAAS,OACTC,eAAgB,SAChBC,SAAU,OACVC,UAAW,OACXC,QAASnM,EAAMoM,QAAQ,IACvBC,OAAQ,GAETC,KAAM,CACLD,OAAQrM,EAAMoM,QAAQ,QAiCTnL,eA7BI,WAClB,IAAME,EAAUrB,KAKhB,OACCuD,EAAA7B,EAAA8B,cAACsN,EAAA,EAAD,CAAOnN,UAAU,KAAKF,UAAWpC,EAAQlB,MACvC3B,EAAKX,eAAeoG,IAAI,SAAC8M,EAASC,GAClC,IAPmBC,EASnB,OACC1N,EAAA7B,EAAA8B,cAAA,MAAIvC,IAAK+P,GACRzN,EAAA7B,EAAA8B,cAAC0N,GAAA,EAAD,CAASlD,MAAOxP,EAAKV,UAAUiT,GAASvT,KAAM2T,UAAU,OACvD5N,EAAA7B,EAAA8B,cAAC4N,GAAA,EAAD,CAEC5M,SAdeyM,EAcOF,EAdU,WACtCvS,EAAKX,eAAiBW,EAAKX,eAAegD,OAAO,SAAC2L,GAAD,OAAUA,IAASyE,MAc9DxN,UAAWpC,EAAQmL,KACnB2D,KAAK,QACLkB,OAAQ9N,EAAA7B,EAAA8B,cAACsB,EAAA,EAAD,CAAQC,IAAKvG,EAAKV,UAAUiT,GAAS/L,OAAO,GAAGC,eC/BzDjF,GAAYC,YAAW,SAACC,GAAD,MAAY,CACxCC,KAAM,CACLuP,SAAU,GAEXlP,MAAO,CACN6L,QAASnM,EAAMoM,QAAQ,GACvB8D,UAAW,OACX9R,MAAO4B,EAAMI,QAAQ3B,KAAKyG,UAC1BkM,OAAQ,WAgCKC,GA5BY,SAACnQ,GAAU,IAC7B1D,EAAU0D,EAAV1D,MACF2D,EAAUrB,KAEhB,OACCuD,EAAA7B,EAAA8B,cAAA,OAAKC,UAAWpC,EAAQlB,MACvBoD,EAAA7B,EAAA8B,cAAA,OACCiB,MAAO,CACN/D,SAAU,QACV4Q,OAAQ,QACRlR,MAPiB,IAQjBoR,IAAK,GACLC,KAAM,IAGPlO,EAAA7B,EAAA8B,cAACsN,EAAA,EAAD,CAAOrN,UAAWpC,EAAQb,OACzB+C,EAAA7B,EAAA8B,cAACkO,EAAD,CAAWhU,MAAOA,IAClB6F,EAAA7B,EAAA8B,cAACmO,GAAD,MACApO,EAAA7B,EAAA8B,cAACoO,GAAD,CAAelU,MAAOA,MAGxB6F,EAAA7B,EAAA8B,cAAA,OAAKiB,MAAO,CAAE/D,SAAU,WAAY4O,YAAa,GAAImC,KAAMI,MAC1DtO,EAAA7B,EAAA8B,cAACsO,GAAD,CAAepU,MAAOA,sCCqBXyD,eA1DA,SAACC,GAAU,IAAAuO,EACaC,mBAAS,IADtBC,EAAAnQ,OAAAiO,EAAA,EAAAjO,CAAAiQ,EAAA,GAClBoC,EADkBlC,EAAA,GACLmC,EADKnC,EAAA,GAAAoC,EAEOrC,mBAAS,UAFhBsC,EAAAxS,OAAAiO,EAAA,EAAAjO,CAAAuS,EAAA,GAElBtR,EAFkBuR,EAAA,GAERC,EAFQD,EAAA,GAazB,OAJA5Q,oBAAU,WACT9C,EAAKC,SAAW,IACd,IAGF8E,EAAA7B,EAAA8B,cAAA,OACCiB,MAAO,CACN/D,SAAU,WACV0R,MAAO,EACPZ,IAAK,EACLvF,QAAS,OACTwD,WAAY,aACZvD,eAAgB,WAChB9L,MAAO,MACPkR,OAAQS,EACRxR,WAAY,QACZ8R,OAAQ,IACRC,WAAY,OACZC,UAAW5R,IAGZ4C,EAAA7B,EAAA8B,cAAA,OAAKiB,MAAO,CAAEnG,MAAO,OAAQoR,SAAU,EAAG9K,WAAY,GAAIwL,UAAW,OAAQ1L,YAAa,KACxFlG,EAAKC,SAASwF,IAAI,SAACuO,EAASxB,GAC5B,OACCzN,EAAA7B,EAAA8B,cAACK,EAAA,EAAD,CACCF,UAAU,IACVG,QAAQ,QACRrG,GAAG,WACHgH,MAAO,CAAEwH,QAAS,QAAS3N,MAAOkU,EAAQlU,OAC1C2C,IAAK+P,GAEJwB,EAAQ7T,SAKb4E,EAAA7B,EAAA8B,cAACiP,GAAA,EAAD,CACC7O,aAAW,SACXa,MAAO,CAAEnG,MAAO,SAChBkG,QAAS,WA3CXwN,EAA+B,KAAhBD,EAAqB,OAAS,IAC7CI,EAAyB,WAAbxR,EAAwB,SAAW,YA8C7C4C,EAAA7B,EAAA8B,cAACkP,GAAAhR,EAAD,UC7CJ,SAASiR,GAASvR,GAAO,IAChBwR,EAAqCxR,EAArCwR,SAAUnF,EAA2BrM,EAA3BqM,MAAOuD,EAAoB5P,EAApB4P,MAAU6B,EADXnT,OAAAoT,EAAA,EAAApT,CACqB0B,EADrB,8BAGxB,OACCmC,EAAA7B,EAAA8B,cAAA,MAAA9D,OAAAwK,OAAA,CACC6I,KAAK,WACLC,OAAQvF,IAAUuD,EAClBvT,GAAE,mBAAAmF,OAAqBoO,GACvBiC,kBAAA,cAAArQ,OAA+BoO,IAC3B6B,GAEHpF,IAAUuD,GAASzN,EAAA7B,EAAA8B,cAAC0P,EAAA,EAAD,CAAKvW,EAAG,GAAIiW,IAKnC,SAASO,GAAUnC,GAClB,MAAO,CACNvT,GAAE,cAAAmF,OAAgBoO,GAClBoC,gBAAA,mBAAAxQ,OAAoCoO,IAItC,IAAMhR,GAAYC,YAAW,SAACC,GAAD,MAAY,CACxCC,KAAM,CACLuP,SAAU,EACV4B,OAAQ,yBA0EKnQ,eArEF,SAACC,GACb,IAAMC,EAAUrB,KACRtC,EAAU0D,EAAV1D,MAFeiS,EAGGC,mBAAS,GAHZC,EAAAnQ,OAAAiO,EAAA,EAAAjO,CAAAiQ,EAAA,GAGhBlC,EAHgBoC,EAAA,GAGTwD,EAHSxD,EAAA,GAAAyD,EAKqBC,YAAS,CACpDtO,IAAK,gCACLuO,OAAQ,MACRnR,QAAS,CACRC,cAAe,UAAY5E,KATN+V,EAAA/T,OAAAiO,EAAA,EAAAjO,CAAA4T,EAAA,GAAAI,EAAAD,EAAA,GAKdhR,EALciR,EAKdjR,KAAekR,GALDD,EAKRE,QALQF,EAKCC,OALDF,EAAA,GAanBhR,IACHD,QAAQpE,IAAIqE,GACZjE,EAAKhB,KAAOiF,EAAKoR,aACjBrV,EAAKf,GAAKgF,EAAKhF,IAOhB,MAAgB,KAAZe,EAAKf,GAEP8F,EAAA7B,EAAA8B,cAAA,OAAKC,UAAWpC,EAAQlB,MAEvBoD,EAAA7B,EAAA8B,cAACsQ,EAAA,EAAD,CAAQpT,SAAS,SAAS+D,MAAO,CAAErE,MAAO,QACzCmD,EAAA7B,EAAA8B,cAACuQ,EAAA,EAAD,CAAMtG,MAAOA,EAAO6C,SATH,SAAClN,EAAO4Q,GAC5BX,EAASW,IAQsCpQ,aAAW,uBACtDL,EAAA7B,EAAA8B,cAACyQ,EAAA,EAADvU,OAAAwK,OAAA,CAAKgK,MAAM,kBAAqBf,GAAU,KAC1C5P,EAAA7B,EAAA8B,cAACyQ,EAAA,EAADvU,OAAAwK,OAAA,CAAKgK,MAAM,aAAgBf,GAAU,OAGvC5P,EAAA7B,EAAA8B,cAAC2Q,GAAD,MAEA5Q,EAAA7B,EAAA8B,cAACmP,GAAD,CAAUlF,MAAOA,EAAOuD,MAAO,EAAGvM,MAAO,CAAE6M,OAAQ,SAClD/N,EAAA7B,EAAA8B,cAAC4Q,GAAD,CAAoB1W,MAAOA,KAE5B6F,EAAA7B,EAAA8B,cAACmP,GAAD,CAAUlF,MAAOA,EAAOuD,MAAO,GAA/B,aAOC2C,EAEFpQ,EAAA7B,EAAA8B,cAAA,WACCD,EAAA7B,EAAA8B,cAAA,6EACAD,EAAA7B,EAAA8B,cAAC0M,EAAA,EAAD,CACCpM,QAAQ,YACRxF,MAAM,UACNkG,QAAS,WACRvF,aAAaa,QAAQ,QAAS,MAJhC,gBAcFyD,EAAA7B,EAAA8B,cAAA,WACCD,EAAA7B,EAAA8B,cAAA,ufCpGH,IAAM6Q,GAAUC,YAAe,CAC9BhU,QAAS,CACR6E,QAAS,CACRoP,KAAM,WAEPnP,UAAW,CACVmP,KAAMC,IAAM,SAmEAC,4CA7Dd,SAAAA,IAAc,IAAAC,EAAA,OAAAhV,OAAAiV,EAAA,EAAAjV,CAAAsD,KAAAyR,IACbC,EAAAE,EAAAC,KAAA7R,OACK8R,MAAQ,CACZpX,MAAO,KACPN,KAAM,CACL2G,MAAO,CACNiB,OAAQ,CAAC,CAAEC,IAAK,MAEjBzH,KAAM,GACNuX,QAAS,CAAC,CAAEvX,KAAM,KAClBsJ,YAAa,GAEdkO,WAAY,SACZC,YAAa,GAbDP,kEAkBb,IAAIQ,EAASrY,EAAKsY,cAAgBlW,aAAaC,QAAQ,SAEnDgW,IAEHlS,KAAKoS,SAAS,CACb1X,MAAOwX,IAERjW,aAAaa,QAAQ,QAASoV,GAC9B1W,EAAKd,MAAQwX,+CAMdjW,aAAaa,QAAQ,QAAS,qCAI9B,OACCyD,EAAA7B,EAAA8B,cAAC6R,EAAA,EAAD,CAAenV,MAAOmU,IACrB9Q,EAAA7B,EAAA8B,cAAA,OAAKC,UAAU,OACdF,EAAA7B,EAAA8B,cAAA,eACGR,KAAK8R,MAAMpX,OACZ6F,EAAA7B,EAAA8B,cAAA,OAAKC,UAAU,cACdF,EAAA7B,EAAA8B,cAAA,OAAKuB,IAAKuQ,KAAM7R,UAAU,WAAW8R,IAAI,SACzChS,EAAA7B,EAAA8B,cAAA,KACCC,UAAU,yBACV8J,KAAI,GAAA3K,OXnEe,yCWmEf,eAAAA,OXhEW,mCWgEX,kBAAAA,OX9Dc,oDW8Dd,WAAAA,OAA6EhG,EAAO4Y,KACvF,OADG,0CAFL,qBAUDxS,KAAK8R,MAAMpX,OAAS6F,EAAA7B,EAAA8B,cAACiS,GAAD,CAAM/X,MAAOsF,KAAK8R,MAAMpX,kBAtDjCgY,aChBlBC,IAASzH,OAAO3K,EAAA7B,EAAA8B,cAACoS,GAAD,MAASC,SAASC,eAAe","file":"static/js/main.5e5f6b85.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";","export const authEndpoint = \"https://accounts.spotify.com/authorize\";\r\n\r\n// Replace with your app's client ID, redirect URI and desired scopes\r\nexport const clientId = \"149f235f7ad941419d900b585b05d9e3\";\r\n// export const redirectUri = \"http://localhost:3000/redirect\";\r\nexport const redirectUri = \"https://brandoshizzle.github.io/Little-Conductor/\";\r\nexport const scopes = [\r\n\t\"user-read-email\",\r\n\t\"playlist-modify-public\",\r\n\t\"playlist-modify-private\",\r\n];\r\n","// Get the hash of the url\r\nconst hash = window.location.hash\r\n  .substring(1)\r\n  .split(\"&\")\r\n  .reduce(function(initial, item) {\r\n    if (item) {\r\n      var parts = item.split(\"=\");\r\n      initial[parts[0]] = decodeURIComponent(parts[1]);\r\n    }\r\n    return initial;\r\n  }, {});\r\nwindow.location.hash = \"\";\r\n\r\nexport default hash;\r\n","import { store } from '@risingstack/react-easy-state';\r\nimport { observe } from '@nx-js/observer-util';\r\nimport merge from 'lodash/merge';\r\n\r\nconst defaultUser = {\r\n\tname: '',\r\n\tid: '',\r\n\ttoken: '',\r\n\tallPlaylists: {},\r\n\tfilteredPlaylists: [],\r\n\tselectedAlbums: [],\r\n\tallAlbums: {},\r\n\tselectedPlaylists: [],\r\n\tprogress: {\r\n\t\tdone: 0,\r\n\t\ttotal: 0,\r\n\t\tpercent: 0,\r\n\t},\r\n\tlog: (newLine, color) => {\r\n\t\tconst textColor = color || 'normal';\r\n\t\tconst colors = {\r\n\t\t\tstart: 'green',\r\n\t\t\tnormal: '#ddd',\r\n\t\t\tend: 'red',\r\n\t\t};\r\n\t\tuser.logArray.unshift({ text: newLine, color: colors[textColor] });\r\n\t},\r\n\tlogArray: [],\r\n\terrors: [],\r\n};\r\n\r\nexport const user = store(\r\n\tlocalStorage.getItem('user') != null ? merge(defaultUser, JSON.parse(localStorage.getItem('user'))) : defaultUser\r\n);\r\n\r\nobserve(() => {\r\n\tlocalStorage.setItem('user', JSON.stringify(user));\r\n});\r\n\r\n// observe(() => {\r\n// \tplaylistArray = [];\r\n// \tfor (var playlist in user.allPlaylists) {\r\n// \t\tconst newObj = {\r\n// \t\t\t...user.allPlaylists[playlist],\r\n// \t\t};\r\n// \t\tplaylistArray.push(newObj);\r\n// \t}\r\n// \t// playlistArray = Object.values(user.allPlaylists);\r\n// \tconsole.log(playlistArray);\r\n// });\r\n\r\nexport function playlistArray() {\r\n\tlet test = [];\r\n\tfor (var playlist in user.allPlaylists) {\r\n\t\tconst newObj = {\r\n\t\t\t...user.allPlaylists[playlist],\r\n\t\t};\r\n\t\ttest.push(newObj);\r\n\t}\r\n\t// playlistArray = Object.values(user.allPlaylists);\r\n\t// console.log(test);\r\n\treturn test;\r\n}\r\n\r\nwindow.user = user;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\n// import useAxios from 'axios-hooks';\r\nimport axios from 'axios';\r\nimport { view } from '@risingstack/react-easy-state';\r\nimport { user } from './../store';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t\tbackgroundColor: theme.palette.background.paper,\r\n\t},\r\n\tlist: {\r\n\t\tposition: 'relative',\r\n\t\toverflow: 'auto',\r\n\t\tmaxHeight: '50vh',\r\n\t},\r\n}));\r\n\r\nObject.filter = (obj, predicate) =>\r\n\tObject.keys(obj)\r\n\t\t.filter((key) => predicate(obj[key]))\r\n\t\t.reduce((res, key) => ((res[key] = obj[key]), res), {});\r\n\r\nconst AlbumList = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst { token } = props;\r\n\t// const [selectedAlbums, setSelectedAlbums] = useState([]);\r\n\t// let [albums, setAlbums] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function loadAlbums() {\r\n\t\t\tlet nextLink;\r\n\t\t\tuser.log('Getting LS albums...');\r\n\t\t\tdo {\r\n\t\t\t\tlet res = await axios.get(\r\n\t\t\t\t\tnextLink ||\r\n\t\t\t\t\t\t'https://api.spotify.com/v1/artists/4SCWiQbJCMTHK737aNUqBJ/albums?offset=0&limit=50&market=CA',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\t// console.log(res);\r\n\t\t\t\t// albums = albums.concat(res.data.items);\r\n\t\t\t\tconsole.log(user);\r\n\t\t\t\tfor (var i = 0; i < res.data.items.length; i++) {\r\n\t\t\t\t\tuser.allAlbums[res.data.items[i].id] = res.data.items[i];\r\n\t\t\t\t}\r\n\t\t\t\tnextLink = res.data.next;\r\n\t\t\t} while (nextLink);\r\n\t\t\tuser.log(`Loaded ${Object.values(user.allAlbums).length} albums`);\r\n\t\t\tconsole.log(user.allAlbums);\r\n\t\t}\r\n\t\t// Get all LS albums\r\n\t\tloadAlbums();\r\n\t\tuser.selectedAlbums = [];\r\n\t}, []);\r\n\r\n\tconst handleListItemClick = (event, id) => {\r\n\t\tif (user.selectedAlbums.indexOf(id) > -1) {\r\n\t\t\tconst newSelectedAlbums = user.selectedAlbums.filter((item) => item !== id);\r\n\t\t\tuser.selectedAlbums = newSelectedAlbums;\r\n\t\t} else {\r\n\t\t\tuser.selectedAlbums = user.selectedAlbums.concat(id);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<List className={classes.list} component=\"nav\" aria-label=\"main mailbox folders\">\r\n\t\t\t\t<Typography variant=\"body1\">Albums</Typography>\r\n\t\t\t\t{user.allAlbums &&\r\n\t\t\t\t\tObject.values(Object.filter(user.allAlbums, (album) => album.album_type === 'album')).map(\r\n\t\t\t\t\t\t(album, i) => {\r\n\t\t\t\t\t\t\tconst rDate = new Date(album.release_date);\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\t\tselected={user.selectedAlbums.indexOf(album.id) > -1}\r\n\t\t\t\t\t\t\t\t\tonClick={(event) => handleListItemClick(event, album.id)}\r\n\t\t\t\t\t\t\t\t\tkey={album.id}\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tpaddingLeft: 0,\r\n\t\t\t\t\t\t\t\t\t\tpaddingBottom: 0,\r\n\t\t\t\t\t\t\t\t\t\tpaddingTop: 0,\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t\t\t\t\t\t<Avatar variant=\"square\" src={album.images[1].url}></Avatar>\r\n\t\t\t\t\t\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\tprimary={album.name}\r\n\t\t\t\t\t\t\t\t\t\tsecondary={rDate.toLocaleDateString('en-US', {\r\n\t\t\t\t\t\t\t\t\t\t\tyear: 'numeric',\r\n\t\t\t\t\t\t\t\t\t\t\tmonth: 'long',\r\n\t\t\t\t\t\t\t\t\t\t\tday: 'numeric',\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t)}\r\n\t\t\t\t<Typography variant=\"body1\">Singles</Typography>\r\n\t\t\t\t{user.allAlbums &&\r\n\t\t\t\t\tObject.values(Object.filter(user.allAlbums, (album) => album.album_type === 'single')).map(\r\n\t\t\t\t\t\t(album, i) => {\r\n\t\t\t\t\t\t\tconst rDate = new Date(album.release_date);\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\t\tselected={user.selectedAlbums.indexOf(album.id) > -1}\r\n\t\t\t\t\t\t\t\t\tonClick={(event) => handleListItemClick(event, album.id)}\r\n\t\t\t\t\t\t\t\t\tkey={album.id}\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tpaddingLeft: 0,\r\n\t\t\t\t\t\t\t\t\t\tpaddingBottom: 0,\r\n\t\t\t\t\t\t\t\t\t\tpaddingTop: 0,\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t\t\t\t\t\t<Avatar variant=\"square\" src={album.images[1].url}></Avatar>\r\n\t\t\t\t\t\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\tprimary={album.name}\r\n\t\t\t\t\t\t\t\t\t\tsecondary={rDate.toLocaleDateString('en-US', {\r\n\t\t\t\t\t\t\t\t\t\t\tyear: 'numeric',\r\n\t\t\t\t\t\t\t\t\t\t\tmonth: 'long',\r\n\t\t\t\t\t\t\t\t\t\t\tday: 'numeric',\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t)}\r\n\t\t\t</List>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(AlbumList);\r\n","import { user } from \"./store\";\r\nimport axios from \"axios\";\r\n\r\nconst APIdelay = 300;\r\n\r\nexport async function addAlbums(side, replaceArg) {\r\n\tresetProgress();\r\n\tconst replace = replaceArg === \"replace\" ? true : false;\r\n\tlet albumDetails = [];\r\n\tlet delayms = 0;\r\n\tlet trackURIs = [];\r\n\tlet newAlbumsString = \"\";\r\n\tlet addedTime = 0;\r\n\tlet newAlbumsList = [];\r\n\tlet newTracksList = [];\r\n\r\n\tif (replace) {\r\n\t\tside = \"end\";\r\n\t}\r\n\tuser.log(\r\n\t\t`It's time to add ${user.selectedAlbums.length} albums to the ${side} of ${user.selectedPlaylists.length} playlists`,\r\n\t\t\"start\"\r\n\t);\r\n\tfor (var i = 0; i < user.selectedAlbums.length; i++) {\r\n\t\tuser.log(\r\n\t\t\t`Grabbing track info for ${\r\n\t\t\t\tuser.allAlbums[user.selectedAlbums[i]].name\r\n\t\t\t}`\r\n\t\t);\r\n\t\tlet res = await axios.get(\r\n\t\t\t`https://api.spotify.com/v1/albums/${user.selectedAlbums[i]}/tracks`,\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: \"Bearer \" + user.token,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t);\r\n\t\talbumDetails = albumDetails.concat(res.data);\r\n\t\tnewAlbumsString += `${user.allAlbums[user.selectedAlbums[i]].name}, `;\r\n\t\tnewAlbumsList.push(user.allAlbums[user.selectedAlbums[i]]);\r\n\t\t// console.log(albumDetails);\r\n\t\tfor (var cha = 0; cha < albumDetails[i].total; cha++) {\r\n\t\t\ttrackURIs.push(albumDetails[i].items[cha].uri);\r\n\t\t\taddedTime += albumDetails[i].items[cha].duration_ms;\r\n\t\t\tnewTracksList.push({\r\n\t\t\t\tplace: cha,\r\n\t\t\t\tid: albumDetails[i].items[cha].id,\r\n\t\t\t\tlength: albumDetails[i].items[cha].duration_ms,\r\n\t\t\t\talbum: user.selectedAlbums[i].name,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tconsole.log(newAlbumsList);\r\n\tconsole.log(newTracksList);\r\n\r\n\t// Go through each playlist and add the albums to it\r\n\tfor (var j = 0; j < user.selectedPlaylists.length; j++) {\r\n\t\tconst playlist = user.selectedPlaylists[j];\r\n\t\tconsole.log(playlist.tracks);\r\n\t\t// Don't add album if it's already on the playlist\r\n\t\t// console.log(playlist.albumList, user.album.name, playlist.albumList.indexOf(user.album.name));\r\n\t\t// if (playlist.albumList.indexOf(user.album.name) === -1) {\r\n\t\tif (true) {\r\n\t\t\tlet data =\r\n\t\t\t\tside === \"start\"\r\n\t\t\t\t\t? {\r\n\t\t\t\t\t\t\turis: trackURIs,\r\n\t\t\t\t\t\t\tposition: 0,\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t: {\r\n\t\t\t\t\t\t\turis: trackURIs,\r\n\t\t\t\t\t  };\r\n\t\t\ttry {\r\n\t\t\t\tlet res;\r\n\t\t\t\tconst apiURL = `https://api.spotify.com/v1/playlists/${playlist.id}/tracks`;\r\n\t\t\t\tif (replace) {\r\n\t\t\t\t\tres = await axios.put(apiURL, data, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: \"Bearer \" + user.token,\r\n\t\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tres = await axios.post(apiURL, data, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: \"Bearer \" + user.token,\r\n\t\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If successful, update local\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tif (res.status === 201) {\r\n\t\t\t\t\tif (replace) {\r\n\t\t\t\t\t\tuser.log(\r\n\t\t\t\t\t\t\t`Removed all previous albums from ${playlist.name}.`\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tuser.allPlaylists[playlist.id].albumList = \"\";\r\n\t\t\t\t\t\tuser.allPlaylists[playlist.id].albums = [];\r\n\t\t\t\t\t\tuser.allPlaylists[playlist.id].tracks = [];\r\n\t\t\t\t\t\tuser.allPlaylists[playlist.id].playlistMilliseconds = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuser.log(\r\n\t\t\t\t\t\t`Successfully plopped ${trackURIs.length} beats onto ${playlist.name}.`\r\n\t\t\t\t\t);\r\n\t\t\t\t\t// Update list of albums\r\n\r\n\t\t\t\t\tif (side === \"start\") {\r\n\t\t\t\t\t\tuser.allPlaylists[playlist.id].albumList =\r\n\t\t\t\t\t\t\tnewAlbumsString +\r\n\t\t\t\t\t\t\tuser.allPlaylists[playlist.id].albumList;\r\n\r\n\t\t\t\t\t\tuser.allPlaylists[playlist.id].albums = arrayConcat(\r\n\t\t\t\t\t\t\tnewAlbumsList,\r\n\t\t\t\t\t\t\tuser.allPlaylists[playlist.id].albums\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tuser.allPlaylists[playlist.id].tracks = arrayConcat(\r\n\t\t\t\t\t\t\tnewTracksList,\r\n\t\t\t\t\t\t\tuser.allPlaylists[playlist.id].tracks\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (user.allPlaylists[playlist.id].albumList !== \"\") {\r\n\t\t\t\t\t\t\tuser.allPlaylists[playlist.id].albumList += \", \";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tuser.allPlaylists[playlist.id].albumList =\r\n\t\t\t\t\t\t\tuser.allPlaylists[playlist.id].albumList +\r\n\t\t\t\t\t\t\tnewAlbumsString.substring(\r\n\t\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t\tnewAlbumsString.length - 2\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\tuser.allPlaylists[playlist.id].albums = arrayConcat(\r\n\t\t\t\t\t\t\tuser.allPlaylists[playlist.id].albums,\r\n\t\t\t\t\t\t\tnewAlbumsList\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tuser.allPlaylists[playlist.id].tracks = arrayConcat(\r\n\t\t\t\t\t\t\tuser.allPlaylists[playlist.id].tracks,\r\n\t\t\t\t\t\t\tnewTracksList\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Update total time\r\n\t\t\t\t\tuser.allPlaylists[\r\n\t\t\t\t\t\tplaylist.id\r\n\t\t\t\t\t].playlistMilliseconds += addedTime;\r\n\t\t\t\t\t// Update lastUpdated\r\n\t\t\t\t\tuser.allPlaylists[\r\n\t\t\t\t\t\tplaylist.id\r\n\t\t\t\t\t].lastUpdated = Date.now().toString();\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tuser.log(`Houston, we had an issue with ${playlist.name}...`);\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tupdateProgress();\r\n\t\tdelayms += APIdelay;\r\n\t\tawait delay(delayms);\r\n\t}\r\n\r\n\tuser.log(`All finished big guy.`, \"end\");\r\n}\r\n\r\nexport async function replaceDescription(description) {\r\n\tresetProgress();\r\n\tlet delayms = 0;\r\n\tuser.log(\r\n\t\t`Description time! Changing the description of ${user.selectedPlaylists.length} playlists.`,\r\n\t\t\"start\"\r\n\t);\r\n\t// Go through each playlist and replace the description\r\n\tfor (var j = 0; j < user.selectedPlaylists.length; j++) {\r\n\t\tconst playlist = user.selectedPlaylists[j];\r\n\t\tlet data = { description };\r\n\r\n\t\ttry {\r\n\t\t\tlet res = await axios.put(\r\n\t\t\t\t`https://api.spotify.com/v1/playlists/${playlist.id}/`,\r\n\t\t\t\tdata,\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: \"Bearer \" + user.token,\r\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\t// If successful, update local\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tuser.log(\r\n\t\t\t\t\t`Bam. Description of ${user.selectedPlaylists[j].name} updated.`\r\n\t\t\t\t);\r\n\t\t\t\tuser.allPlaylists[playlist.id].description = description;\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tuser.log(`Uh oh! There was an issue with .`);\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n\r\n\t\tupdateProgress();\r\n\t\tdelayms += APIdelay;\r\n\t\tawait delay(delayms);\r\n\t}\r\n\tresetProgress();\r\n\tuser.log(`We're done here.`, \"end\");\r\n}\r\n\r\n// Refresh: get list of playlist tracks and re-add them to playlist\r\nexport async function refreshPlaylists() {\r\n\tconsole.log(\"hey\");\r\n\tfor (var i = 0; i < user.selectedPlaylists.length; i++) {\r\n\t\tconst playlist = user.selectedPlaylists[i];\r\n\t\tlet data = { uris: [] };\r\n\t\t// Get list of playlist tracks\r\n\t\tfor (var j = 0; j < Object.keys(playlist.tracks).length; j++) {\r\n\t\t\tconsole.log(playlist.tracks[j]);\r\n\t\t\tdata.uris.push(`spotify:track:${playlist.tracks[j].id}`);\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tlet res;\r\n\t\t\tconst apiURL = `https://api.spotify.com/v1/playlists/${playlist.id}/tracks`;\r\n\t\t\tres = await axios.put(\r\n\t\t\t\tapiURL,\r\n\t\t\t\t{ uris: [] },\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: \"Bearer \" + user.token,\r\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\tres = await axios.put(apiURL, data, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: \"Bearer \" + user.token,\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t},\r\n\t\t\t});\r\n\r\n\t\t\t// If successful, update local\r\n\t\t\tconsole.log(res);\r\n\t\t\tif (res.status === 201) {\r\n\t\t\t\tuser.log(`${playlist.name} is looking refreshed af.`);\r\n\t\t\t} else {\r\n\t\t\t\tuser.log(\r\n\t\t\t\t\t`Refreshing ${playlist.name} gave us an error. Not cool man.`\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tuser.log(\r\n\t\t\t\t`Refreshing ${playlist.name} gave us an error. Not cool man.`\r\n\t\t\t);\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport async function getPlaylistTracksAndAlbums(album_id) {\r\n\tlet nextLink;\r\n\tlet APItracks = [];\r\n\tlet tracks = [];\r\n\tlet albums = [];\r\n\tlet albumList = \"\";\r\n\tlet lastUpdated = Date.parse(\"1980-01-01T12:00:00Z\");\r\n\tlet playlistMilliseconds = 0;\r\n\tlet hasLSAlbum = false;\r\n\tdo {\r\n\t\tlet res = await axios.get(\r\n\t\t\tnextLink ||\r\n\t\t\t\t`https://api.spotify.com/v1/playlists/${album_id}/tracks?fields=`,\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: \"Bearer \" + user.token,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t);\r\n\t\t// console.log(res);\r\n\t\tAPItracks = APItracks.concat(res.data.items);\r\n\t\tnextLink = res.data.next;\r\n\t} while (nextLink);\r\n\r\n\tfor (const i in APItracks) {\r\n\t\tconst track = APItracks[i].track;\r\n\t\ttracks.push({\r\n\t\t\tplace: i,\r\n\t\t\tid: track.id,\r\n\t\t\tlength: track.duration_ms,\r\n\t\t\talbum: track.album.name,\r\n\t\t});\r\n\t\tplaylistMilliseconds += track.duration_ms;\r\n\t\tconst trackAddedDate = Date.parse(APItracks[i].added_at);\r\n\r\n\t\tif (user.allAlbums.hasOwnProperty(track.album.id)) {\r\n\t\t\thasLSAlbum = true;\r\n\t\t}\r\n\t\t// Updated lastUpdated if trackAddedDate is later\r\n\t\tif (trackAddedDate > lastUpdated) {\r\n\t\t\tlastUpdated = trackAddedDate;\r\n\t\t}\r\n\r\n\t\tif (albumList.indexOf(track.album.name) === -1) {\r\n\t\t\talbums.push({ id: track.album.id, name: track.album.name });\r\n\t\t\talbumList += track.album.name + \", \";\r\n\t\t}\r\n\t}\r\n\r\n\tif (!hasLSAlbum && Object.entries(tracks).length > 0) {\r\n\t\ttracks = undefined;\r\n\t}\r\n\r\n\t// Remove comma/space from album list\r\n\talbumList = albumList.substring(0, albumList.length - 2);\r\n\r\n\treturn [tracks, albums, albumList, lastUpdated, playlistMilliseconds];\r\n}\r\n\r\nfunction resetProgress() {\r\n\tuser.progress.done = 0;\r\n\tuser.progress.total = user.selectedPlaylists.length;\r\n\tuser.progress.percent = 0;\r\n}\r\nfunction updateProgress() {\r\n\tuser.progress.done++;\r\n\tuser.progress.percent = (user.progress.done / user.progress.total) * 100;\r\n}\r\n\r\nasync function delay(ms) {\r\n\tawait timeout(ms);\r\n}\r\n\r\nfunction arrayConcat(arr1, arr2) {\r\n\tarr2.forEach(function (item) {\r\n\t\tarr1.push(item);\r\n\t});\r\n\treturn arr1;\r\n}\r\n\r\nconst timeout = (ms) => new Promise((res) => setTimeout(res, ms));\r\n","import React, { forwardRef, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport MaterialTable from \"material-table\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport axios from \"axios\";\r\nimport { ReactSortable } from \"react-sortablejs\";\r\n\r\nimport * as api from \"./../api\";\r\n\r\nimport { view } from \"@risingstack/react-easy-state\";\r\nimport { playlistArray, user } from \"./../store\";\r\n\r\nimport AddBox from \"@material-ui/icons/AddBox\";\r\nimport ArrowDownward from \"@material-ui/icons/ArrowDownward\";\r\nimport Check from \"@material-ui/icons/Check\";\r\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\r\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\r\nimport Clear from \"@material-ui/icons/Clear\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\nimport Edit from \"@material-ui/icons/Edit\";\r\nimport FilterList from \"@material-ui/icons/FilterList\";\r\nimport FirstPage from \"@material-ui/icons/FirstPage\";\r\nimport LastPage from \"@material-ui/icons/LastPage\";\r\nimport Remove from \"@material-ui/icons/Remove\";\r\nimport SaveAlt from \"@material-ui/icons/SaveAlt\";\r\nimport Search from \"@material-ui/icons/Search\";\r\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\r\nimport { Typography, emphasize } from \"@material-ui/core\";\r\n\r\nconst tableIcons = {\r\n\tAdd: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n\tCheck: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n\tClear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tDelete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n\tDetailPanel: forwardRef((props, ref) => (\r\n\t\t<ChevronRight {...props} ref={ref} />\r\n\t)),\r\n\tEdit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n\tExport: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n\tFilter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n\tFirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n\tLastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n\tNextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n\tPreviousPage: forwardRef((props, ref) => (\r\n\t\t<ChevronLeft {...props} ref={ref} />\r\n\t)),\r\n\tResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tSearch: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n\tSortArrow: forwardRef((props, ref) => (\r\n\t\t<ArrowDownward {...props} ref={ref} />\r\n\t)),\r\n\tThirdStateCheck: forwardRef((props, ref) => (\r\n\t\t<Remove {...props} ref={ref} />\r\n\t)),\r\n\tViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\tflexWrap: \"wrap\",\r\n\t\tlistStyle: \"none\",\r\n\t\tpadding: theme.spacing(0.5),\r\n\t\tmargin: 0,\r\n\t},\r\n\tchip: {\r\n\t\tmargin: theme.spacing(0.5),\r\n\t},\r\n}));\r\n\r\nconst PlaylistTable = (props) => {\r\n\tconst classes = useStyles();\r\n\r\n\t// Get data from storage or API on launch\r\n\tuseEffect(() => {\r\n\t\tasync function loadTable() {\r\n\t\t\tlet nextLink;\r\n\t\t\tuser.log(`Fetching all of ${user.name}'s playlists`);\r\n\t\t\tdo {\r\n\t\t\t\tlet res = await axios.get(\r\n\t\t\t\t\tnextLink ||\r\n\t\t\t\t\t\t`https://api.spotify.com/v1/me/playlists?limit=50`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: \"Bearer \" + user.token,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\t// console.log(res);\r\n\t\t\t\tlet playlistBatch = res.data.items;\r\n\t\t\t\tuser.log(`Retrieved ${res.data.items.length} playlists`);\r\n\t\t\t\tfor (const i in playlistBatch) {\r\n\t\t\t\t\tlet playlist = playlistBatch[i];\r\n\t\t\t\t\tif (playlist.owner.id === user.id) {\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t!user.allPlaylists.hasOwnProperty(playlist.id) &&\r\n\t\t\t\t\t\t\tuser.filteredPlaylists.indexOf(playlist.id) === -1\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\tuser.allPlaylists[playlist.id] = {\r\n\t\t\t\t\t\t\t\tid: playlist.id,\r\n\t\t\t\t\t\t\t\tname: playlist.name,\r\n\t\t\t\t\t\t\t\turl: playlist.external_urls.spotify,\r\n\t\t\t\t\t\t\t\ttracks_endpoint: playlist.tracks.href,\r\n\t\t\t\t\t\t\t\tdescription: decodeURIComponent(\r\n\t\t\t\t\t\t\t\t\tplaylist.description\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\ttracks: [],\r\n\t\t\t\t\t\t\t\talbumList: \"Loading...\",\r\n\t\t\t\t\t\t\t\talbums: [],\r\n\t\t\t\t\t\t\t\tlastUpdated: \"Loading...\",\r\n\t\t\t\t\t\t\t\tplaylistMilliseconds: \"Loading...\",\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tnextLink = res.data.next;\r\n\t\t\t} while (nextLink);\r\n\r\n\t\t\tconst delayIncrement = 300;\r\n\t\t\tlet currentDelay = -delayIncrement;\r\n\t\t\tfor (const i in user.allPlaylists) {\r\n\t\t\t\tlet playlist = user.allPlaylists[i];\r\n\t\t\t\tif (playlist.albumList === \"Loading...\") {\r\n\t\t\t\t\tawait delay(currentDelay);\r\n\t\t\t\t\tconst [\r\n\t\t\t\t\t\tnewTracks,\r\n\t\t\t\t\t\tnewAlbums,\r\n\t\t\t\t\t\talbumList,\r\n\t\t\t\t\t\tlastUpdated,\r\n\t\t\t\t\t\tplaylistMilliseconds,\r\n\t\t\t\t\t] = await api.getPlaylistTracksAndAlbums(playlist.id);\r\n\t\t\t\t\t// console.log(newTracks, newAlbums, newAlbumList);\r\n\t\t\t\t\tif (newTracks) {\r\n\t\t\t\t\t\tuser.allPlaylists[playlist.id].tracks = newTracks;\r\n\t\t\t\t\t\tuser.allPlaylists[playlist.id].albums = newAlbums;\r\n\t\t\t\t\t\tuser.allPlaylists[playlist.id].albumList = albumList;\r\n\t\t\t\t\t\tuser.allPlaylists[\r\n\t\t\t\t\t\t\tplaylist.id\r\n\t\t\t\t\t\t].lastUpdated = lastUpdated;\r\n\t\t\t\t\t\tuser.allPlaylists[\r\n\t\t\t\t\t\t\tplaylist.id\r\n\t\t\t\t\t\t].playlistMilliseconds = playlistMilliseconds;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuser.log(`${playlist.name} was not relaxing enough.`);\r\n\t\t\t\t\t\tuser.filteredPlaylists.push(playlist.id);\r\n\t\t\t\t\t\tdelete user.allPlaylists[playlist.id];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// currentDelay += delayIncrement;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Get all user's playlists first, then determine if we need additional API calls\r\n\t\tloadTable();\r\n\t}, []);\r\n\r\n\tasync function delay(ms) {\r\n\t\tawait timeout(ms);\r\n\t}\r\n\r\n\tconst timeout = (ms) => new Promise((res) => setTimeout(res, ms));\r\n\r\n\tfunction handleDelete(name) {\r\n\t\t// Remove album from playlist\r\n\t\tconsole.log(name);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div style={{ maxWidth: \"100%\" }}>\r\n\t\t\t<MaterialTable\r\n\t\t\t\tcolumns={[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"Name\",\r\n\t\t\t\t\t\tfield: \"name\",\r\n\t\t\t\t\t\twidth: 250,\r\n\t\t\t\t\t\trender: (rowData) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Typography variant=\"body2\">\r\n\t\t\t\t\t\t\t\t\t\t<strong>{rowData.name}</strong>\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle2\">\r\n\t\t\t\t\t\t\t\t\t\t<em>{rowData.description}</em>\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"Total length\",\r\n\t\t\t\t\t\tfield: \"playlistMilliseconds\",\r\n\t\t\t\t\t\trender: (rowData) => {\r\n\t\t\t\t\t\t\tconst ms = rowData.playlistMilliseconds;\r\n\t\t\t\t\t\t\tif (ms === \"Loading...\") {\r\n\t\t\t\t\t\t\t\treturn \"Loading...\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar d, h, m, s;\r\n\t\t\t\t\t\t\ts = Math.floor(ms / 1000);\r\n\t\t\t\t\t\t\tm = Math.floor(s / 60);\r\n\t\t\t\t\t\t\ts = s % 60;\r\n\t\t\t\t\t\t\th = Math.floor(m / 60);\r\n\t\t\t\t\t\t\tm = m % 60;\r\n\t\t\t\t\t\t\td = Math.floor(h / 24);\r\n\t\t\t\t\t\t\th = h % 24;\r\n\t\t\t\t\t\t\th += d * 24;\r\n\t\t\t\t\t\t\treturn `${h < 10 ? \"0\" + h : h}:${\r\n\t\t\t\t\t\t\t\tm < 10 ? \"0\" + m : m\r\n\t\t\t\t\t\t\t}:${s < 10 ? \"0\" + s : s}`;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"Last updated\",\r\n\t\t\t\t\t\tfield: \"lastUpdated\",\r\n\t\t\t\t\t\twidth: 150,\r\n\t\t\t\t\t\trender: (rowData) => {\r\n\t\t\t\t\t\t\tconst now = Date.now().toString();\r\n\t\t\t\t\t\t\treturn `${Math.floor(\r\n\t\t\t\t\t\t\t\t(now - rowData.lastUpdated) / 86400000\r\n\t\t\t\t\t\t\t)} days ago`;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"Albums\",\r\n\t\t\t\t\t\tfield: \"albumList\",\r\n\t\t\t\t\t\twidth: 600,\r\n\t\t\t\t\t},\r\n\t\t\t\t]}\r\n\t\t\t\tdata={playlistArray()}\r\n\t\t\t\ticons={tableIcons}\r\n\t\t\t\toptions={{\r\n\t\t\t\t\tshowTitle: false,\r\n\t\t\t\t\tselection: true,\r\n\t\t\t\t\tpaging: false,\r\n\t\t\t\t\tpageSize: 20,\r\n\t\t\t\t\t// maxBodyHeight: '52vh',\r\n\t\t\t\t\tdraggable: false,\r\n\t\t\t\t\theaderStyle: {\r\n\t\t\t\t\t\tfontWeight: \"bold\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// actionsColumnIndex: -1,\r\n\t\t\t\t}}\r\n\t\t\t\tonSelectionChange={(rows) => (user.selectedPlaylists = rows)}\r\n\t\t\t\t// onRowClick={(event, rowData, togglePanel) => togglePanel()}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(PlaylistTable);\r\n","import React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport * as api from \"./../api\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport { view } from \"@risingstack/react-easy-state\";\r\nimport { user } from \"./../store\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tbg: {\r\n\t\tbackground: theme.palette.background.paper,\r\n\t},\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t\tjustifyContent: \"flex-start\",\r\n\t},\r\n\titem: {\r\n\t\tmargin: 0,\r\n\t\tmarginRight: 2,\r\n\t\tmarginBottom: 2,\r\n\t},\r\n\tprogressBox: {\r\n\t\twidth: \"100%\",\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t},\r\n\tprogress: {\r\n\t\tflexGrow: \"1\",\r\n\t},\r\n}));\r\n\r\nconst ActionButtons = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst [desc, setDesc] = useState(\"\");\r\n\r\n\tfunction descChange(e) {\r\n\t\tsetDesc(e.target.value);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<div className={classes.progressBox}>\r\n\t\t\t\t\t{/* <Typography variant=\"body1\">Current Task</Typography> */}\r\n\t\t\t\t\t<LinearProgress\r\n\t\t\t\t\t\tvariant=\"determinate\"\r\n\t\t\t\t\t\tvalue={user.progress.percent}\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tclassName={classes.progress}\r\n\t\t\t\t\t\tstyle={{ display: \"none\" }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tvariant=\"body1\"\r\n\t\t\t\t\tstyle={{ flexBasis: \"100%\", paddingTop: 5 }}>\r\n\t\t\t\t\tAdd Albums to\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tapi.addAlbums(\"start\");\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsize=\"small\">\r\n\t\t\t\t\tstart\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tapi.addAlbums(\"end\");\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsize=\"small\">\r\n\t\t\t\t\tend\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tapi.addAlbums(\"start\", \"replace\");\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsize=\"small\">\r\n\t\t\t\t\tReplace\r\n\t\t\t\t</Button>\r\n\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tvariant=\"body1\"\r\n\t\t\t\t\tstyle={{ flexBasis: \"100%\", paddingTop: 5 }}>\r\n\t\t\t\t\tPlaylist Actions\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<div style={{ textAlign: \"left\" }}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tid=\"new-description\"\r\n\t\t\t\t\t\tplaceholder=\"Description\"\r\n\t\t\t\t\t\tonChange={descChange}\r\n\t\t\t\t\t\tstyle={{ width: \"120px\", padding: 5 }}\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tapi.replaceDescription(desc);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsize=\"small\">\r\n\t\t\t\t\t\tReplace\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tapi.refreshPlaylists();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsize=\"small\">\r\n\t\t\t\t\t\trefresh albums\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* <Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}>\r\n\t\t\t\t\tAdd to start and push last album\r\n\t\t\t\t</Button> */}\r\n\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tvariant=\"body1\"\r\n\t\t\t\t\tstyle={{ flexBasis: \"100%\", paddingTop: 5 }}>\r\n\t\t\t\t\tUtility\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tlocalStorage.setItem(\"token\", \"\");\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsize=\"small\">\r\n\t\t\t\t\tClear Token\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"user\");\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsize=\"small\">\r\n\t\t\t\t\tRESET\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(ActionButtons);\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport { view } from '@risingstack/react-easy-state';\r\nimport { user } from './../store';\r\nimport { Avatar, Tooltip } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t\tjustifyContent: 'center',\r\n\t\tflexWrap: 'wrap',\r\n\t\tlistStyle: 'none',\r\n\t\tpadding: theme.spacing(0.5),\r\n\t\tmargin: 0,\r\n\t},\r\n\tchip: {\r\n\t\tmargin: theme.spacing(0.5),\r\n\t},\r\n}));\r\n\r\nconst AlbumChips = () => {\r\n\tconst classes = useStyles();\r\n\tconst handleDelete = (chipToDelete) => () => {\r\n\t\tuser.selectedAlbums = user.selectedAlbums.filter((chip) => chip !== chipToDelete);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Paper component=\"ul\" className={classes.root}>\r\n\t\t\t{user.selectedAlbums.map((albumID, index) => {\r\n\t\t\t\tlet icon;\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<li key={index}>\r\n\t\t\t\t\t\t<Tooltip title={user.allAlbums[albumID].name} placement=\"top\">\r\n\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t// label={user.allAlbums[albumID].name}\r\n\t\t\t\t\t\t\t\tonClick={handleDelete(albumID)}\r\n\t\t\t\t\t\t\t\tclassName={classes.chip}\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tavatar={<Avatar src={user.allAlbums[albumID].images[1].url} />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</Paper>\r\n\t);\r\n};\r\n\r\nexport default view(AlbumChips);\r\n","import React, { useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport AlbumList from './AlbumList';\r\nimport PlaylistTable from './PlaylistTable';\r\nimport ActionButtons from './ActionButtons';\r\nimport AlbumChips from './AlbumChips';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t},\r\n\tpaper: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\ttextAlign: 'left',\r\n\t\tcolor: theme.palette.text.secondary,\r\n\t\theight: '95vh',\r\n\t},\r\n}));\r\n\r\nconst PlaylistAlbumsPage = (props) => {\r\n\tconst { token } = props;\r\n\tconst classes = useStyles();\r\n\tconst sidebarWidth = 250;\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: 'fixed',\r\n\t\t\t\t\theight: '100vh',\r\n\t\t\t\t\twidth: sidebarWidth,\r\n\t\t\t\t\ttop: 50,\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t<AlbumList token={token} />\r\n\t\t\t\t\t<AlbumChips />\r\n\t\t\t\t\t<ActionButtons token={token} />\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t\t<div style={{ position: 'absolute', marginRight: 10, left: sidebarWidth + 10 }}>\r\n\t\t\t\t<PlaylistTable token={token} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PlaylistAlbumsPage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/MenuOpen';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport { view } from '@risingstack/react-easy-state';\r\nimport { user } from './../store';\r\n\r\nconst Logger = (props) => {\r\n\tconst [panelHeight, setPanelHeight] = useState(48);\r\n\tconst [overflow, setOverflow] = useState('hidden');\r\n\r\n\tfunction expand() {\r\n\t\tsetPanelHeight(panelHeight === 48 ? '80vh' : 48);\r\n\t\tsetOverflow(overflow === 'hidden' ? 'scroll' : 'hidden');\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tuser.logArray = [];\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\tright: 0,\r\n\t\t\t\ttop: 0,\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\talignItems: 'flex-start',\r\n\t\t\t\tjustifyContent: 'flex-end',\r\n\t\t\t\twidth: '50%',\r\n\t\t\t\theight: panelHeight,\r\n\t\t\t\tbackground: 'black',\r\n\t\t\t\tzIndex: 1000,\r\n\t\t\t\ttransition: '0.5s',\r\n\t\t\t\toverflowY: overflow,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div style={{ color: '#ddd', flexGrow: 1, paddingTop: 15, textAlign: 'left', paddingLeft: 12 }}>\r\n\t\t\t\t{user.logArray.map((logline, index) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tcomponent=\"p\"\r\n\t\t\t\t\t\t\tvariant=\"body2\"\r\n\t\t\t\t\t\t\tid=\"last-log\"\r\n\t\t\t\t\t\t\tstyle={{ display: 'block', color: logline.color }}\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{logline.text}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t\t<IconButton\r\n\t\t\t\taria-label=\"delete\"\r\n\t\t\t\tstyle={{ color: 'white' }}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\texpand();\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<MenuIcon />\r\n\t\t\t</IconButton>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(Logger);\r\n","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Box from '@material-ui/core/Box';\r\nimport Button from '@material-ui/core/Button';\r\nimport useAxios from 'axios-hooks';\r\n\r\nimport { view } from '@risingstack/react-easy-state';\r\nimport { user } from './../store';\r\n\r\nimport PlaylistAlbumsPage from './PlaylistAlbumsPage';\r\nimport Logger from './Logger';\r\n\r\nfunction TabPanel(props) {\r\n\tconst { children, value, index, ...other } = props;\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\trole=\"tabpanel\"\r\n\t\t\thidden={value !== index}\r\n\t\t\tid={`simple-tabpanel-${index}`}\r\n\t\t\taria-labelledby={`simple-tab-${index}`}\r\n\t\t\t{...other}\r\n\t\t>\r\n\t\t\t{value === index && <Box p={3}>{children}</Box>}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction a11yProps(index) {\r\n\treturn {\r\n\t\tid: `simple-tab-${index}`,\r\n\t\t'aria-controls': `simple-tabpanel-${index}`,\r\n\t};\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t\theight: 'calc(100vh - 48px)',\r\n\t\t// backgroundColor: theme.palette.background.paper,\r\n\t},\r\n}));\r\n\r\nconst Main = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst { token } = props;\r\n\tconst [value, setValue] = useState(0);\r\n\r\n\tconst [{ data, loading, error }, refetch] = useAxios({\r\n\t\turl: 'https://api.spotify.com/v1/me',\r\n\t\tmethod: 'GET',\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\n\tif (data) {\r\n\t\tconsole.log(data);\r\n\t\tuser.name = data.display_name;\r\n\t\tuser.id = data.id;\r\n\t}\r\n\r\n\tconst handleChange = (event, newValue) => {\r\n\t\tsetValue(newValue);\r\n\t};\r\n\r\n\tif (user.id !== '') {\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t{/* <div style={{ display: 'flex' }}> */}\r\n\t\t\t\t<AppBar position=\"static\" style={{ width: '50%' }}>\r\n\t\t\t\t\t<Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\">\r\n\t\t\t\t\t\t<Tab label=\"Playlist Tools\" {...a11yProps(0)} />\r\n\t\t\t\t\t\t<Tab label=\"Utilities\" {...a11yProps(1)} />\r\n\t\t\t\t\t</Tabs>\r\n\t\t\t\t</AppBar>\r\n\t\t\t\t<Logger />\r\n\t\t\t\t{/* </div> */}\r\n\t\t\t\t<TabPanel value={value} index={0} style={{ height: '100%' }}>\r\n\t\t\t\t\t<PlaylistAlbumsPage token={token} />\r\n\t\t\t\t</TabPanel>\r\n\t\t\t\t<TabPanel value={value} index={1}>\r\n\t\t\t\t\tItem Two\r\n\t\t\t\t</TabPanel>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tif (error) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<p>If you're seeing this, click this button, then refresh the page.</p>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tlocalStorage.setItem('token', '');\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tClear Token\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<p>Loading...</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(Main);\r\n","import React, { Component } from 'react';\r\nimport { authEndpoint, clientId, redirectUri, scopes } from './config';\r\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\r\nimport { green, brown } from '@material-ui/core/colors';\r\nimport hash from './hash';\r\nimport Main from './components/Main';\r\nimport logo from './logo.svg';\r\nimport './App.css';\r\nimport { user } from './store';\r\n\r\nconst LSTheme = createMuiTheme({\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t\tmain: '#668a84',\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tmain: brown[500],\r\n\t\t},\r\n\t},\r\n});\r\n\r\nclass App extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\ttoken: null,\r\n\t\t\titem: {\r\n\t\t\t\talbum: {\r\n\t\t\t\t\timages: [{ url: '' }],\r\n\t\t\t\t},\r\n\t\t\t\tname: '',\r\n\t\t\t\tartists: [{ name: '' }],\r\n\t\t\t\tduration_ms: 0,\r\n\t\t\t},\r\n\t\t\tis_playing: 'Paused',\r\n\t\t\tprogress_ms: 0,\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\t// Set token\r\n\t\tlet _token = hash.access_token || localStorage.getItem('token');\r\n\r\n\t\tif (_token) {\r\n\t\t\t// Set token\r\n\t\t\tthis.setState({\r\n\t\t\t\ttoken: _token,\r\n\t\t\t});\r\n\t\t\tlocalStorage.setItem('token', _token);\r\n\t\t\tuser.token = _token;\r\n\t\t\t// this.getCurrentlyPlaying(_token);\r\n\t\t}\r\n\t}\r\n\r\n\tclearLocalStorage() {\r\n\t\tlocalStorage.setItem('token', '');\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<ThemeProvider theme={LSTheme}>\r\n\t\t\t\t<div className=\"App\">\r\n\t\t\t\t\t<header>\r\n\t\t\t\t\t\t{!this.state.token && (\r\n\t\t\t\t\t\t\t<div className=\"App-header\">\r\n\t\t\t\t\t\t\t\t<img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn--loginApp-link\"\r\n\t\t\t\t\t\t\t\t\thref={`${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\r\n\t\t\t\t\t\t\t\t\t\t'%20'\r\n\t\t\t\t\t\t\t\t\t)}&response_type=token&show_dialog=true`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tLogin to Spotify\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{this.state.token && <Main token={this.state.token} />}\r\n\t\t\t\t\t</header>\r\n\t\t\t\t</div>\r\n\t\t\t</ThemeProvider>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}