{"version":3,"sources":["logo.svg","config.js","hash.js","store.js","components/AlbumList.js","api.js","components/PlaylistTable.js","components/ActionButtons.js","components/AlbumChips.js","components/PlaylistAlbumsPage.js","components/Logger.js","components/Main.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","scopes","hash","window","location","substring","split","reduce","initial","item","parts","decodeURIComponent","defaultUser","name","id","token","allPlaylists","filteredPlaylists","selectedAlbums","allAlbums","selectedPlaylists","progress","done","total","percent","log","newLine","color","textColor","user","logArray","unshift","text","start","normal","end","errors","store","localStorage","getItem","merge","JSON","parse","playlistArray","test","playlist","newObj","Object","objectSpread","push","observe","setItem","stringify","useStyles","makeStyles","theme","root","width","backgroundColor","palette","background","paper","list","position","overflow","maxHeight","filter","obj","predicate","keys","key","res","view","props","classes","useEffect","_loadAlbums","asyncToGenerator","regenerator_default","a","mark","_callee","nextLink","i","wrap","_context","prev","next","axios","get","headers","Authorization","sent","console","data","items","length","concat","values","stop","apply","this","arguments","loadAlbums","handleListItemClick","event","indexOf","newSelectedAlbums","react_default","createElement","className","List","component","aria-label","Typography","variant","album","album_type","map","rDate","Date","release_date","ListItem","button","selected","onClick","style","paddingLeft","paddingBottom","paddingTop","ListItemAvatar","Avatar","src","images","url","ListItemText","primary","secondary","toLocaleDateString","year","month","day","APIdelay","addAlbums","_x","_x2","_addAlbums","side","replaceArg","albumDetails","delayms","trackURIs","newAlbumsString","addedTime","newAlbumsList","cha","j","_res","resetProgress","uri","duration_ms","uris","post","Content-Type","status","albumList","playlistMilliseconds","lastUpdated","now","toString","albums","t0","updateProgress","delay","_callee2","_context2","_callee3","description","_context3","put","getPlaylistTracksAndAlbums","_x4","_getPlaylistTracksAndAlbums","_callee4","album_id","APItracks","tracks","hasLSAlbum","track","trackAddedDate","_context4","place","added_at","hasOwnProperty","entries","undefined","abrupt","_callee5","ms","_context5","timeout","Promise","setTimeout","tableIcons","Add","forwardRef","ref","AddBox_default","assign","Check","Check_default","Clear","Clear_default","Delete","DeleteOutline_default","DetailPanel","ChevronRight_default","Edit","Edit_default","Export","SaveAlt_default","Filter","FilterList_default","FirstPage","FirstPage_default","LastPage","LastPage_default","NextPage","PreviousPage","ChevronLeft_default","ResetSearch","Search","Search_default","SortArrow","ArrowDownward_default","ThirdStateCheck","Remove_default","ViewColumn","ViewColumn_default","display","justifyContent","flexWrap","listStyle","padding","spacing","margin","chip","_delay","_loadTable","playlistBatch","currentDelay","_i","_playlist","_yield$api$getPlaylis","_yield$api$getPlaylis2","newTracks","newAlbums","owner","external_urls","spotify","tracks_endpoint","href","t1","value","api","slicedToArray","loadTable","maxWidth","dist_default","columns","title","field","render","rowData","d","h","m","s","Math","floor","icons","options","showTitle","selection","paging","pageSize","draggable","headerStyle","fontWeight","onSelectionChange","rows","bg","marginRight","marginBottom","progressBox","alignItems","flexGrow","_useState","useState","_useState2","desc","setDesc","LinearProgress","flexBasis","Button","size","_refreshAlbums","textAlign","placeholder","onChange","e","target","type","_x3","_replaceDescription","removeItem","Paper","albumID","index","chipToDelete","Tooltip","placement","Chip","avatar","height","PlaylistAlbumsPage","top","left","components_AlbumList","components_AlbumChips","components_ActionButtons","sidebarWidth","components_PlaylistTable","panelHeight","setPanelHeight","_useState3","_useState4","setOverflow","right","zIndex","transition","overflowY","logline","IconButton","MenuOpen_default","TabPanel","children","other","objectWithoutProperties","role","hidden","aria-labelledby","Box","a11yProps","aria-controls","setValue","_useAxios","useAxios","method","_useAxios2","_useAxios2$","error","loading","display_name","AppBar","Tabs","newValue","Tab","label","components_Logger","components_PlaylistAlbumsPage","LSTheme","createMuiTheme","main","brown","App","_this","classCallCheck","_super","call","state","artists","is_playing","progress_ms","_token","access_token","setState","ThemeProvider","logo","alt","join","components_Main","Component","ReactDOM","src_App_0","document","getElementById"],"mappings":"6EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,sPCM3BC,EAAS,CAAC,kBAAmB,yBAA0B,sDCL9DC,EAAOC,OAAOC,SAASF,KAC1BG,UAAU,GACVC,MAAM,KACNC,OAAO,SAASC,EAASC,GACxB,GAAIA,EAAM,CACR,IAAIC,EAAQD,EAAKH,MAAM,KACvBE,EAAQE,EAAM,IAAMC,mBAAmBD,EAAM,IAE/C,OAAOF,GACN,IACLL,OAAOC,SAASF,KAAO,GAERA,mICTTU,EAAc,CACnBC,KAAM,GACNC,GAAI,GACJC,MAAO,GACPC,aAAc,GACdC,kBAAmB,GACnBC,eAAgB,GAChBC,UAAW,GACXC,kBAAmB,GACnBC,SAAU,CACTC,KAAM,EACNC,MAAO,EACPC,QAAS,GAEVC,IAAK,SAACC,EAASC,GACd,IAAMC,EAAYD,GAAS,SAM3BE,EAAKC,SAASC,QAAQ,CAAEC,KAAMN,EAASC,MALxB,CACdM,MAAO,QACPC,OAAQ,OACRC,IAAK,OAE+CP,MAEtDE,SAAU,GACVM,OAAQ,IAGIP,EAAOQ,YACa,MAAhCC,aAAaC,QAAQ,QAAkBC,IAAM5B,EAAa6B,KAAKC,MAAMJ,aAAaC,QAAQ,UAAY3B,GAmBhG,SAAS+B,IACf,IAAIC,EAAO,GACX,IAAK,IAAIC,KAAYhB,EAAKb,aAAc,CACvC,IAAM8B,EAAMC,OAAAC,EAAA,EAAAD,CAAA,GACRlB,EAAKb,aAAa6B,IAEtBD,EAAKK,KAAKH,GAIX,OAAOF,EA1BRM,YAAQ,WACPZ,aAAaa,QAAQ,OAAQV,KAAKW,UAAUvB,MA4B7C1B,OAAO0B,KAAOA,+GCnDRwB,EAAYC,YAAW,SAACC,GAAD,MAAY,CACxCC,KAAM,CACLC,MAAO,OACPC,gBAAiBH,EAAMI,QAAQC,WAAWC,OAE3CC,KAAM,CACLC,SAAU,WACVC,SAAU,OACVC,UAAW,WAIblB,OAAOmB,OAAS,SAACC,EAAKC,GAAN,OACfrB,OAAOsB,KAAKF,GACVD,OAAO,SAACI,GAAD,OAASF,EAAUD,EAAIG,MAC9B/D,OAAO,SAACgE,EAAKD,GAAN,OAAgBC,EAAID,GAAOH,EAAIG,GAAOC,GAAM,KAEtD,IAqHeC,cArHG,SAACC,GAClB,IAAMC,EAAUrB,IACRtC,EAAU0D,EAAV1D,MAIR4D,oBAAU,WAAM,SAAAC,IAAA,OAAAA,EAAA7B,OAAA8B,EAAA,EAAA9B,CAAA+B,EAAAC,EAAAC,KACf,SAAAC,IAAA,IAAAC,EAAAX,EAAAY,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEC1D,EAAKJ,IAAI,wBAFV,cAAA4D,EAAAE,KAAA,EAIkBC,IAAMC,IACrBP,GACC,+FACD,CACCQ,QAAS,CACRC,cAAe,UAAY5E,KAThC,OAgBE,IAZIwD,EAJNc,EAAAO,KAeEC,QAAQpE,IAAII,GACHsD,EAAI,EAAGA,EAAIZ,EAAIuB,KAAKC,MAAMC,OAAQb,IAC1CtD,EAAKV,UAAUoD,EAAIuB,KAAKC,MAAMZ,GAAGrE,IAAMyD,EAAIuB,KAAKC,MAAMZ,GAEvDD,EAAWX,EAAIuB,KAAKP,KAnBtB,UAoBUL,EApBV,CAAAG,EAAAE,KAAA,eAqBC1D,EAAKJ,IAAL,UAAAwE,OAAmBlD,OAAOmD,OAAOrE,EAAKV,WAAW6E,OAAjD,YACAH,QAAQpE,IAAII,EAAKV,WAtBlB,yBAAAkE,EAAAc,SAAAlB,OADemB,MAAAC,KAAAC,YAAA,WAAA1B,EAAAwB,MAAAC,KAAAC,WA0BfC,GACA1E,EAAKX,eAAiB,IACpB,IAEH,IAAMsF,EAAsB,SAACC,EAAO3F,GACnC,GAAIe,EAAKX,eAAewF,QAAQ5F,IAAO,EAAG,CACzC,IAAM6F,EAAoB9E,EAAKX,eAAegD,OAAO,SAACzD,GAAD,OAAUA,IAASK,IACxEe,EAAKX,eAAiByF,OAEtB9E,EAAKX,eAAiBW,EAAKX,eAAe+E,OAAOnF,IAInD,OACC8F,EAAA7B,EAAA8B,cAAA,OAAKC,UAAWpC,EAAQlB,MACvBoD,EAAA7B,EAAA8B,cAACE,EAAA,EAAD,CAAMD,UAAWpC,EAAQZ,KAAMkD,UAAU,MAAMC,aAAW,wBACzDL,EAAA7B,EAAA8B,cAACK,EAAA,EAAD,CAAYC,QAAQ,SAApB,UACCtF,EAAKV,WACL4B,OAAOmD,OAAOnD,OAAOmB,OAAOrC,EAAKV,UAAW,SAACiG,GAAD,MAAgC,UAArBA,EAAMC,cAAyBC,IACrF,SAACF,EAAOjC,GACP,IAAMoC,EAAQ,IAAIC,KAAKJ,EAAMK,cAC7B,OACCb,EAAA7B,EAAA8B,cAACa,EAAA,EAAD,CACCC,QAAM,EACNC,SAAU/F,EAAKX,eAAewF,QAAQU,EAAMtG,KAAO,EACnD+G,QAAS,SAACpB,GAAD,OAAWD,EAAoBC,EAAOW,EAAMtG,KACrDwD,IAAK8C,EAAMtG,GACXgH,MAAO,CACNC,YAAa,EACbC,cAAe,EACfC,WAAY,IAGbrB,EAAA7B,EAAA8B,cAACqB,EAAA,EAAD,KACCtB,EAAA7B,EAAA8B,cAACsB,EAAA,EAAD,CAAQhB,QAAQ,SAASiB,IAAKhB,EAAMiB,OAAO,GAAGC,OAE/C1B,EAAA7B,EAAA8B,cAAC0B,EAAA,EAAD,CACCC,QAASpB,EAAMvG,KACf4H,UAAWlB,EAAMmB,mBAAmB,QAAS,CAC5CC,KAAM,UACNC,MAAO,OACPC,IAAK,iBAOZjC,EAAA7B,EAAA8B,cAACK,EAAA,EAAD,CAAYC,QAAQ,SAApB,WACCtF,EAAKV,WACL4B,OAAOmD,OAAOnD,OAAOmB,OAAOrC,EAAKV,UAAW,SAACiG,GAAD,MAAgC,WAArBA,EAAMC,cAA0BC,IACtF,SAACF,EAAOjC,GACP,IAAMoC,EAAQ,IAAIC,KAAKJ,EAAMK,cAC7B,OACCb,EAAA7B,EAAA8B,cAACa,EAAA,EAAD,CACCC,QAAM,EACNC,SAAU/F,EAAKX,eAAewF,QAAQU,EAAMtG,KAAO,EACnD+G,QAAS,SAACpB,GAAD,OAAWD,EAAoBC,EAAOW,EAAMtG,KACrDwD,IAAK8C,EAAMtG,GACXgH,MAAO,CACNC,YAAa,EACbC,cAAe,EACfC,WAAY,IAGbrB,EAAA7B,EAAA8B,cAACqB,EAAA,EAAD,KACCtB,EAAA7B,EAAA8B,cAACsB,EAAA,EAAD,CAAQhB,QAAQ,SAASiB,IAAKhB,EAAMiB,OAAO,GAAGC,OAE/C1B,EAAA7B,EAAA8B,cAAC0B,EAAA,EAAD,CACCC,QAASpB,EAAMvG,KACf4H,UAAWlB,EAAMmB,mBAAmB,QAAS,CAC5CC,KAAM,UACNC,MAAO,OACPC,IAAK,uCCpIVC,UAAW,KAEV,SAAeC,EAAtBC,EAAAC,GAAA,OAAAC,EAAA9C,MAAAC,KAAAC,sDAAO,SAAArB,EAAyBkE,EAAMC,GAA/B,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAvE,EAAAZ,EAAAoF,EAAAC,EAAA/G,EAAAiD,EAAA+D,EAAA,OAAA/E,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACNuE,KAC+B,YAAfV,EACZC,EAAe,GACfC,EAAU,EACVC,EAAY,GACZC,EAAkB,KAClBC,EAAY,EACZC,EAAgB,GACpB7H,EAAKJ,IAAL,oBAAAwE,OACqBpE,EAAKX,eAAe8E,OADzC,mBAAAC,OACiEkD,EADjE,QAAAlD,OAC4EpE,EAAKT,kBAAkB4E,OADnG,cAEC,SAEQb,EAAI,EAbP,aAaUA,EAAItD,EAAKX,eAAe8E,QAblC,CAAAX,EAAAE,KAAA,gBAcL1D,EAAKJ,IAAL,2BAAAwE,OAAoCpE,EAAKV,UAAUU,EAAKX,eAAeiE,IAAItE,OAdtEwE,EAAAE,KAAA,GAeWC,IAAMC,IAAN,qCAAAQ,OAA+CpE,EAAKX,eAAeiE,GAAnE,WAAgF,CAC/FO,QAAS,CACRC,cAAe,UAAY9D,EAAKd,SAjB7B,QAwBL,IATIwD,EAfCc,EAAAO,KAoBLyD,EAAeA,EAAapD,OAAO1B,EAAIuB,MACvC0D,GAAe,GAAAvD,OAAOpE,EAAKV,UAAUU,EAAKX,eAAeiE,IAAItE,KAA9C,MACf6I,EAAczG,KAAKpB,EAAKV,UAAUU,EAAKX,eAAeiE,KAE7CwE,EAAM,EAAGA,EAAMN,EAAalE,GAAG5D,MAAOoI,IAC9CJ,EAAUtG,KAAKoG,EAAalE,GAAGY,MAAM4D,GAAKI,KAC1CN,GAAaJ,EAAalE,GAAGY,MAAM4D,GAAKK,YA1BpC,QAa0C7E,IAb1CE,EAAAE,KAAA,iBAgCGqE,EAAI,EAhCP,aAgCUA,EAAI/H,EAAKT,kBAAkB4E,QAhCrC,CAAAX,EAAAE,KAAA,gBAiCC1C,EAAWhB,EAAKT,kBAAkBwI,GAKnC9D,EACM,UAATqD,EACG,CACAc,KAAMV,EACNxF,SAAU,GAEV,CACAkG,KAAMV,GA7CNlE,EAAAC,KAAA,GAAAD,EAAAE,KAAA,GAgDaC,IAAM0E,KAAN,wCAAAjE,OAAmDpD,EAAS/B,GAA5D,WAAyEgF,EAAM,CAC9FJ,QAAS,CACRC,cAAe,UAAY9D,EAAKd,MAChCoJ,eAAgB,sBAnDf,QAgDC5F,EAhDDc,EAAAO,KAuDHC,QAAQpE,IAAI8C,GACO,MAAfA,EAAI6F,SACPvI,EAAKJ,IAAL,wBAAAwE,OAAiCsD,EAAUvD,OAA3C,gBAAAC,OAAgEpD,EAAShC,KAAzE,MAGCgB,EAAKb,aAAa6B,EAAS/B,IAAIuJ,UADnB,UAATlB,EAEFK,EAAgBnJ,UAAU,GAAKwB,EAAKb,aAAa6B,EAAS/B,IAAIuJ,UAG9DxI,EAAKb,aAAa6B,EAAS/B,IAAIuJ,UAC/Bb,EAAgBnJ,UAAU,EAAGmJ,EAAgBxD,OAAS,GAGxDnE,EAAKb,aAAa6B,EAAS/B,IAAIwJ,sBAAwBb,EAEvD5H,EAAKb,aAAa6B,EAAS/B,IAAIyJ,YAAc/C,KAAKgD,MAAMC,WAExD5I,EAAKb,aAAa6B,EAAS/B,IAAI4J,OAAOzE,OAAOyD,IAxE3CrE,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAsF,GAAAtF,EAAA,UA4EHxD,EAAKJ,IAAL,iCAAAwE,OAA0CpD,EAAShC,KAAnD,QACAgF,QAAQpE,IAAR4D,EAAAsF,IA7EG,eAiFLC,KACAtB,GAAWR,EAlFNzD,EAAAE,KAAA,GAmFCsF,GAAMvB,GAnFP,QAgC6CM,IAhC7CvE,EAAAE,KAAA,iBAsFN1D,EAAKJ,IAAL,wBAAkC,OAtF5B,yBAAA4D,EAAAc,SAAAlB,EAAA,uFAyFA,SAAA6F,IAAA,OAAAhG,EAAAC,EAAAK,KAAA,SAAA2F,GAAA,cAAAA,EAAAzF,KAAAyF,EAAAxF,MAAA,wBAAAwF,EAAA5E,SAAA2E,0EAEA,SAAAE,EAAkCC,GAAlC,IAAA3B,EAAAM,EAAA/G,EAAAiD,EAAA,OAAAhB,EAAAC,EAAAK,KAAA,SAAA8F,GAAA,cAAAA,EAAA5F,KAAA4F,EAAA3F,MAAA,OACNuE,KACIR,EAAU,EACdzH,EAAKJ,IAAL,iDAAAwE,OAA0DpE,EAAKT,kBAAkB4E,OAAjF,eAAsG,SAE7F4D,EAAI,EALP,YAKUA,EAAI/H,EAAKT,kBAAkB4E,QALrC,CAAAkF,EAAA3F,KAAA,gBAMC1C,EAAWhB,EAAKT,kBAAkBwI,GACpC9D,EAAO,CAAEmF,eAPRC,EAAA5F,KAAA,EAAA4F,EAAA3F,KAAA,GAUYC,IAAM2F,IAAN,wCAAAlF,OAAkDpD,EAAS/B,GAA3D,KAAkEgF,EAAM,CACvFJ,QAAS,CACRC,cAAe,UAAY9D,EAAKd,MAChCoJ,eAAgB,sBAbd,QAiBe,MAjBfe,EAAAtF,KAiBIwE,SACPvI,EAAKJ,IAAL,uBAAAwE,OAAgCpE,EAAKT,kBAAkBwI,GAAG/I,KAA1D,cACAgB,EAAKb,aAAa6B,EAAS/B,IAAImK,YAAcA,GAnB1CC,EAAA3F,KAAA,iBAAA2F,EAAA5F,KAAA,GAAA4F,EAAAP,GAAAO,EAAA,SAsBJrJ,EAAKJ,IAAL,oCACAoE,QAAQpE,IAARyJ,EAAAP,IAvBI,eA0BLC,KACAtB,GAAWR,EA3BNoC,EAAA3F,KAAA,GA4BCsF,GAAMvB,GA5BP,QAK6CM,IAL7CsB,EAAA3F,KAAA,gBA8BNuE,KACAjI,EAAKJ,IAAL,mBAA6B,OA/BvB,yBAAAyJ,EAAA/E,SAAA6E,EAAA,yCAkCA,SAAeI,GAAtBC,GAAA,OAAAC,GAAAlF,MAAAC,KAAAC,wDAAO,SAAAiF,EAA0CC,GAA1C,IAAAtG,EAAAuG,EAAAC,EAAAhB,EAAAL,EAAAE,EAAAD,EAAAqB,EAAApH,EAAAY,EAAAyG,EAAAC,EAAA,OAAA/G,EAAAC,EAAAK,KAAA,SAAA0G,GAAA,cAAAA,EAAAxG,KAAAwG,EAAAvG,MAAA,OAEFkG,EAAY,GACZC,EAAS,GACThB,EAAS,GACTL,EAAY,GACZE,EAAc/C,KAAK9E,MAAM,wBACzB4H,EAAuB,EACvBqB,GAAa,EARX,cAAAG,EAAAvG,KAAA,EAUWC,IAAMC,IAAIP,GAAQ,wCAAAe,OAA4CuF,EAA5C,mBAAuE,CACxG9F,QAAS,CACRC,cAAe,UAAY9D,EAAKd,SAZ7B,OAUDwD,EAVCuH,EAAAlG,KAgBL6F,EAAYA,EAAUxF,OAAO1B,EAAIuB,KAAKC,OACtCb,EAAWX,EAAIuB,KAAKP,KAjBf,WAkBGL,EAlBH,CAAA4G,EAAAvG,KAAA,gBAoBN,IAAWJ,KAAKsG,EACTG,EAAQH,EAAUtG,GAAGyG,MAC3BF,EAAOvG,GAAK,CAAE4G,MAAO5G,EAAGrE,GAAI8K,EAAM9K,GAAIsG,MAAOwE,EAAMxE,MAAMvG,MACzDyJ,GAAwBsB,EAAM5B,YACxB6B,EAAiBrE,KAAK9E,MAAM+I,EAAUtG,GAAG6G,UAE3CnK,EAAKV,UAAU8K,eAAeL,EAAMxE,MAAMtG,MAC7C6K,GAAa,GAGVE,EAAiBtB,IACpBA,EAAcsB,IAG8B,IAAzCxB,EAAU3D,QAAQkF,EAAMxE,MAAMvG,QACjC6J,EAAOzH,KAAK,CAAEnC,GAAI8K,EAAMxE,MAAMtG,GAAID,KAAM+K,EAAMxE,MAAMvG,OACpDwJ,GAAauB,EAAMxE,MAAMvG,KAAO,MApC5B,OAwCD8K,GAAc5I,OAAOmJ,QAAQR,GAAQ1F,OAAS,IAClD0F,OAASS,GAIV9B,EAAYA,EAAUhK,UAAU,EAAGgK,EAAUrE,OAAS,GA7ChD8F,EAAAM,OAAA,SA+CC,CAACV,EAAQhB,EAAQL,EAAWE,EAAaD,IA/C1C,yBAAAwB,EAAA3F,SAAAoF,6BAkDP,SAASzB,KACRjI,EAAKR,SAASC,KAAO,EACrBO,EAAKR,SAASE,MAAQM,EAAKT,kBAAkB4E,OAC7CnE,EAAKR,SAASG,QAAU,EAEzB,SAASoJ,KACR/I,EAAKR,SAASC,OACdO,EAAKR,SAASG,QAAWK,EAAKR,SAASC,KAAOO,EAAKR,SAASE,MAAS,aAGvDsJ,mFAAf,SAAAwB,EAAqBC,GAArB,OAAAxH,EAAAC,EAAAK,KAAA,SAAAmH,GAAA,cAAAA,EAAAjH,KAAAiH,EAAAhH,MAAA,cAAAgH,EAAAhH,KAAA,EACOiH,GAAQF,GADf,wBAAAC,EAAApG,SAAAkG,6BAIA,IAAMG,GAAU,SAACF,GAAD,OAAQ,IAAIG,QAAQ,SAAClI,GAAD,OAASmI,WAAWnI,EAAK+H,iUCrKvDK,GAAa,CAClBC,IAAKC,qBAAW,SAACpI,EAAOqI,GAAR,OAAgBlG,EAAA7B,EAAA8B,cAACkG,GAAAhI,EAADhC,OAAAiK,OAAA,GAAYvI,EAAZ,CAAmBqI,IAAKA,OACxDG,MAAOJ,qBAAW,SAACpI,EAAOqI,GAAR,OAAgBlG,EAAA7B,EAAA8B,cAACqG,GAAAnI,EAADhC,OAAAiK,OAAA,GAAWvI,EAAX,CAAkBqI,IAAKA,OACzDK,MAAON,qBAAW,SAACpI,EAAOqI,GAAR,OAAgBlG,EAAA7B,EAAA8B,cAACuG,GAAArI,EAADhC,OAAAiK,OAAA,GAAWvI,EAAX,CAAkBqI,IAAKA,OACzDO,OAAQR,qBAAW,SAACpI,EAAOqI,GAAR,OAAgBlG,EAAA7B,EAAA8B,cAACyG,GAAAvI,EAADhC,OAAAiK,OAAA,GAAmBvI,EAAnB,CAA0BqI,IAAKA,OAClES,YAAaV,qBAAW,SAACpI,EAAOqI,GAAR,OAAgBlG,EAAA7B,EAAA8B,cAAC2G,GAAAzI,EAADhC,OAAAiK,OAAA,GAAkBvI,EAAlB,CAAyBqI,IAAKA,OACtEW,KAAMZ,qBAAW,SAACpI,EAAOqI,GAAR,OAAgBlG,EAAA7B,EAAA8B,cAAC6G,GAAA3I,EAADhC,OAAAiK,OAAA,GAAUvI,EAAV,CAAiBqI,IAAKA,OACvDa,OAAQd,qBAAW,SAACpI,EAAOqI,GAAR,OAAgBlG,EAAA7B,EAAA8B,cAAC+G,GAAA7I,EAADhC,OAAAiK,OAAA,GAAavI,EAAb,CAAoBqI,IAAKA,OAC5De,OAAQhB,qBAAW,SAACpI,EAAOqI,GAAR,OAAgBlG,EAAA7B,EAAA8B,cAACiH,GAAA/I,EAADhC,OAAAiK,OAAA,GAAgBvI,EAAhB,CAAuBqI,IAAKA,OAC/DiB,UAAWlB,qBAAW,SAACpI,EAAOqI,GAAR,OAAgBlG,EAAA7B,EAAA8B,cAACmH,GAAAjJ,EAADhC,OAAAiK,OAAA,GAAevI,EAAf,CAAsBqI,IAAKA,OACjEmB,SAAUpB,qBAAW,SAACpI,EAAOqI,GAAR,OAAgBlG,EAAA7B,EAAA8B,cAACqH,GAAAnJ,EAADhC,OAAAiK,OAAA,GAAcvI,EAAd,CAAqBqI,IAAKA,OAC/DqB,SAAUtB,qBAAW,SAACpI,EAAOqI,GAAR,OAAgBlG,EAAA7B,EAAA8B,cAAC2G,GAAAzI,EAADhC,OAAAiK,OAAA,GAAkBvI,EAAlB,CAAyBqI,IAAKA,OACnEsB,aAAcvB,qBAAW,SAACpI,EAAOqI,GAAR,OAAgBlG,EAAA7B,EAAA8B,cAACwH,GAAAtJ,EAADhC,OAAAiK,OAAA,GAAiBvI,EAAjB,CAAwBqI,IAAKA,OACtEwB,YAAazB,qBAAW,SAACpI,EAAOqI,GAAR,OAAgBlG,EAAA7B,EAAA8B,cAACuG,GAAArI,EAADhC,OAAAiK,OAAA,GAAWvI,EAAX,CAAkBqI,IAAKA,OAC/DyB,OAAQ1B,qBAAW,SAACpI,EAAOqI,GAAR,OAAgBlG,EAAA7B,EAAA8B,cAAC2H,GAAAzJ,EAADhC,OAAAiK,OAAA,GAAYvI,EAAZ,CAAmBqI,IAAKA,OAC3D2B,UAAW5B,qBAAW,SAACpI,EAAOqI,GAAR,OAAgBlG,EAAA7B,EAAA8B,cAAC6H,GAAA3J,EAADhC,OAAAiK,OAAA,GAAmBvI,EAAnB,CAA0BqI,IAAKA,OACrE6B,gBAAiB9B,qBAAW,SAACpI,EAAOqI,GAAR,OAAgBlG,EAAA7B,EAAA8B,cAAC+H,GAAA7J,EAADhC,OAAAiK,OAAA,GAAYvI,EAAZ,CAAmBqI,IAAKA,OACpE+B,WAAYhC,qBAAW,SAACpI,EAAOqI,GAAR,OAAgBlG,EAAA7B,EAAA8B,cAACiI,GAAA/J,EAADhC,OAAAiK,OAAA,GAAgBvI,EAAhB,CAAuBqI,IAAKA,QAG9DzJ,GAAYC,YAAW,SAACC,GAAD,MAAY,CACxCC,KAAM,CACLuL,QAAS,OACTC,eAAgB,SAChBC,SAAU,OACVC,UAAW,OACXC,QAAS5L,EAAM6L,QAAQ,IACvBC,OAAQ,GAETC,KAAM,CACLD,OAAQ9L,EAAM6L,QAAQ,QAwKT5K,eApKO,SAACC,GACNpB,KADgB,SA4EjBwH,EA5EiB7B,GAAA,OAAAuG,EAAAnJ,MAAAC,KAAAC,WAAA,SAAAiJ,IAAA,OAAAA,EAAAxM,OAAA8B,EAAA,EAAA9B,CAAA+B,EAAAC,EAAAC,KA4EhC,SAAA8F,EAAqBwB,GAArB,OAAAxH,EAAAC,EAAAK,KAAA,SAAA2F,GAAA,cAAAA,EAAAzF,KAAAyF,EAAAxF,MAAA,cAAAwF,EAAAxF,KAAA,EACOiH,EAAQF,GADf,wBAAAvB,EAAA5E,SAAA2E,OA5EgC1E,MAAAC,KAAAC,WAIhC3B,oBAAU,WAAM,SAAA6K,IAAA,OAAAA,EAAAzM,OAAA8B,EAAA,EAAA9B,CAAA+B,EAAAC,EAAAC,KACf,SAAAC,IAAA,IAAAC,EAAAX,EAAAkL,EAAAtK,EAAAtC,EAAA6M,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA3F,EAAAE,EAAAD,EAAA,OAAAxF,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEC1D,EAAKJ,IAAL,mBAAAwE,OAA4BpE,EAAKhB,KAAjC,iBAFD,cAAAwE,EAAAE,KAAA,EAIkBC,IAAMC,IAAIP,GAAQ,mDAAwD,CACzFQ,QAAS,CACRC,cAAe,UAAY9D,EAAKd,SANpC,OAYE,IAAWoE,KARPZ,EAJNc,EAAAO,KAUM6J,EAAgBlL,EAAIuB,KAAKC,MAC7BlE,EAAKJ,IAAL,aAAAwE,OAAsB1B,EAAIuB,KAAKC,MAAMC,OAArC,eACgByJ,GACX5M,EAAW4M,EAActK,IAChB8K,MAAMnP,KAAOe,EAAKf,KAE5Be,EAAKb,aAAaiL,eAAepJ,EAAS/B,MACM,IAAjDe,EAAKZ,kBAAkByF,QAAQ7D,EAAS/B,MAExCe,EAAKb,aAAa6B,EAAS/B,IAAM,CAChCA,GAAI+B,EAAS/B,GACbD,KAAMgC,EAAShC,KACfyH,IAAKzF,EAASqN,cAAcC,QAC5BC,gBAAiBvN,EAAS6I,OAAO2E,KACjCpF,YAAatK,mBAAmBkC,EAASoI,aACzCS,OAAQ,GACRrB,UAAW,aACXK,OAAQ,GACRH,YAAa,aACbD,qBAAsB,gBAK1BpF,EAAWX,EAAIuB,KAAKP,KAlCtB,UAmCUL,EAnCV,CAAAG,EAAAE,KAAA,eAsCKmK,GADmB,IArCxBrK,EAAAsF,GAAA7F,EAAAC,EAAAV,KAuCiBxC,EAAKb,cAvCtB,YAAAqE,EAAAiL,GAAAjL,EAAAsF,MAAArJ,KAAA,CAAA+D,EAAAE,KAAA,YAuCYJ,EAvCZE,EAAAiL,GAAAC,MAyC6B,gBADvB1N,EAAWhB,EAAKb,aAAamE,IACpBkF,UAzCf,CAAAhF,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,GA0CSsF,EAAM6E,GA1Cf,eAAArK,EAAAE,KAAA,GAiDaiL,GAA+B3N,EAAS/B,IAjDrD,QAAA+O,EAAAxK,EAAAO,KAAAkK,EAAA/M,OAAA0N,EAAA,EAAA1N,CAAA8M,EAAA,GA4CIE,EA5CJD,EAAA,GA6CIE,EA7CJF,EAAA,GA8CIzF,EA9CJyF,EAAA,GA+CIvF,EA/CJuF,EAAA,GAgDIxF,EAhDJwF,EAAA,GAmDOC,GACHlO,EAAKb,aAAa6B,EAAS/B,IAAI4K,OAASqE,EACxClO,EAAKb,aAAa6B,EAAS/B,IAAI4J,OAASsF,EACxCnO,EAAKb,aAAa6B,EAAS/B,IAAIuJ,UAAYA,EAC3CxI,EAAKb,aAAa6B,EAAS/B,IAAIyJ,YAAcA,EAC7C1I,EAAKb,aAAa6B,EAAS/B,IAAIwJ,qBAAuBA,IAEtDzI,EAAKJ,IAAL,GAAAwE,OAAYpD,EAAShC,KAArB,8BACAgB,EAAKZ,kBAAkBgC,KAAKJ,EAAS/B,WAC9Be,EAAKb,aAAa6B,EAAS/B,KA5DtC,QAAAuE,EAAAE,KAAA,kCAAAF,EAAAc,SAAAlB,OADemB,MAAAC,KAAAC,YAAA,WAAAkJ,EAAApJ,MAAAC,KAAAC,WAqEfoK,IACE,IAMH,IAAMlE,EAAU,SAACF,GAAD,OAAQ,IAAIG,QAAQ,SAAClI,GAAD,OAASmI,WAAWnI,EAAK+H,MAO7D,OACC1F,EAAA7B,EAAA8B,cAAA,OAAKiB,MAAO,CAAE6I,SAAU,SACvB/J,EAAA7B,EAAA8B,cAAC+J,EAAA7L,EAAD,CACC8L,QAAS,CACR,CACCC,MAAO,OACPC,MAAO,OACPtN,MAAO,IACPuN,OAAQ,SAACC,GACR,OACCrK,EAAA7B,EAAA8B,cAAA,WACCD,EAAA7B,EAAA8B,cAACK,EAAA,EAAD,CAAYC,QAAQ,SACnBP,EAAA7B,EAAA8B,cAAA,cAASoK,EAAQpQ,OAElB+F,EAAA7B,EAAA8B,cAACK,EAAA,EAAD,CAAYC,QAAQ,aACnBP,EAAA7B,EAAA8B,cAAA,UAAKoK,EAAQhG,iBAMlB,CACC6F,MAAO,eACPC,MAAO,uBACPC,OAAQ,SAACC,GACR,IAIIC,EAAGC,EAAGC,EAAGC,EAJP/E,EAAK2E,EAAQ3G,qBACnB,MAAW,eAAPgC,EACI,cAGR+E,EAAIC,KAAKC,MAAMjF,EAAK,KACpB8E,EAAIE,KAAKC,MAAMF,EAAI,IACnBA,GAAQ,GACRF,EAAIG,KAAKC,MAAMH,EAAI,IACnBA,GAAQ,GACRF,EAAII,KAAKC,MAAMJ,EAAI,IACnBA,GAAQ,GAER,GAAAlL,OADAkL,GAAS,GAAJD,EACL,KAAAjL,OAAemL,EAAf,KAAAnL,OAAoBoL,MAGtB,CACCP,MAAO,eACPC,MAAO,cACPtN,MAAO,IACPuN,OAAQ,SAACC,GACR,IAAMzG,EAAMhD,KAAKgD,MAAMC,WACvB,SAAAxE,OAAUqL,KAAKC,OAAO/G,EAAMyG,EAAQ1G,aAAe,OAAnD,eAGF,CACCuG,MAAO,SACPC,MAAO,YACPtN,MAAO,MAGTqC,KAAMnD,IACN6O,MAAO7E,GACP8E,QAAS,CACRC,WAAW,EACXC,WAAW,EACXC,QAAQ,EACRC,SAAU,GAEVC,WAAW,EACXC,YAAa,CACZC,WAAY,SAIdC,kBAAmB,SAACC,GAAD,OAAWrQ,EAAKT,kBAAoB8Q,kBCjNrD7O,GAAYC,YAAW,SAACC,GAAD,MAAY,CACxC4O,GAAI,CACHvO,WAAYL,EAAMI,QAAQC,WAAWC,OAEtCL,KAAM,CACLuL,QAAS,OACTE,SAAU,OACVD,eAAgB,cAEjBvO,KAAM,CACL4O,OAAQ,EACR+C,YAAa,EACbC,aAAc,GAEfC,YAAa,CACZ7O,MAAO,OACPsL,QAAS,OACTwD,WAAY,UAEblR,SAAU,CACTmR,SAAU,QAoIGhO,eAhIO,SAACC,GACtB,IAAMC,EAAUrB,KADgBoP,EAERC,mBAAS,IAFDC,EAAA5P,OAAA0N,EAAA,EAAA1N,CAAA0P,EAAA,GAEzBG,EAFyBD,EAAA,GAEnBE,EAFmBF,EAAA,GAQhC,OACC/L,EAAA7B,EAAA8B,cAAA,WACCD,EAAA7B,EAAA8B,cAAA,OAAKC,UAAWpC,EAAQlB,MACvBoD,EAAA7B,EAAA8B,cAAA,OAAKC,UAAWpC,EAAQ4N,aAEvB1L,EAAA7B,EAAA8B,cAACiM,GAAA,EAAD,CACC3L,QAAQ,cACRoJ,MAAO1O,EAAKR,SAASG,QACrBG,MAAM,YACNmF,UAAWpC,EAAQrD,SACnByG,MAAO,CAAEiH,QAAS,WAGpBnI,EAAA7B,EAAA8B,cAACK,EAAA,EAAD,CAAYC,QAAQ,QAAQW,MAAO,CAAEiL,UAAW,OAAQ9K,WAAY,IAApE,iBAGArB,EAAA7B,EAAA8B,cAACmM,EAAA,EAAD,CACC7L,QAAQ,YACRxF,MAAM,UACNmF,UAAWpC,EAAQjE,KACnBoH,QAAS,WACR2I,EAAc,UAEfyC,KAAK,SAPN,SAWArM,EAAA7B,EAAA8B,cAACmM,EAAA,EAAD,CACC7L,QAAQ,YACRxF,MAAM,UACNmF,UAAWpC,EAAQjE,KACnBoH,QAAS,WACR2I,EAAc,QAEfyC,KAAK,SAPN,OAWArM,EAAA7B,EAAA8B,cAACmM,EAAA,EAAD,CACC7L,QAAQ,YACRxF,MAAM,UACNmF,UAAWpC,EAAQjE,KACnBoH,QAAS,WACR2I,EAAc,QAAS,YAExByC,KAAK,SAPN,WAWArM,EAAA7B,EAAA8B,cAACmM,EAAA,EAAD,CACC7L,QAAQ,YACRxF,MAAM,UACNmF,UAAWpC,EAAQjE,KACnBoH,QAAS,YFFP,WAAPqL,GAAA9M,MAAAC,KAAAC,WEGMkK,IAEDyC,KAAK,SAPN,WAWArM,EAAA7B,EAAA8B,cAACK,EAAA,EAAD,CAAYC,QAAQ,QAAQW,MAAO,CAAEiL,UAAW,OAAQ9K,WAAY,IAApE,oBAGArB,EAAA7B,EAAA8B,cAAA,OAAKiB,MAAO,CAAEqL,UAAW,SACxBvM,EAAA7B,EAAA8B,cAAA,SACC/F,GAAG,kBACHsS,YAAY,cACZC,SAvEL,SAAoBC,GACnBT,EAAQS,EAAEC,OAAOhD,QAuEbzI,MAAO,CAAErE,MAAO,QAAS0L,QAAS,GAClCqE,KAAK,SAEN5M,EAAA7B,EAAA8B,cAACmM,EAAA,EAAD,CACC7L,QAAQ,YACRxF,MAAM,UACNmF,UAAWpC,EAAQjE,KACnBoH,QAAS,YFtBR,SAAP4L,GAAAC,GAAAtN,MAAAC,KAAAC,WEuBOkK,CAAuBoC,IAExBK,KAAK,SAPN,YAmBDrM,EAAA7B,EAAA8B,cAACK,EAAA,EAAD,CAAYC,QAAQ,QAAQW,MAAO,CAAEiL,UAAW,OAAQ9K,WAAY,IAApE,WAGArB,EAAA7B,EAAA8B,cAACmM,EAAA,EAAD,CACC7L,QAAQ,YACRxF,MAAM,UACNmF,UAAWpC,EAAQjE,KACnBoH,QAAS,WACRvF,aAAaa,QAAQ,QAAS,KAE/B8P,KAAK,SAPN,eAWArM,EAAA7B,EAAA8B,cAACmM,EAAA,EAAD,CACC7L,QAAQ,YACRxF,MAAM,UACNmF,UAAWpC,EAAQjE,KACnBoH,QAAS,WACRvF,aAAaqR,WAAW,SAEzBV,KAAK,SAPN,iCC1IE5P,GAAYC,YAAW,SAACC,GAAD,MAAY,CACxCC,KAAM,CACLuL,QAAS,OACTC,eAAgB,SAChBC,SAAU,OACVC,UAAW,OACXC,QAAS5L,EAAM6L,QAAQ,IACvBC,OAAQ,GAETC,KAAM,CACLD,OAAQ9L,EAAM6L,QAAQ,QAiCT5K,eA7BI,WAClB,IAAME,EAAUrB,KAKhB,OACCuD,EAAA7B,EAAA8B,cAAC+M,EAAA,EAAD,CAAO5M,UAAU,KAAKF,UAAWpC,EAAQlB,MACvC3B,EAAKX,eAAeoG,IAAI,SAACuM,EAASC,GAClC,IAPmBC,EASnB,OACCnN,EAAA7B,EAAA8B,cAAA,MAAIvC,IAAKwP,GACRlN,EAAA7B,EAAA8B,cAACmN,GAAA,EAAD,CAASlD,MAAOjP,EAAKV,UAAU0S,GAAShT,KAAMoT,UAAU,OACvDrN,EAAA7B,EAAA8B,cAACqN,GAAA,EAAD,CAECrM,SAdekM,EAcOF,EAdU,WACtChS,EAAKX,eAAiBW,EAAKX,eAAegD,OAAO,SAACoL,GAAD,OAAUA,IAASyE,MAc9DjN,UAAWpC,EAAQ4K,KACnB2D,KAAK,QACLkB,OAAQvN,EAAA7B,EAAA8B,cAACsB,EAAA,EAAD,CAAQC,IAAKvG,EAAKV,UAAU0S,GAASxL,OAAO,GAAGC,eC/BzDjF,GAAYC,YAAW,SAACC,GAAD,MAAY,CACxCC,KAAM,CACLgP,SAAU,GAEX3O,MAAO,CACNsL,QAAS5L,EAAM6L,QAAQ,GACvB+D,UAAW,OACXxR,MAAO4B,EAAMI,QAAQ3B,KAAKyG,UAC1B2L,OAAQ,WAgCKC,GA5BY,SAAC5P,GAAU,IAC7B1D,EAAU0D,EAAV1D,MACF2D,EAAUrB,KAEhB,OACCuD,EAAA7B,EAAA8B,cAAA,OAAKC,UAAWpC,EAAQlB,MACvBoD,EAAA7B,EAAA8B,cAAA,OACCiB,MAAO,CACN/D,SAAU,QACVqQ,OAAQ,QACR3Q,MAPiB,IAQjB6Q,IAAK,GACLC,KAAM,IAGP3N,EAAA7B,EAAA8B,cAAC+M,EAAA,EAAD,CAAO9M,UAAWpC,EAAQb,OACzB+C,EAAA7B,EAAA8B,cAAC2N,EAAD,CAAWzT,MAAOA,IAClB6F,EAAA7B,EAAA8B,cAAC4N,GAAD,MACA7N,EAAA7B,EAAA8B,cAAC6N,GAAD,CAAe3T,MAAOA,MAGxB6F,EAAA7B,EAAA8B,cAAA,OAAKiB,MAAO,CAAE/D,SAAU,WAAYqO,YAAa,GAAImC,KAAMI,MAC1D/N,EAAA7B,EAAA8B,cAAC+N,GAAD,CAAe7T,MAAOA,sCCqBXyD,eA1DA,SAACC,GAAU,IAAAgO,EACaC,mBAAS,IADtBC,EAAA5P,OAAA0N,EAAA,EAAA1N,CAAA0P,EAAA,GAClBoC,EADkBlC,EAAA,GACLmC,EADKnC,EAAA,GAAAoC,EAEOrC,mBAAS,UAFhBsC,EAAAjS,OAAA0N,EAAA,EAAA1N,CAAAgS,EAAA,GAElB/Q,EAFkBgR,EAAA,GAERC,EAFQD,EAAA,GAazB,OAJArQ,oBAAU,WACT9C,EAAKC,SAAW,IACd,IAGF8E,EAAA7B,EAAA8B,cAAA,OACCiB,MAAO,CACN/D,SAAU,WACVmR,MAAO,EACPZ,IAAK,EACLvF,QAAS,OACTwD,WAAY,aACZvD,eAAgB,WAChBvL,MAAO,MACP2Q,OAAQS,EACRjR,WAAY,QACZuR,OAAQ,IACRC,WAAY,OACZC,UAAWrR,IAGZ4C,EAAA7B,EAAA8B,cAAA,OAAKiB,MAAO,CAAEnG,MAAO,OAAQ6Q,SAAU,EAAGvK,WAAY,GAAIkL,UAAW,OAAQpL,YAAa,KACxFlG,EAAKC,SAASwF,IAAI,SAACgO,EAASxB,GAC5B,OACClN,EAAA7B,EAAA8B,cAACK,EAAA,EAAD,CACCF,UAAU,IACVG,QAAQ,QACRrG,GAAG,WACHgH,MAAO,CAAEiH,QAAS,QAASpN,MAAO2T,EAAQ3T,OAC1C2C,IAAKwP,GAEJwB,EAAQtT,SAKb4E,EAAA7B,EAAA8B,cAAC0O,GAAA,EAAD,CACCtO,aAAW,SACXa,MAAO,CAAEnG,MAAO,SAChBkG,QAAS,WA3CXiN,EAA+B,KAAhBD,EAAqB,OAAS,IAC7CI,EAAyB,WAAbjR,EAAwB,SAAW,YA8C7C4C,EAAA7B,EAAA8B,cAAC2O,GAAAzQ,EAAD,UC7CJ,SAAS0Q,GAAShR,GAAO,IAChBiR,EAAqCjR,EAArCiR,SAAUnF,EAA2B9L,EAA3B8L,MAAOuD,EAAoBrP,EAApBqP,MAAU6B,EADX5S,OAAA6S,EAAA,EAAA7S,CACqB0B,EADrB,8BAGxB,OACCmC,EAAA7B,EAAA8B,cAAA,MAAA9D,OAAAiK,OAAA,CACC6I,KAAK,WACLC,OAAQvF,IAAUuD,EAClBhT,GAAE,mBAAAmF,OAAqB6N,GACvBiC,kBAAA,cAAA9P,OAA+B6N,IAC3B6B,GAEHpF,IAAUuD,GAASlN,EAAA7B,EAAA8B,cAACmP,EAAA,EAAD,CAAKhW,EAAG,GAAI0V,IAKnC,SAASO,GAAUnC,GAClB,MAAO,CACNhT,GAAE,cAAAmF,OAAgB6N,GAClBoC,gBAAA,mBAAAjQ,OAAoC6N,IAItC,IAAMzQ,GAAYC,YAAW,SAACC,GAAD,MAAY,CACxCC,KAAM,CACLgP,SAAU,EACV4B,OAAQ,yBA0EK5P,eArEF,SAACC,GACb,IAAMC,EAAUrB,KACRtC,EAAU0D,EAAV1D,MAFe0R,EAGGC,mBAAS,GAHZC,EAAA5P,OAAA0N,EAAA,EAAA1N,CAAA0P,EAAA,GAGhBlC,EAHgBoC,EAAA,GAGTwD,EAHSxD,EAAA,GAAAyD,EAKqBC,YAAS,CACpD/N,IAAK,gCACLgO,OAAQ,MACR5Q,QAAS,CACRC,cAAe,UAAY5E,KATNwV,EAAAxT,OAAA0N,EAAA,EAAA1N,CAAAqT,EAAA,GAAAI,EAAAD,EAAA,GAKdzQ,EALc0Q,EAKd1Q,KAAe2Q,GALDD,EAKRE,QALQF,EAKCC,OALDF,EAAA,GAanBzQ,IACHD,QAAQpE,IAAIqE,GACZjE,EAAKhB,KAAOiF,EAAK6Q,aACjB9U,EAAKf,GAAKgF,EAAKhF,IAOhB,MAAgB,KAAZe,EAAKf,GAEP8F,EAAA7B,EAAA8B,cAAA,OAAKC,UAAWpC,EAAQlB,MAEvBoD,EAAA7B,EAAA8B,cAAC+P,EAAA,EAAD,CAAQ7S,SAAS,SAAS+D,MAAO,CAAErE,MAAO,QACzCmD,EAAA7B,EAAA8B,cAACgQ,EAAA,EAAD,CAAMtG,MAAOA,EAAO8C,SATH,SAAC5M,EAAOqQ,GAC5BX,EAASW,IAQsC7P,aAAW,uBACtDL,EAAA7B,EAAA8B,cAACkQ,EAAA,EAADhU,OAAAiK,OAAA,CAAKgK,MAAM,kBAAqBf,GAAU,KAC1CrP,EAAA7B,EAAA8B,cAACkQ,EAAA,EAADhU,OAAAiK,OAAA,CAAKgK,MAAM,aAAgBf,GAAU,OAGvCrP,EAAA7B,EAAA8B,cAACoQ,GAAD,MAEArQ,EAAA7B,EAAA8B,cAAC4O,GAAD,CAAUlF,MAAOA,EAAOuD,MAAO,EAAGhM,MAAO,CAAEsM,OAAQ,SAClDxN,EAAA7B,EAAA8B,cAACqQ,GAAD,CAAoBnW,MAAOA,KAE5B6F,EAAA7B,EAAA8B,cAAC4O,GAAD,CAAUlF,MAAOA,EAAOuD,MAAO,GAA/B,aAOC2C,EAEF7P,EAAA7B,EAAA8B,cAAA,WACCD,EAAA7B,EAAA8B,cAAA,6EACAD,EAAA7B,EAAA8B,cAACmM,EAAA,EAAD,CACC7L,QAAQ,YACRxF,MAAM,UACNkG,QAAS,WACRvF,aAAaa,QAAQ,QAAS,MAJhC,gBAcFyD,EAAA7B,EAAA8B,cAAA,WACCD,EAAA7B,EAAA8B,cAAA,ufCpGH,IAAMsQ,GAAUC,YAAe,CAC9BzT,QAAS,CACR6E,QAAS,CACR6O,KAAM,WAEP5O,UAAW,CACV4O,KAAMC,IAAM,SAmEAC,4CA7Dd,SAAAA,IAAc,IAAAC,EAAA,OAAAzU,OAAA0U,EAAA,EAAA1U,CAAAsD,KAAAkR,IACbC,EAAAE,EAAAC,KAAAtR,OACKuR,MAAQ,CACZ7W,MAAO,KACPN,KAAM,CACL2G,MAAO,CACNiB,OAAQ,CAAC,CAAEC,IAAK,MAEjBzH,KAAM,GACNgX,QAAS,CAAC,CAAEhX,KAAM,KAClBmJ,YAAa,GAEd8N,WAAY,SACZC,YAAa,GAbDP,kEAkBb,IAAIQ,EAAS9X,EAAK+X,cAAgB3V,aAAaC,QAAQ,SAEnDyV,IAEH3R,KAAK6R,SAAS,CACbnX,MAAOiX,IAER1V,aAAaa,QAAQ,QAAS6U,GAC9BnW,EAAKd,MAAQiX,+CAMd1V,aAAaa,QAAQ,QAAS,qCAI9B,OACCyD,EAAA7B,EAAA8B,cAACsR,EAAA,EAAD,CAAe5U,MAAO4T,IACrBvQ,EAAA7B,EAAA8B,cAAA,OAAKC,UAAU,OACdF,EAAA7B,EAAA8B,cAAA,eACGR,KAAKuR,MAAM7W,OACZ6F,EAAA7B,EAAA8B,cAAA,OAAKC,UAAU,cACdF,EAAA7B,EAAA8B,cAAA,OAAKuB,IAAKgQ,KAAMtR,UAAU,WAAWuR,IAAI,SACzCzR,EAAA7B,EAAA8B,cAAA,KACCC,UAAU,yBACVuJ,KAAI,GAAApK,OXnEe,yCWmEf,eAAAA,OXhEW,mCWgEX,kBAAAA,OX9Dc,oDW8Dd,WAAAA,OAA6EhG,EAAOqY,KACvF,OADG,0CAFL,qBAUDjS,KAAKuR,MAAM7W,OAAS6F,EAAA7B,EAAA8B,cAAC0R,GAAD,CAAMxX,MAAOsF,KAAKuR,MAAM7W,kBAtDjCyX,aChBlBC,IAASzH,OAAOpK,EAAA7B,EAAA8B,cAAC6R,GAAD,MAASC,SAASC,eAAe","file":"static/js/main.1919732c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";","export const authEndpoint = 'https://accounts.spotify.com/authorize';\r\n\r\n// Replace with your app's client ID, redirect URI and desired scopes\r\nexport const clientId = '149f235f7ad941419d900b585b05d9e3';\r\n// export const redirectUri = 'http://localhost:3000/redirect';\r\nexport const redirectUri = 'https://brandoshizzle.github.io/Little-Conductor/';\r\nexport const scopes = ['user-read-email', 'playlist-modify-public', 'playlist-modify-private'];\r\n","// Get the hash of the url\r\nconst hash = window.location.hash\r\n  .substring(1)\r\n  .split(\"&\")\r\n  .reduce(function(initial, item) {\r\n    if (item) {\r\n      var parts = item.split(\"=\");\r\n      initial[parts[0]] = decodeURIComponent(parts[1]);\r\n    }\r\n    return initial;\r\n  }, {});\r\nwindow.location.hash = \"\";\r\n\r\nexport default hash;\r\n","import { store } from '@risingstack/react-easy-state';\r\nimport { observe } from '@nx-js/observer-util';\r\nimport merge from 'lodash/merge';\r\n\r\nconst defaultUser = {\r\n\tname: '',\r\n\tid: '',\r\n\ttoken: '',\r\n\tallPlaylists: {},\r\n\tfilteredPlaylists: [],\r\n\tselectedAlbums: [],\r\n\tallAlbums: {},\r\n\tselectedPlaylists: [],\r\n\tprogress: {\r\n\t\tdone: 0,\r\n\t\ttotal: 0,\r\n\t\tpercent: 0,\r\n\t},\r\n\tlog: (newLine, color) => {\r\n\t\tconst textColor = color || 'normal';\r\n\t\tconst colors = {\r\n\t\t\tstart: 'green',\r\n\t\t\tnormal: '#ddd',\r\n\t\t\tend: 'red',\r\n\t\t};\r\n\t\tuser.logArray.unshift({ text: newLine, color: colors[textColor] });\r\n\t},\r\n\tlogArray: [],\r\n\terrors: [],\r\n};\r\n\r\nexport const user = store(\r\n\tlocalStorage.getItem('user') != null ? merge(defaultUser, JSON.parse(localStorage.getItem('user'))) : defaultUser\r\n);\r\n\r\nobserve(() => {\r\n\tlocalStorage.setItem('user', JSON.stringify(user));\r\n});\r\n\r\n// observe(() => {\r\n// \tplaylistArray = [];\r\n// \tfor (var playlist in user.allPlaylists) {\r\n// \t\tconst newObj = {\r\n// \t\t\t...user.allPlaylists[playlist],\r\n// \t\t};\r\n// \t\tplaylistArray.push(newObj);\r\n// \t}\r\n// \t// playlistArray = Object.values(user.allPlaylists);\r\n// \tconsole.log(playlistArray);\r\n// });\r\n\r\nexport function playlistArray() {\r\n\tlet test = [];\r\n\tfor (var playlist in user.allPlaylists) {\r\n\t\tconst newObj = {\r\n\t\t\t...user.allPlaylists[playlist],\r\n\t\t};\r\n\t\ttest.push(newObj);\r\n\t}\r\n\t// playlistArray = Object.values(user.allPlaylists);\r\n\t// console.log(test);\r\n\treturn test;\r\n}\r\n\r\nwindow.user = user;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\n// import useAxios from 'axios-hooks';\r\nimport axios from 'axios';\r\nimport { view } from '@risingstack/react-easy-state';\r\nimport { user } from './../store';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t\tbackgroundColor: theme.palette.background.paper,\r\n\t},\r\n\tlist: {\r\n\t\tposition: 'relative',\r\n\t\toverflow: 'auto',\r\n\t\tmaxHeight: '50vh',\r\n\t},\r\n}));\r\n\r\nObject.filter = (obj, predicate) =>\r\n\tObject.keys(obj)\r\n\t\t.filter((key) => predicate(obj[key]))\r\n\t\t.reduce((res, key) => ((res[key] = obj[key]), res), {});\r\n\r\nconst AlbumList = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst { token } = props;\r\n\t// const [selectedAlbums, setSelectedAlbums] = useState([]);\r\n\t// let [albums, setAlbums] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function loadAlbums() {\r\n\t\t\tlet nextLink;\r\n\t\t\tuser.log('Getting LS albums...');\r\n\t\t\tdo {\r\n\t\t\t\tlet res = await axios.get(\r\n\t\t\t\t\tnextLink ||\r\n\t\t\t\t\t\t'https://api.spotify.com/v1/artists/4SCWiQbJCMTHK737aNUqBJ/albums?offset=0&limit=50&market=CA',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\t// console.log(res);\r\n\t\t\t\t// albums = albums.concat(res.data.items);\r\n\t\t\t\tconsole.log(user);\r\n\t\t\t\tfor (var i = 0; i < res.data.items.length; i++) {\r\n\t\t\t\t\tuser.allAlbums[res.data.items[i].id] = res.data.items[i];\r\n\t\t\t\t}\r\n\t\t\t\tnextLink = res.data.next;\r\n\t\t\t} while (nextLink);\r\n\t\t\tuser.log(`Loaded ${Object.values(user.allAlbums).length} albums`);\r\n\t\t\tconsole.log(user.allAlbums);\r\n\t\t}\r\n\t\t// Get all LS albums\r\n\t\tloadAlbums();\r\n\t\tuser.selectedAlbums = [];\r\n\t}, []);\r\n\r\n\tconst handleListItemClick = (event, id) => {\r\n\t\tif (user.selectedAlbums.indexOf(id) > -1) {\r\n\t\t\tconst newSelectedAlbums = user.selectedAlbums.filter((item) => item !== id);\r\n\t\t\tuser.selectedAlbums = newSelectedAlbums;\r\n\t\t} else {\r\n\t\t\tuser.selectedAlbums = user.selectedAlbums.concat(id);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<List className={classes.list} component=\"nav\" aria-label=\"main mailbox folders\">\r\n\t\t\t\t<Typography variant=\"body1\">Albums</Typography>\r\n\t\t\t\t{user.allAlbums &&\r\n\t\t\t\t\tObject.values(Object.filter(user.allAlbums, (album) => album.album_type === 'album')).map(\r\n\t\t\t\t\t\t(album, i) => {\r\n\t\t\t\t\t\t\tconst rDate = new Date(album.release_date);\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\t\tselected={user.selectedAlbums.indexOf(album.id) > -1}\r\n\t\t\t\t\t\t\t\t\tonClick={(event) => handleListItemClick(event, album.id)}\r\n\t\t\t\t\t\t\t\t\tkey={album.id}\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tpaddingLeft: 0,\r\n\t\t\t\t\t\t\t\t\t\tpaddingBottom: 0,\r\n\t\t\t\t\t\t\t\t\t\tpaddingTop: 0,\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t\t\t\t\t\t<Avatar variant=\"square\" src={album.images[1].url}></Avatar>\r\n\t\t\t\t\t\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\tprimary={album.name}\r\n\t\t\t\t\t\t\t\t\t\tsecondary={rDate.toLocaleDateString('en-US', {\r\n\t\t\t\t\t\t\t\t\t\t\tyear: 'numeric',\r\n\t\t\t\t\t\t\t\t\t\t\tmonth: 'long',\r\n\t\t\t\t\t\t\t\t\t\t\tday: 'numeric',\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t)}\r\n\t\t\t\t<Typography variant=\"body1\">Singles</Typography>\r\n\t\t\t\t{user.allAlbums &&\r\n\t\t\t\t\tObject.values(Object.filter(user.allAlbums, (album) => album.album_type === 'single')).map(\r\n\t\t\t\t\t\t(album, i) => {\r\n\t\t\t\t\t\t\tconst rDate = new Date(album.release_date);\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\t\tselected={user.selectedAlbums.indexOf(album.id) > -1}\r\n\t\t\t\t\t\t\t\t\tonClick={(event) => handleListItemClick(event, album.id)}\r\n\t\t\t\t\t\t\t\t\tkey={album.id}\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tpaddingLeft: 0,\r\n\t\t\t\t\t\t\t\t\t\tpaddingBottom: 0,\r\n\t\t\t\t\t\t\t\t\t\tpaddingTop: 0,\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t\t\t\t\t\t<Avatar variant=\"square\" src={album.images[1].url}></Avatar>\r\n\t\t\t\t\t\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\tprimary={album.name}\r\n\t\t\t\t\t\t\t\t\t\tsecondary={rDate.toLocaleDateString('en-US', {\r\n\t\t\t\t\t\t\t\t\t\t\tyear: 'numeric',\r\n\t\t\t\t\t\t\t\t\t\t\tmonth: 'long',\r\n\t\t\t\t\t\t\t\t\t\t\tday: 'numeric',\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t)}\r\n\t\t\t</List>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(AlbumList);\r\n","import { user } from './store';\r\nimport axios from 'axios';\r\n\r\nconst APIdelay = 300;\r\n\r\nexport async function addAlbums(side, replaceArg) {\r\n\tresetProgress();\r\n\tconst replace = replaceArg === 'replace' ? true : false;\r\n\tlet albumDetails = [];\r\n\tlet delayms = 0;\r\n\tlet trackURIs = [];\r\n\tlet newAlbumsString = ', ';\r\n\tlet addedTime = 0;\r\n\tlet newAlbumsList = [];\r\n\tuser.log(\r\n\t\t`It's time to add ${user.selectedAlbums.length} albums to the ${side} of ${user.selectedPlaylists.length} playlists`,\r\n\t\t'start'\r\n\t);\r\n\tfor (var i = 0; i < user.selectedAlbums.length; i++) {\r\n\t\tuser.log(`Grabbing track info for ${user.allAlbums[user.selectedAlbums[i]].name}`);\r\n\t\tlet res = await axios.get(`https://api.spotify.com/v1/albums/${user.selectedAlbums[i]}/tracks`, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: 'Bearer ' + user.token,\r\n\t\t\t},\r\n\t\t});\r\n\t\talbumDetails = albumDetails.concat(res.data);\r\n\t\tnewAlbumsString += `${user.allAlbums[user.selectedAlbums[i]].name}, `;\r\n\t\tnewAlbumsList.push(user.allAlbums[user.selectedAlbums[i]]);\r\n\t\t// console.log(albumDetails);\r\n\t\tfor (var cha = 0; cha < albumDetails[i].total; cha++) {\r\n\t\t\ttrackURIs.push(albumDetails[i].items[cha].uri);\r\n\t\t\taddedTime += albumDetails[i].items[cha].duration_ms;\r\n\t\t}\r\n\t}\r\n\t// console.log(trackURIs);\r\n\r\n\t// Go through each playlist and add the albums to it\r\n\tfor (var j = 0; j < user.selectedPlaylists.length; j++) {\r\n\t\tconst playlist = user.selectedPlaylists[j];\r\n\t\t// Don't add album if it's already on the playlist\r\n\t\t// console.log(playlist.albumList, user.album.name, playlist.albumList.indexOf(user.album.name));\r\n\t\t// if (playlist.albumList.indexOf(user.album.name) === -1) {\r\n\t\tif (true) {\r\n\t\t\tlet data =\r\n\t\t\t\tside === 'start'\r\n\t\t\t\t\t? {\r\n\t\t\t\t\t\t\turis: trackURIs,\r\n\t\t\t\t\t\t\tposition: 0,\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t: {\r\n\t\t\t\t\t\t\turis: trackURIs,\r\n\t\t\t\t\t  };\r\n\t\t\ttry {\r\n\t\t\t\tlet res = await axios.post(`https://api.spotify.com/v1/playlists/${playlist.id}/tracks`, data, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: 'Bearer ' + user.token,\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\t// If successful, update local\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tif (res.status === 201) {\r\n\t\t\t\t\tuser.log(`Successfully plopped ${trackURIs.length} beats onto ${playlist.name}.`);\r\n\t\t\t\t\t// Update list of albums\r\n\t\t\t\t\tif (side === 'start') {\r\n\t\t\t\t\t\tuser.allPlaylists[playlist.id].albumList =\r\n\t\t\t\t\t\t\tnewAlbumsString.substring(2) + user.allPlaylists[playlist.id].albumList;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuser.allPlaylists[playlist.id].albumList =\r\n\t\t\t\t\t\t\tuser.allPlaylists[playlist.id].albumList +\r\n\t\t\t\t\t\t\tnewAlbumsString.substring(0, newAlbumsString.length - 2);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Update total time\r\n\t\t\t\t\tuser.allPlaylists[playlist.id].playlistMilliseconds += addedTime;\r\n\t\t\t\t\t// Update lastUpdated\r\n\t\t\t\t\tuser.allPlaylists[playlist.id].lastUpdated = Date.now().toString();\r\n\t\t\t\t\t// Update albums array\r\n\t\t\t\t\tuser.allPlaylists[playlist.id].albums.concat(newAlbumsList);\r\n\t\t\t\t\t// \tuser.allPlaylists[id].tracks = newTracks;\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tuser.log(`Houston, we had an issue with ${playlist.name}...`);\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tupdateProgress();\r\n\t\tdelayms += APIdelay;\r\n\t\tawait delay(delayms);\r\n\t}\r\n\r\n\tuser.log(`All finished big guy.`, 'end');\r\n}\r\n\r\nexport async function refreshAlbums() {}\r\n\r\nexport async function replaceDescription(description) {\r\n\tresetProgress();\r\n\tlet delayms = 0;\r\n\tuser.log(`Description time! Changing the description of ${user.selectedPlaylists.length} playlists.`, 'start');\r\n\t// Go through each playlist and replace the description\r\n\tfor (var j = 0; j < user.selectedPlaylists.length; j++) {\r\n\t\tconst playlist = user.selectedPlaylists[j];\r\n\t\tlet data = { description };\r\n\r\n\t\ttry {\r\n\t\t\tlet res = await axios.put(`https://api.spotify.com/v1/playlists/${playlist.id}/`, data, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: 'Bearer ' + user.token,\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\t// If successful, update local\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tuser.log(`Bam. Description of ${user.selectedPlaylists[j].name} updated.`);\r\n\t\t\t\tuser.allPlaylists[playlist.id].description = description;\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tuser.log(`Uh oh! There was an issue with .`);\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n\r\n\t\tupdateProgress();\r\n\t\tdelayms += APIdelay;\r\n\t\tawait delay(delayms);\r\n\t}\r\n\tresetProgress();\r\n\tuser.log(`We're done here.`, 'end');\r\n}\r\n\r\nexport async function getPlaylistTracksAndAlbums(album_id) {\r\n\tlet nextLink;\r\n\tlet APItracks = [];\r\n\tlet tracks = {};\r\n\tlet albums = [];\r\n\tlet albumList = '';\r\n\tlet lastUpdated = Date.parse('1980-01-01T12:00:00Z');\r\n\tlet playlistMilliseconds = 0;\r\n\tlet hasLSAlbum = false;\r\n\tdo {\r\n\t\tlet res = await axios.get(nextLink || `https://api.spotify.com/v1/playlists/${album_id}/tracks?fields=`, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: 'Bearer ' + user.token,\r\n\t\t\t},\r\n\t\t});\r\n\t\t// console.log(res);\r\n\t\tAPItracks = APItracks.concat(res.data.items);\r\n\t\tnextLink = res.data.next;\r\n\t} while (nextLink);\r\n\r\n\tfor (const i in APItracks) {\r\n\t\tconst track = APItracks[i].track;\r\n\t\ttracks[i] = { place: i, id: track.id, album: track.album.name };\r\n\t\tplaylistMilliseconds += track.duration_ms;\r\n\t\tconst trackAddedDate = Date.parse(APItracks[i].added_at);\r\n\r\n\t\tif (user.allAlbums.hasOwnProperty(track.album.id)) {\r\n\t\t\thasLSAlbum = true;\r\n\t\t}\r\n\t\t// Updated lastUpdated if trackAddedDate is later\r\n\t\tif (trackAddedDate > lastUpdated) {\r\n\t\t\tlastUpdated = trackAddedDate;\r\n\t\t}\r\n\r\n\t\tif (albumList.indexOf(track.album.name) === -1) {\r\n\t\t\talbums.push({ id: track.album.id, name: track.album.name });\r\n\t\t\talbumList += track.album.name + ', ';\r\n\t\t}\r\n\t}\r\n\r\n\tif (!hasLSAlbum && Object.entries(tracks).length > 0) {\r\n\t\ttracks = undefined;\r\n\t}\r\n\r\n\t// Remove comma/space from album list\r\n\talbumList = albumList.substring(0, albumList.length - 2);\r\n\r\n\treturn [tracks, albums, albumList, lastUpdated, playlistMilliseconds];\r\n}\r\n\r\nfunction resetProgress() {\r\n\tuser.progress.done = 0;\r\n\tuser.progress.total = user.selectedPlaylists.length;\r\n\tuser.progress.percent = 0;\r\n}\r\nfunction updateProgress() {\r\n\tuser.progress.done++;\r\n\tuser.progress.percent = (user.progress.done / user.progress.total) * 100;\r\n}\r\n\r\nasync function delay(ms) {\r\n\tawait timeout(ms);\r\n}\r\n\r\nconst timeout = (ms) => new Promise((res) => setTimeout(res, ms));\r\n","import React, { forwardRef, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport MaterialTable from 'material-table';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport axios from 'axios';\r\nimport { ReactSortable } from 'react-sortablejs';\r\n\r\nimport * as api from './../api';\r\n\r\nimport { view } from '@risingstack/react-easy-state';\r\nimport { playlistArray, user } from './../store';\r\n\r\nimport AddBox from '@material-ui/icons/AddBox';\r\nimport ArrowDownward from '@material-ui/icons/ArrowDownward';\r\nimport Check from '@material-ui/icons/Check';\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRight from '@material-ui/icons/ChevronRight';\r\nimport Clear from '@material-ui/icons/Clear';\r\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\r\nimport Edit from '@material-ui/icons/Edit';\r\nimport FilterList from '@material-ui/icons/FilterList';\r\nimport FirstPage from '@material-ui/icons/FirstPage';\r\nimport LastPage from '@material-ui/icons/LastPage';\r\nimport Remove from '@material-ui/icons/Remove';\r\nimport SaveAlt from '@material-ui/icons/SaveAlt';\r\nimport Search from '@material-ui/icons/Search';\r\nimport ViewColumn from '@material-ui/icons/ViewColumn';\r\nimport { Typography, emphasize } from '@material-ui/core';\r\n\r\nconst tableIcons = {\r\n\tAdd: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n\tCheck: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n\tClear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tDelete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n\tDetailPanel: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n\tEdit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n\tExport: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n\tFilter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n\tFirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n\tLastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n\tNextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n\tPreviousPage: forwardRef((props, ref) => <ChevronLeft {...props} ref={ref} />),\r\n\tResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tSearch: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n\tSortArrow: forwardRef((props, ref) => <ArrowDownward {...props} ref={ref} />),\r\n\tThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\r\n\tViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t\tjustifyContent: 'center',\r\n\t\tflexWrap: 'wrap',\r\n\t\tlistStyle: 'none',\r\n\t\tpadding: theme.spacing(0.5),\r\n\t\tmargin: 0,\r\n\t},\r\n\tchip: {\r\n\t\tmargin: theme.spacing(0.5),\r\n\t},\r\n}));\r\n\r\nconst PlaylistTable = (props) => {\r\n\tconst classes = useStyles();\r\n\r\n\t// Get data from storage or API on launch\r\n\tuseEffect(() => {\r\n\t\tasync function loadTable() {\r\n\t\t\tlet nextLink;\r\n\t\t\tuser.log(`Fetching all of ${user.name}'s playlists`);\r\n\t\t\tdo {\r\n\t\t\t\tlet res = await axios.get(nextLink || `https://api.spotify.com/v1/me/playlists?limit=50`, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: 'Bearer ' + user.token,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\t// console.log(res);\r\n\t\t\t\tlet playlistBatch = res.data.items;\r\n\t\t\t\tuser.log(`Retrieved ${res.data.items.length} playlists`);\r\n\t\t\t\tfor (const i in playlistBatch) {\r\n\t\t\t\t\tlet playlist = playlistBatch[i];\r\n\t\t\t\t\tif (playlist.owner.id === user.id) {\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t!user.allPlaylists.hasOwnProperty(playlist.id) &&\r\n\t\t\t\t\t\t\tuser.filteredPlaylists.indexOf(playlist.id) === -1\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\tuser.allPlaylists[playlist.id] = {\r\n\t\t\t\t\t\t\t\tid: playlist.id,\r\n\t\t\t\t\t\t\t\tname: playlist.name,\r\n\t\t\t\t\t\t\t\turl: playlist.external_urls.spotify,\r\n\t\t\t\t\t\t\t\ttracks_endpoint: playlist.tracks.href,\r\n\t\t\t\t\t\t\t\tdescription: decodeURIComponent(playlist.description),\r\n\t\t\t\t\t\t\t\ttracks: {},\r\n\t\t\t\t\t\t\t\talbumList: 'Loading...',\r\n\t\t\t\t\t\t\t\talbums: [],\r\n\t\t\t\t\t\t\t\tlastUpdated: 'Loading...',\r\n\t\t\t\t\t\t\t\tplaylistMilliseconds: 'Loading...',\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tnextLink = res.data.next;\r\n\t\t\t} while (nextLink);\r\n\r\n\t\t\tconst delayIncrement = 300;\r\n\t\t\tlet currentDelay = -delayIncrement;\r\n\t\t\tfor (const i in user.allPlaylists) {\r\n\t\t\t\tlet playlist = user.allPlaylists[i];\r\n\t\t\t\tif (playlist.albumList === 'Loading...') {\r\n\t\t\t\t\tawait delay(currentDelay);\r\n\t\t\t\t\tconst [\r\n\t\t\t\t\t\tnewTracks,\r\n\t\t\t\t\t\tnewAlbums,\r\n\t\t\t\t\t\talbumList,\r\n\t\t\t\t\t\tlastUpdated,\r\n\t\t\t\t\t\tplaylistMilliseconds,\r\n\t\t\t\t\t] = await api.getPlaylistTracksAndAlbums(playlist.id);\r\n\t\t\t\t\t// console.log(newTracks, newAlbums, newAlbumList);\r\n\t\t\t\t\tif (newTracks) {\r\n\t\t\t\t\t\tuser.allPlaylists[playlist.id].tracks = newTracks;\r\n\t\t\t\t\t\tuser.allPlaylists[playlist.id].albums = newAlbums;\r\n\t\t\t\t\t\tuser.allPlaylists[playlist.id].albumList = albumList;\r\n\t\t\t\t\t\tuser.allPlaylists[playlist.id].lastUpdated = lastUpdated;\r\n\t\t\t\t\t\tuser.allPlaylists[playlist.id].playlistMilliseconds = playlistMilliseconds;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuser.log(`${playlist.name} was not relaxing enough.`);\r\n\t\t\t\t\t\tuser.filteredPlaylists.push(playlist.id);\r\n\t\t\t\t\t\tdelete user.allPlaylists[playlist.id];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// currentDelay += delayIncrement;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Get all user's playlists first, then determine if we need additional API calls\r\n\t\tloadTable();\r\n\t}, []);\r\n\r\n\tasync function delay(ms) {\r\n\t\tawait timeout(ms);\r\n\t}\r\n\r\n\tconst timeout = (ms) => new Promise((res) => setTimeout(res, ms));\r\n\r\n\tfunction handleDelete(name) {\r\n\t\t// Remove album from playlist\r\n\t\tconsole.log(name);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div style={{ maxWidth: '100%' }}>\r\n\t\t\t<MaterialTable\r\n\t\t\t\tcolumns={[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: 'Name',\r\n\t\t\t\t\t\tfield: 'name',\r\n\t\t\t\t\t\twidth: 250,\r\n\t\t\t\t\t\trender: (rowData) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Typography variant=\"body2\">\r\n\t\t\t\t\t\t\t\t\t\t<strong>{rowData.name}</strong>\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle2\">\r\n\t\t\t\t\t\t\t\t\t\t<em>{rowData.description}</em>\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: 'Total length',\r\n\t\t\t\t\t\tfield: 'playlistMilliseconds',\r\n\t\t\t\t\t\trender: (rowData) => {\r\n\t\t\t\t\t\t\tconst ms = rowData.playlistMilliseconds;\r\n\t\t\t\t\t\t\tif (ms === 'Loading...') {\r\n\t\t\t\t\t\t\t\treturn 'Loading...';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar d, h, m, s;\r\n\t\t\t\t\t\t\ts = Math.floor(ms / 1000);\r\n\t\t\t\t\t\t\tm = Math.floor(s / 60);\r\n\t\t\t\t\t\t\ts = s % 60;\r\n\t\t\t\t\t\t\th = Math.floor(m / 60);\r\n\t\t\t\t\t\t\tm = m % 60;\r\n\t\t\t\t\t\t\td = Math.floor(h / 24);\r\n\t\t\t\t\t\t\th = h % 24;\r\n\t\t\t\t\t\t\th += d * 24;\r\n\t\t\t\t\t\t\treturn `${h}:${m}:${s}`;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: 'Last updated',\r\n\t\t\t\t\t\tfield: 'lastUpdated',\r\n\t\t\t\t\t\twidth: 150,\r\n\t\t\t\t\t\trender: (rowData) => {\r\n\t\t\t\t\t\t\tconst now = Date.now().toString();\r\n\t\t\t\t\t\t\treturn `${Math.floor((now - rowData.lastUpdated) / 86400000)} days ago`;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: 'Albums',\r\n\t\t\t\t\t\tfield: 'albumList',\r\n\t\t\t\t\t\twidth: 600,\r\n\t\t\t\t\t},\r\n\t\t\t\t]}\r\n\t\t\t\tdata={playlistArray()}\r\n\t\t\t\ticons={tableIcons}\r\n\t\t\t\toptions={{\r\n\t\t\t\t\tshowTitle: false,\r\n\t\t\t\t\tselection: true,\r\n\t\t\t\t\tpaging: false,\r\n\t\t\t\t\tpageSize: 20,\r\n\t\t\t\t\t// maxBodyHeight: '52vh',\r\n\t\t\t\t\tdraggable: false,\r\n\t\t\t\t\theaderStyle: {\r\n\t\t\t\t\t\tfontWeight: 'bold',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// actionsColumnIndex: -1,\r\n\t\t\t\t}}\r\n\t\t\t\tonSelectionChange={(rows) => (user.selectedPlaylists = rows)}\r\n\t\t\t\t// onRowClick={(event, rowData, togglePanel) => togglePanel()}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(PlaylistTable);\r\n","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport * as api from './../api';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport { view } from '@risingstack/react-easy-state';\r\nimport { user } from './../store';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tbg: {\r\n\t\tbackground: theme.palette.background.paper,\r\n\t},\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t\tflexWrap: 'wrap',\r\n\t\tjustifyContent: 'flex-start',\r\n\t},\r\n\titem: {\r\n\t\tmargin: 0,\r\n\t\tmarginRight: 2,\r\n\t\tmarginBottom: 2,\r\n\t},\r\n\tprogressBox: {\r\n\t\twidth: '100%',\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t},\r\n\tprogress: {\r\n\t\tflexGrow: '1',\r\n\t},\r\n}));\r\n\r\nconst ActionButtons = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst [desc, setDesc] = useState('');\r\n\r\n\tfunction descChange(e) {\r\n\t\tsetDesc(e.target.value);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<div className={classes.progressBox}>\r\n\t\t\t\t\t{/* <Typography variant=\"body1\">Current Task</Typography> */}\r\n\t\t\t\t\t<LinearProgress\r\n\t\t\t\t\t\tvariant=\"determinate\"\r\n\t\t\t\t\t\tvalue={user.progress.percent}\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tclassName={classes.progress}\r\n\t\t\t\t\t\tstyle={{ display: 'none' }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Typography variant=\"body1\" style={{ flexBasis: '100%', paddingTop: 5 }}>\r\n\t\t\t\t\tAdd Albums to\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tapi.addAlbums('start');\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t>\r\n\t\t\t\t\tstart\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tapi.addAlbums('end');\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t>\r\n\t\t\t\t\tend\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tapi.addAlbums('start', 'replace');\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t>\r\n\t\t\t\t\tReplace\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tapi.refreshAlbums();\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t>\r\n\t\t\t\t\trefresh\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Typography variant=\"body1\" style={{ flexBasis: '100%', paddingTop: 5 }}>\r\n\t\t\t\t\tPlaylist Actions\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<div style={{ textAlign: 'left' }}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tid=\"new-description\"\r\n\t\t\t\t\t\tplaceholder=\"Description\"\r\n\t\t\t\t\t\tonChange={descChange}\r\n\t\t\t\t\t\tstyle={{ width: '120px', padding: 5 }}\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tapi.replaceDescription(desc);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tReplace\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* <Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}>\r\n\t\t\t\t\tAdd to start and push last album\r\n\t\t\t\t</Button> */}\r\n\r\n\t\t\t\t<Typography variant=\"body1\" style={{ flexBasis: '100%', paddingTop: 5 }}>\r\n\t\t\t\t\tUtility\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tlocalStorage.setItem('token', '');\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t>\r\n\t\t\t\t\tClear Token\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tlocalStorage.removeItem('user');\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t>\r\n\t\t\t\t\tRESET\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(ActionButtons);\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport { view } from '@risingstack/react-easy-state';\r\nimport { user } from './../store';\r\nimport { Avatar, Tooltip } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t\tjustifyContent: 'center',\r\n\t\tflexWrap: 'wrap',\r\n\t\tlistStyle: 'none',\r\n\t\tpadding: theme.spacing(0.5),\r\n\t\tmargin: 0,\r\n\t},\r\n\tchip: {\r\n\t\tmargin: theme.spacing(0.5),\r\n\t},\r\n}));\r\n\r\nconst AlbumChips = () => {\r\n\tconst classes = useStyles();\r\n\tconst handleDelete = (chipToDelete) => () => {\r\n\t\tuser.selectedAlbums = user.selectedAlbums.filter((chip) => chip !== chipToDelete);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Paper component=\"ul\" className={classes.root}>\r\n\t\t\t{user.selectedAlbums.map((albumID, index) => {\r\n\t\t\t\tlet icon;\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<li key={index}>\r\n\t\t\t\t\t\t<Tooltip title={user.allAlbums[albumID].name} placement=\"top\">\r\n\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t// label={user.allAlbums[albumID].name}\r\n\t\t\t\t\t\t\t\tonClick={handleDelete(albumID)}\r\n\t\t\t\t\t\t\t\tclassName={classes.chip}\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tavatar={<Avatar src={user.allAlbums[albumID].images[1].url} />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</Paper>\r\n\t);\r\n};\r\n\r\nexport default view(AlbumChips);\r\n","import React, { useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport AlbumList from './AlbumList';\r\nimport PlaylistTable from './PlaylistTable';\r\nimport ActionButtons from './ActionButtons';\r\nimport AlbumChips from './AlbumChips';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t},\r\n\tpaper: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\ttextAlign: 'left',\r\n\t\tcolor: theme.palette.text.secondary,\r\n\t\theight: '95vh',\r\n\t},\r\n}));\r\n\r\nconst PlaylistAlbumsPage = (props) => {\r\n\tconst { token } = props;\r\n\tconst classes = useStyles();\r\n\tconst sidebarWidth = 250;\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: 'fixed',\r\n\t\t\t\t\theight: '100vh',\r\n\t\t\t\t\twidth: sidebarWidth,\r\n\t\t\t\t\ttop: 50,\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t<AlbumList token={token} />\r\n\t\t\t\t\t<AlbumChips />\r\n\t\t\t\t\t<ActionButtons token={token} />\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t\t<div style={{ position: 'absolute', marginRight: 10, left: sidebarWidth + 10 }}>\r\n\t\t\t\t<PlaylistTable token={token} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PlaylistAlbumsPage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/MenuOpen';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport { view } from '@risingstack/react-easy-state';\r\nimport { user } from './../store';\r\n\r\nconst Logger = (props) => {\r\n\tconst [panelHeight, setPanelHeight] = useState(48);\r\n\tconst [overflow, setOverflow] = useState('hidden');\r\n\r\n\tfunction expand() {\r\n\t\tsetPanelHeight(panelHeight === 48 ? '80vh' : 48);\r\n\t\tsetOverflow(overflow === 'hidden' ? 'scroll' : 'hidden');\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tuser.logArray = [];\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\tright: 0,\r\n\t\t\t\ttop: 0,\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\talignItems: 'flex-start',\r\n\t\t\t\tjustifyContent: 'flex-end',\r\n\t\t\t\twidth: '50%',\r\n\t\t\t\theight: panelHeight,\r\n\t\t\t\tbackground: 'black',\r\n\t\t\t\tzIndex: 1000,\r\n\t\t\t\ttransition: '0.5s',\r\n\t\t\t\toverflowY: overflow,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div style={{ color: '#ddd', flexGrow: 1, paddingTop: 15, textAlign: 'left', paddingLeft: 12 }}>\r\n\t\t\t\t{user.logArray.map((logline, index) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tcomponent=\"p\"\r\n\t\t\t\t\t\t\tvariant=\"body2\"\r\n\t\t\t\t\t\t\tid=\"last-log\"\r\n\t\t\t\t\t\t\tstyle={{ display: 'block', color: logline.color }}\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{logline.text}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t\t<IconButton\r\n\t\t\t\taria-label=\"delete\"\r\n\t\t\t\tstyle={{ color: 'white' }}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\texpand();\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<MenuIcon />\r\n\t\t\t</IconButton>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(Logger);\r\n","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Box from '@material-ui/core/Box';\r\nimport Button from '@material-ui/core/Button';\r\nimport useAxios from 'axios-hooks';\r\n\r\nimport { view } from '@risingstack/react-easy-state';\r\nimport { user } from './../store';\r\n\r\nimport PlaylistAlbumsPage from './PlaylistAlbumsPage';\r\nimport Logger from './Logger';\r\n\r\nfunction TabPanel(props) {\r\n\tconst { children, value, index, ...other } = props;\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\trole=\"tabpanel\"\r\n\t\t\thidden={value !== index}\r\n\t\t\tid={`simple-tabpanel-${index}`}\r\n\t\t\taria-labelledby={`simple-tab-${index}`}\r\n\t\t\t{...other}\r\n\t\t>\r\n\t\t\t{value === index && <Box p={3}>{children}</Box>}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction a11yProps(index) {\r\n\treturn {\r\n\t\tid: `simple-tab-${index}`,\r\n\t\t'aria-controls': `simple-tabpanel-${index}`,\r\n\t};\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t\theight: 'calc(100vh - 48px)',\r\n\t\t// backgroundColor: theme.palette.background.paper,\r\n\t},\r\n}));\r\n\r\nconst Main = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst { token } = props;\r\n\tconst [value, setValue] = useState(0);\r\n\r\n\tconst [{ data, loading, error }, refetch] = useAxios({\r\n\t\turl: 'https://api.spotify.com/v1/me',\r\n\t\tmethod: 'GET',\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\n\tif (data) {\r\n\t\tconsole.log(data);\r\n\t\tuser.name = data.display_name;\r\n\t\tuser.id = data.id;\r\n\t}\r\n\r\n\tconst handleChange = (event, newValue) => {\r\n\t\tsetValue(newValue);\r\n\t};\r\n\r\n\tif (user.id !== '') {\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t{/* <div style={{ display: 'flex' }}> */}\r\n\t\t\t\t<AppBar position=\"static\" style={{ width: '50%' }}>\r\n\t\t\t\t\t<Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\">\r\n\t\t\t\t\t\t<Tab label=\"Playlist Tools\" {...a11yProps(0)} />\r\n\t\t\t\t\t\t<Tab label=\"Utilities\" {...a11yProps(1)} />\r\n\t\t\t\t\t</Tabs>\r\n\t\t\t\t</AppBar>\r\n\t\t\t\t<Logger />\r\n\t\t\t\t{/* </div> */}\r\n\t\t\t\t<TabPanel value={value} index={0} style={{ height: '100%' }}>\r\n\t\t\t\t\t<PlaylistAlbumsPage token={token} />\r\n\t\t\t\t</TabPanel>\r\n\t\t\t\t<TabPanel value={value} index={1}>\r\n\t\t\t\t\tItem Two\r\n\t\t\t\t</TabPanel>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tif (error) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<p>If you're seeing this, click this button, then refresh the page.</p>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tlocalStorage.setItem('token', '');\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tClear Token\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<p>Loading...</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(Main);\r\n","import React, { Component } from 'react';\r\nimport { authEndpoint, clientId, redirectUri, scopes } from './config';\r\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\r\nimport { green, brown } from '@material-ui/core/colors';\r\nimport hash from './hash';\r\nimport Main from './components/Main';\r\nimport logo from './logo.svg';\r\nimport './App.css';\r\nimport { user } from './store';\r\n\r\nconst LSTheme = createMuiTheme({\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t\tmain: '#668a84',\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tmain: brown[500],\r\n\t\t},\r\n\t},\r\n});\r\n\r\nclass App extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\ttoken: null,\r\n\t\t\titem: {\r\n\t\t\t\talbum: {\r\n\t\t\t\t\timages: [{ url: '' }],\r\n\t\t\t\t},\r\n\t\t\t\tname: '',\r\n\t\t\t\tartists: [{ name: '' }],\r\n\t\t\t\tduration_ms: 0,\r\n\t\t\t},\r\n\t\t\tis_playing: 'Paused',\r\n\t\t\tprogress_ms: 0,\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\t// Set token\r\n\t\tlet _token = hash.access_token || localStorage.getItem('token');\r\n\r\n\t\tif (_token) {\r\n\t\t\t// Set token\r\n\t\t\tthis.setState({\r\n\t\t\t\ttoken: _token,\r\n\t\t\t});\r\n\t\t\tlocalStorage.setItem('token', _token);\r\n\t\t\tuser.token = _token;\r\n\t\t\t// this.getCurrentlyPlaying(_token);\r\n\t\t}\r\n\t}\r\n\r\n\tclearLocalStorage() {\r\n\t\tlocalStorage.setItem('token', '');\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<ThemeProvider theme={LSTheme}>\r\n\t\t\t\t<div className=\"App\">\r\n\t\t\t\t\t<header>\r\n\t\t\t\t\t\t{!this.state.token && (\r\n\t\t\t\t\t\t\t<div className=\"App-header\">\r\n\t\t\t\t\t\t\t\t<img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn--loginApp-link\"\r\n\t\t\t\t\t\t\t\t\thref={`${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\r\n\t\t\t\t\t\t\t\t\t\t'%20'\r\n\t\t\t\t\t\t\t\t\t)}&response_type=token&show_dialog=true`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tLogin to Spotify\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{this.state.token && <Main token={this.state.token} />}\r\n\t\t\t\t\t</header>\r\n\t\t\t\t</div>\r\n\t\t\t</ThemeProvider>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}