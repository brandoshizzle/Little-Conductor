{"version":3,"sources":["logo.svg","config.js","hash.js","store.js","components/AlbumList.js","api.js","components/PlaylistTable.js","components/HelpDialog.js","components/ActionButtons.js","components/AlbumChips.js","components/Logger.js","components/PlaylistAlbumsPage.js","components/Main.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","scopes","hash","window","location","substring","split","reduce","initial","item","parts","decodeURIComponent","defaultUser","name","id","token","allPlaylists","filteredPlaylists","selectedAlbums","allAlbums","selectedPlaylists","progress","done","total","percent","log","newLine","color","textColor","logline","user","logArray","push","text","start","normal","end","error","logEl","document","getElementById","scrollTop","scrollHeight","errors","store","localStorage","getItem","merge","JSON","parse","observe","setItem","stringify","useStyles","makeStyles","theme","root","width","backgroundColor","palette","background","paper","paddingLeft","list","position","overflow","maxHeight","Object","filter","obj","predicate","keys","key","res","view","props","classes","useEffect","_loadAlbums","asyncToGenerator","regenerator_default","a","mark","_callee","nextLink","i","wrap","_context","prev","next","axios","get","headers","Authorization","sent","data","items","length","concat","values","console","stop","apply","this","arguments","loadAlbums","handleListItemClick","event","indexOf","newSelectedAlbums","react_default","createElement","className","List","component","aria-label","Typography","variant","album","album_type","map","rDate","Date","release_date","ListItem","button","selected","onClick","style","paddingBottom","paddingTop","ListItemAvatar","Avatar","src","images","url","ListItemText","primary","secondary","toLocaleDateString","year","month","day","APIdelay","playlistBatch","_loop","_context2","playlist","owner","findIndex","delay","getPlaylistTracks","undefined","tracks","playlistData","external_urls","spotify","tracks_endpoint","href","description","albumsString","albums","lastUpdated","playlistMilliseconds","t0","t1","value","delegateYield","_callee2","APItracks","hasLSAlbum","newData","_iterator","_step","track","trackAddedDate","_context3","_createForOfIteratorHelper","s","n","artists","abrupt","e","f","finish","place","duration_ms","added_at","entries","objectSpread","addAlbums","_x2","_x3","_addAlbums","_callee3","side","replaceArg","replace","albumDetails","delayms","trackURIs","newAlbumsString","addedTime","newAlbumsList","newTracksList","trackCount","numTracks","_loop2","j","k","_context5","resetProgress","uri","playlistId","playlistIndex","_res","trackURI","apiURL","_context4","uris","unshift","slice","put","Content-Type","post","status","arrayConcat","now","toString","updateProgress","_callee4","_loop3","_context7","_context6","_callee5","_loop4","_context9","URIsToSend","_context8","_callee6","ms","_context10","timeout","arr1","arr2","forEach","Promise","setTimeout","fontSize","_useState","useState","_useState2","slicedToArray","tableWidth","setTableWidth","_useState3","_useState4","rows","setRows","w","innerWidth","addEventListener","_loadTable","api","nameFormatter","_ref3","Tooltip","title","placement","columns","sortable","resizable","formatter","_ref","d","h","m","parseInt","Math","floor","_ref2","days","word","react_data_grid_default","rowGetter","rowsCount","minHeight","minWidth","rowSelection","showCheckbox","enableShiftSelect","onRowsSelected","row","onRowsDeselected","selectBy","rowKey","onGridSort","sortColumn","sortDirection","initialRows","toConsumableArray","sort","b","sortRows","AlertDialog","Dialog","open","onClose","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","bg","display","flexWrap","justifyContent","margin","marginRight","marginBottom","progressBox","alignItems","flexGrow","desc","setDesc","helpOpen","setHelpOpen","LinearProgress","flexBasis","Button","size","textAlign","placeholder","onChange","target","padding","type","_x4","_replaceDescription","_refreshPlaylists","clear","HelpDialog","listStyle","spacing","chip","Paper","albumID","index","Chip","chipToDelete","avatar","right","top","height","zIndex","transition","borderRadius","overflowY","PlaylistAlbumsPage","left","components_AlbumList","components_AlbumChips","components_ActionButtons","sidebarWidth","components_PlaylistTable","components_Logger","TabPanel","children","other","objectWithoutProperties","assign","role","hidden","Box","a11yProps","aria-controls","setValue","_useAxios","useAxios","method","_useAxios2$","loading","display_name","AppBar","Tabs","newValue","Tab","label","components_PlaylistAlbumsPage","LSTheme","createMuiTheme","main","App","_this","classCallCheck","_super","call","state","is_playing","progress_ms","_token","access_token","setState","ThemeProvider","textShadow","join","components_Main","Component","ReactDOM","render","src_App_0"],"mappings":"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","file":"static/js/main.51cf5acf.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";","export const authEndpoint = \"https://accounts.spotify.com/authorize\";\r\n\r\n// Replace with your app's client ID, redirect URI and desired scopes\r\nexport const clientId = \"149f235f7ad941419d900b585b05d9e3\";\r\n// export const redirectUri = \"http://localhost:3000/redirect\";\r\nexport const redirectUri = \"https://brandoshizzle.github.io/Little-Conductor/\";\r\nexport const scopes = [\r\n\t\"user-read-email\",\r\n\t\"playlist-modify-public\",\r\n\t\"playlist-modify-private\",\r\n];\r\n","// Get the hash of the url\r\nconst hash = window.location.hash\r\n  .substring(1)\r\n  .split(\"&\")\r\n  .reduce(function(initial, item) {\r\n    if (item) {\r\n      var parts = item.split(\"=\");\r\n      initial[parts[0]] = decodeURIComponent(parts[1]);\r\n    }\r\n    return initial;\r\n  }, {});\r\nwindow.location.hash = \"\";\r\n\r\nexport default hash;\r\n","import { store } from \"@risingstack/react-easy-state\";\r\nimport { observe } from \"@nx-js/observer-util\";\r\nimport merge from \"lodash/merge\";\r\n\r\nconst defaultUser = {\r\n\tname: \"\",\r\n\tid: \"\",\r\n\ttoken: \"\",\r\n\tallPlaylists: [],\r\n\tfilteredPlaylists: [],\r\n\tselectedAlbums: [],\r\n\tallAlbums: {},\r\n\tselectedPlaylists: [],\r\n\tprogress: {\r\n\t\tdone: 0,\r\n\t\ttotal: 0,\r\n\t\tpercent: 0,\r\n\t},\r\n\tlog: (newLine, color) => {\r\n\t\tconst textColor = color || \"normal\";\r\n\t\tconst colors = {\r\n\t\t\tstart: \"cornflowerblue\",\r\n\t\t\tnormal: \"#ddd\",\r\n\t\t\tend: \"lightgreen\",\r\n\t\t\terror: \"red\",\r\n\t\t};\r\n\t\tconst logline = \"> \" + newLine;\r\n\t\tuser.logArray.push({ text: logline, color: colors[textColor] });\r\n\t\tvar logEl = document.getElementById(\"logger\");\r\n\t\tlogEl.scrollTop = logEl.scrollHeight + 50;\r\n\t},\r\n\tlogArray: [],\r\n\terrors: [],\r\n};\r\n\r\nexport function addPlaylist(playlistData) {\r\n\tuser.allPlaylists.push({\r\n\t\tid: playlistData.id,\r\n\t\tname: playlistData.name,\r\n\t\turl: playlistData.external_urls.spotify,\r\n\t\ttracks_endpoint: playlistData.tracks.href,\r\n\t\tdescription: decodeURIComponent(playlistData.description),\r\n\t\ttracks: playlistData.tracks,\r\n\t\talbumsString: playlistData.albumsString,\r\n\t\talbums: playlistData.albums,\r\n\t\tlastUpdated: playlistData.lastUpdated,\r\n\t\tplaylistMilliseconds: playlistData.playlistMilliseconds,\r\n\t});\r\n}\r\n\r\nexport const user = store(\r\n\tlocalStorage.getItem(\"user\") != null\r\n\t\t? merge(defaultUser, JSON.parse(localStorage.getItem(\"user\")))\r\n\t\t: defaultUser\r\n);\r\n\r\nobserve(() => {\r\n\tlocalStorage.setItem(\"user\", JSON.stringify(user));\r\n});\r\n\r\nwindow.user = user;\r\n","import React, { useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n// import useAxios from 'axios-hooks';\r\nimport axios from \"axios\";\r\nimport { view } from \"@risingstack/react-easy-state\";\r\nimport { user } from \"./../store\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\twidth: \"100%\",\r\n\t\tbackgroundColor: theme.palette.background.paper,\r\n\t\tpaddingLeft: 10,\r\n\t},\r\n\tlist: {\r\n\t\tposition: \"relative\",\r\n\t\toverflow: \"auto\",\r\n\t\tmaxHeight: \"50vh\",\r\n\t},\r\n}));\r\n\r\nObject.filter = (obj, predicate) =>\r\n\tObject.keys(obj)\r\n\t\t.filter((key) => predicate(obj[key]))\r\n\t\t.reduce((res, key) => ((res[key] = obj[key]), res), {});\r\n\r\nconst AlbumList = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst { token } = props;\r\n\t// const [selectedAlbums, setSelectedAlbums] = useState([]);\r\n\t// let [albums, setAlbums] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function loadAlbums() {\r\n\t\t\tlet nextLink;\r\n\t\t\tuser.log(\"Getting LS albums...\");\r\n\t\t\tdo {\r\n\t\t\t\tlet res = await axios.get(\r\n\t\t\t\t\tnextLink ||\r\n\t\t\t\t\t\t\"https://api.spotify.com/v1/artists/4SCWiQbJCMTHK737aNUqBJ/albums?offset=0&limit=50&market=CA\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: \"Bearer \" + token,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\t// console.log(res);\r\n\t\t\t\t// albums = albums.concat(res.data.items);\r\n\t\t\t\t// console.log(user);\r\n\t\t\t\tfor (var i = 0; i < res.data.items.length; i++) {\r\n\t\t\t\t\tuser.allAlbums[res.data.items[i].id] = res.data.items[i];\r\n\t\t\t\t}\r\n\t\t\t\tnextLink = res.data.next;\r\n\t\t\t} while (nextLink);\r\n\t\t\tuser.log(`Loaded ${Object.values(user.allAlbums).length} albums`);\r\n\t\t\tconsole.log(user.allAlbums);\r\n\t\t}\r\n\t\t// Get all LS albums\r\n\t\tloadAlbums();\r\n\t\tuser.selectedAlbums = [];\r\n\t}, []);\r\n\r\n\tconst handleListItemClick = (event, id) => {\r\n\t\tif (user.selectedAlbums.indexOf(id) > -1) {\r\n\t\t\tconst newSelectedAlbums = user.selectedAlbums.filter(\r\n\t\t\t\t(item) => item !== id\r\n\t\t\t);\r\n\t\t\tuser.selectedAlbums = newSelectedAlbums;\r\n\t\t} else {\r\n\t\t\tuser.selectedAlbums = user.selectedAlbums.concat(id);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<List\r\n\t\t\t\tclassName={classes.list}\r\n\t\t\t\tcomponent=\"nav\"\r\n\t\t\t\taria-label=\"main mailbox folders\">\r\n\t\t\t\t<Typography variant=\"body1\">Albums</Typography>\r\n\t\t\t\t{user.allAlbums &&\r\n\t\t\t\t\tObject.values(\r\n\t\t\t\t\t\tObject.filter(\r\n\t\t\t\t\t\t\tuser.allAlbums,\r\n\t\t\t\t\t\t\t(album) => album.album_type === \"album\"\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t).map((album, i) => {\r\n\t\t\t\t\t\tconst rDate = new Date(album.release_date);\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\tselected={\r\n\t\t\t\t\t\t\t\t\tuser.selectedAlbums.indexOf(album.id) > -1\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tonClick={(event) =>\r\n\t\t\t\t\t\t\t\t\thandleListItemClick(event, album.id)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tkey={album.id}\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tpaddingLeft: 0,\r\n\t\t\t\t\t\t\t\t\tpaddingBottom: 0,\r\n\t\t\t\t\t\t\t\t\tpaddingTop: 0,\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"square\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={album.images[1].url}></Avatar>\r\n\t\t\t\t\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tprimary={album.name}\r\n\t\t\t\t\t\t\t\t\tsecondary={rDate.toLocaleDateString(\r\n\t\t\t\t\t\t\t\t\t\t\"en-US\",\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tyear: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t\tmonth: \"long\",\r\n\t\t\t\t\t\t\t\t\t\t\tday: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t<Typography variant=\"body1\">Singles</Typography>\r\n\t\t\t\t{user.allAlbums &&\r\n\t\t\t\t\tObject.values(\r\n\t\t\t\t\t\tObject.filter(\r\n\t\t\t\t\t\t\tuser.allAlbums,\r\n\t\t\t\t\t\t\t(album) => album.album_type === \"single\"\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t).map((album, i) => {\r\n\t\t\t\t\t\tconst rDate = new Date(album.release_date);\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\tselected={\r\n\t\t\t\t\t\t\t\t\tuser.selectedAlbums.indexOf(album.id) > -1\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tonClick={(event) =>\r\n\t\t\t\t\t\t\t\t\thandleListItemClick(event, album.id)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tkey={album.id}\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tpaddingLeft: 0,\r\n\t\t\t\t\t\t\t\t\tpaddingBottom: 0,\r\n\t\t\t\t\t\t\t\t\tpaddingTop: 0,\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"square\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={album.images[1].url}></Avatar>\r\n\t\t\t\t\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tprimary={album.name}\r\n\t\t\t\t\t\t\t\t\tsecondary={rDate.toLocaleDateString(\r\n\t\t\t\t\t\t\t\t\t\t\"en-US\",\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tyear: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t\tmonth: \"long\",\r\n\t\t\t\t\t\t\t\t\t\t\tday: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t</List>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(AlbumList);\r\n","import { user, addPlaylist } from \"./store\";\r\nimport axios from \"axios\";\r\n\r\nconst APIdelay = 300;\r\n\r\nexport async function loadTable() {\r\n\tlet nextLink;\r\n\tuser.log(`Fetching all of ${user.name}'s playlists`);\r\n\t// Loop until we get all playlists\r\n\tdo {\r\n\t\t// Get playlists from spotify\r\n\t\tlet res = await axios.get(\r\n\t\t\tnextLink || `https://api.spotify.com/v1/me/playlists?limit=50`,\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: \"Bearer \" + user.token,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t);\r\n\t\t// console.log(res);\r\n\t\tlet playlistBatch = res.data.items;\r\n\t\tuser.log(`Retrieved ${res.data.items.length} playlists`);\r\n\r\n\t\t// Loop through playlists in that batch\r\n\t\tfor (const i in playlistBatch) {\r\n\t\t\tlet playlist = playlistBatch[i];\r\n\t\t\t// Only get playlists that are owned by the logged in user\r\n\t\t\tif (playlist.owner.id === user.id) {\r\n\t\t\t\t// If we already have the playlist in our list for some reason, don't add it\r\n\t\t\t\tif (\r\n\t\t\t\t\tuser.allPlaylists.findIndex((p) => p.id === playlist.id) ===\r\n\t\t\t\t\t\t-1 &&\r\n\t\t\t\t\tuser.filteredPlaylists.indexOf(playlist.id) === -1\r\n\t\t\t\t) {\r\n\t\t\t\t\t// Get track and album details\r\n\t\t\t\t\tawait delay(APIdelay);\r\n\t\t\t\t\tplaylist = await getPlaylistTracks(playlist);\r\n\r\n\t\t\t\t\tif (playlist.tracks !== undefined) {\r\n\t\t\t\t\t\t// Add it to the store\r\n\t\t\t\t\t\tconsole.log(playlist);\r\n\t\t\t\t\t\taddPlaylist(playlist);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuser.log(`${playlist.name} was not relaxing enough.`);\r\n\t\t\t\t\t\tuser.filteredPlaylists.push(playlist.id);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// If there's an API link for more, get more\r\n\t\tnextLink = res.data.next;\r\n\t} while (nextLink);\r\n}\r\n\r\nasync function getPlaylistTracks(playlist) {\r\n\tlet nextLink;\r\n\tlet APItracks = [];\r\n\tlet hasLSAlbum = false;\r\n\r\n\tconst newData = {\r\n\t\ttracks: [],\r\n\t\talbums: [],\r\n\t\talbumsString: \"\",\r\n\t\tlastUpdated: Date.parse(\"1980-01-01T12:00:00Z\"),\r\n\t\tplaylistMilliseconds: 0,\r\n\t};\r\n\r\n\t// Get all tracks on the playlist\r\n\tdo {\r\n\t\tlet res = await axios.get(\r\n\t\t\tnextLink ||\r\n\t\t\t\t`https://api.spotify.com/v1/playlists/${playlist.id}/tracks?fields=`,\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: \"Bearer \" + user.token,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t);\r\n\t\t// console.log(res);\r\n\t\tAPItracks = APItracks.concat(res.data.items);\r\n\t\tfor (const trackData of res.data.items) {\r\n\t\t\tif (trackData.track.artists[0].name === \"Little Symphony\") {\r\n\t\t\t\thasLSAlbum = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tnextLink = res.data.next;\r\n\t} while (nextLink && hasLSAlbum);\r\n\r\n\tif (!hasLSAlbum) {\r\n\t\tplaylist.tracks = undefined;\r\n\t\treturn playlist;\r\n\t}\r\n\r\n\tfor (const i in APItracks) {\r\n\t\tconst track = APItracks[i].track;\r\n\t\tnewData.tracks.push({\r\n\t\t\tplace: i,\r\n\t\t\tid: track.id,\r\n\t\t\tlength: track.duration_ms,\r\n\t\t\talbum: track.album.name,\r\n\t\t});\r\n\r\n\t\tnewData.playlistMilliseconds += track.duration_ms;\r\n\t\tconst trackAddedDate = Date.parse(APItracks[i].added_at);\r\n\r\n\t\t// Updated lastUpdated if trackAddedDate is later\r\n\t\tif (trackAddedDate > newData.lastUpdated) {\r\n\t\t\tnewData.lastUpdated = trackAddedDate;\r\n\t\t}\r\n\r\n\t\tif (newData.albumsString.indexOf(track.album.name) === -1) {\r\n\t\t\tnewData.albums.push({ id: track.album.id, name: track.album.name });\r\n\t\t\tnewData.albumsString += track.album.name + \", \";\r\n\t\t}\r\n\t}\r\n\r\n\tif (!hasLSAlbum && Object.entries(newData.tracks).length > 0) {\r\n\t\tnewData.tracks = undefined;\r\n\t}\r\n\r\n\t// Remove comma/space from album list\r\n\tnewData.albumsString = newData.albumsString.substring(\r\n\t\t0,\r\n\t\tnewData.albumsString.length - 2\r\n\t);\r\n\tplaylist = {\r\n\t\t...playlist,\r\n\t\t...newData,\r\n\t};\r\n\r\n\treturn playlist;\r\n}\r\n\r\nexport async function addAlbums(side, replaceArg) {\r\n\tresetProgress();\r\n\tconst replace = replaceArg === \"replace\" ? true : false;\r\n\tlet albumDetails = [];\r\n\tlet delayms = 0;\r\n\tlet trackURIs = [];\r\n\tlet newAlbumsString = \"\";\r\n\tlet addedTime = 0;\r\n\tlet newAlbumsList = [];\r\n\tlet newTracksList = [];\r\n\r\n\t// Tell the user what's up\r\n\tif (replace) {\r\n\t\tside = \"end\";\r\n\t\tuser.log(\r\n\t\t\t`It's time to replace ${user.selectedPlaylists.length} playlists with ${user.selectedAlbums.length} selected albums.`,\r\n\t\t\t\"start\"\r\n\t\t);\r\n\t} else {\r\n\t\tuser.log(\r\n\t\t\t`It's time to add ${user.selectedAlbums.length} albums to the ${side} of ${user.selectedPlaylists.length} playlists`,\r\n\t\t\t\"start\"\r\n\t\t);\r\n\t}\r\n\r\n\t// Get track information from each of the albums\r\n\tfor (var i = 0; i < user.selectedAlbums.length; i++) {\r\n\t\tuser.log(\r\n\t\t\t`Grabbing track info for ${\r\n\t\t\t\tuser.allAlbums[user.selectedAlbums[i]].name\r\n\t\t\t}`\r\n\t\t);\r\n\t\tlet res = await axios.get(\r\n\t\t\t`https://api.spotify.com/v1/albums/${user.selectedAlbums[i]}/tracks?limit=50`,\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: \"Bearer \" + user.token,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t);\r\n\t\talbumDetails = albumDetails.concat(res.data);\r\n\t\tnewAlbumsString += `${user.allAlbums[user.selectedAlbums[i]].name}, `;\r\n\t\tnewAlbumsList.push(user.allAlbums[user.selectedAlbums[i]]);\r\n\t\tconsole.log(albumDetails[0]);\r\n\t\tfor (\r\n\t\t\tvar trackCount = 0;\r\n\t\t\ttrackCount < albumDetails[i].total;\r\n\t\t\ttrackCount++\r\n\t\t) {\r\n\t\t\ttrackURIs.push(albumDetails[i].items[trackCount].uri);\r\n\t\t\taddedTime += albumDetails[i].items[trackCount].duration_ms;\r\n\t\t\tnewTracksList.push({\r\n\t\t\t\tplace: trackCount,\r\n\t\t\t\tid: albumDetails[i].items[trackCount].id,\r\n\t\t\t\tlength: albumDetails[i].items[trackCount].duration_ms,\r\n\t\t\t\talbum: user.selectedAlbums[i].name,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tconsole.log(newAlbumsList);\r\n\tconsole.log(newTracksList);\r\n\tconst numTracks = trackURIs.length;\r\n\r\n\t// Go through each playlist and add the albums to it\r\n\tfor (var j = 0; j < user.selectedPlaylists.length; j++) {\r\n\t\tconst playlistId = user.selectedPlaylists[j];\r\n\t\tconst playlistIndex = user.allPlaylists.findIndex(\r\n\t\t\t(p) => p.id === playlistId\r\n\t\t);\r\n\t\tconst playlist = user.allPlaylists[playlistIndex];\r\n\t\tconsole.log(playlist.tracks);\r\n\t\t// Don't add album if it's already on the playlist\r\n\t\t// console.log(playlist.albumList, user.album.name, playlist.albumList.indexOf(user.album.name));\r\n\t\t// if (playlist.albumList.indexOf(user.album.name) === -1) {\r\n\t\tif (true) {\r\n\t\t\ttry {\r\n\t\t\t\tlet res;\r\n\t\t\t\tdo {\r\n\t\t\t\t\tlet data =\r\n\t\t\t\t\t\tside === \"start\"\r\n\t\t\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t\t\turis: [],\r\n\t\t\t\t\t\t\t\t\tposition: 0,\r\n\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t: {\r\n\t\t\t\t\t\t\t\t\turis: [],\r\n\t\t\t\t\t\t\t  };\r\n\t\t\t\t\tfor (var k = 0; k < trackURIs.length; k++) {\r\n\t\t\t\t\t\tlet trackURI;\r\n\t\t\t\t\t\tif (side === \"start\") {\r\n\t\t\t\t\t\t\ttrackURI = trackURIs[trackURIs.length - 1 - k];\r\n\t\t\t\t\t\t\tdata.uris.unshift(trackURI);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttrackURI = trackURIs[k];\r\n\t\t\t\t\t\t\tdata.uris.push(trackURI);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (k === 99) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (side === \"start\") {\r\n\t\t\t\t\t\ttrackURIs = trackURIs.slice(0, -data.uris.length);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttrackURIs = trackURIs.slice(\r\n\t\t\t\t\t\t\tdata.uris.length,\r\n\t\t\t\t\t\t\ttrackURIs.length\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst apiURL = `https://api.spotify.com/v1/playlists/${playlist.id}/tracks`;\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\treplace &&\r\n\t\t\t\t\t\ttrackURIs.length + data.uris.length === numTracks\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tres = await axios.put(apiURL, data, {\r\n\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\tAuthorization: \"Bearer \" + user.token,\r\n\t\t\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tres = await axios.post(apiURL, data, {\r\n\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\tAuthorization: \"Bearer \" + user.token,\r\n\t\t\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t} while (trackURIs.length > 0);\r\n\r\n\t\t\t\t// do {\r\n\t\t\t\t// \tconsole.log(URIsToSend);\r\n\t\t\t\t// \tlet data = { uris: [] };\r\n\t\t\t\t// \tfor (var k = 0; k < URIsToSend.length; k++) {\r\n\t\t\t\t// \t\tdata.uris.push(URIsToSend[k]);\r\n\t\t\t\t// \t\tif (k === 99) {\r\n\t\t\t\t// \t\t\tbreak;\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t}\r\n\t\t\t\t// \tURIsToSend = URIsToSend.slice(\r\n\t\t\t\t// \t\tdata.uris.length,\r\n\t\t\t\t// \t\tURIsToSend.length\r\n\t\t\t\t// \t);\r\n\t\t\t\t// \tconsole.log(URIsToSend);\r\n\t\t\t\t// \tconsole.log(data);\r\n\t\t\t\t// \tres = await axios.post(apiURL, data, {\r\n\t\t\t\t// \t\theaders: {\r\n\t\t\t\t// \t\t\tAuthorization: \"Bearer \" + user.token,\r\n\t\t\t\t// \t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t// \t\t},\r\n\t\t\t\t// \t});\r\n\t\t\t\t// \tconsole.log(res);\r\n\t\t\t\t// } while (URIsToSend.length > 0);\r\n\r\n\t\t\t\t// If successful, update local\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tif (res.status === 201) {\r\n\t\t\t\t\tif (replace) {\r\n\t\t\t\t\t\tuser.log(\r\n\t\t\t\t\t\t\t`Removed all previous albums from ${playlist.name}.`\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tuser.allPlaylists[playlistIndex].albumsString = \"\";\r\n\t\t\t\t\t\tuser.allPlaylists[playlistIndex].albums = [];\r\n\t\t\t\t\t\tuser.allPlaylists[playlistIndex].tracks = [];\r\n\t\t\t\t\t\tuser.allPlaylists[\r\n\t\t\t\t\t\t\tplaylistIndex\r\n\t\t\t\t\t\t].playlistMilliseconds = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuser.log(\r\n\t\t\t\t\t\t`Successfully plopped ${numTracks} beats onto ${playlist.name}.`\r\n\t\t\t\t\t);\r\n\t\t\t\t\t// Update list of albums\r\n\r\n\t\t\t\t\tif (side === \"start\") {\r\n\t\t\t\t\t\tuser.allPlaylists[playlistIndex].albumsString =\r\n\t\t\t\t\t\t\tnewAlbumsString +\r\n\t\t\t\t\t\t\tuser.allPlaylists[playlistIndex].albumsString;\r\n\r\n\t\t\t\t\t\tuser.allPlaylists[playlistIndex].albums = arrayConcat(\r\n\t\t\t\t\t\t\tnewAlbumsList,\r\n\t\t\t\t\t\t\tuser.allPlaylists[playlistIndex].albums\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tuser.allPlaylists[playlistIndex].tracks = arrayConcat(\r\n\t\t\t\t\t\t\tnewTracksList,\r\n\t\t\t\t\t\t\tuser.allPlaylists[playlistIndex].tracks\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\tuser.allPlaylists[playlistIndex].albumsString !== \"\"\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\tuser.allPlaylists[playlistIndex].albumsString +=\r\n\t\t\t\t\t\t\t\t\", \";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tuser.allPlaylists[playlistIndex].albumsString =\r\n\t\t\t\t\t\t\tuser.allPlaylists[playlistIndex].albumsString +\r\n\t\t\t\t\t\t\tnewAlbumsString.substring(\r\n\t\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t\tnewAlbumsString.length - 2\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\tuser.allPlaylists[playlistIndex].albums = arrayConcat(\r\n\t\t\t\t\t\t\tuser.allPlaylists[playlistIndex].albums,\r\n\t\t\t\t\t\t\tnewAlbumsList\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tuser.allPlaylists[playlistIndex].tracks = arrayConcat(\r\n\t\t\t\t\t\t\tuser.allPlaylists[playlistIndex].tracks,\r\n\t\t\t\t\t\t\tnewTracksList\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Update total time\r\n\t\t\t\t\tuser.allPlaylists[\r\n\t\t\t\t\t\tplaylistIndex\r\n\t\t\t\t\t].playlistMilliseconds += addedTime;\r\n\t\t\t\t\t// Update lastUpdated\r\n\t\t\t\t\tuser.allPlaylists[\r\n\t\t\t\t\t\tplaylistIndex\r\n\t\t\t\t\t].lastUpdated = Date.now().toString();\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tuser.log(\r\n\t\t\t\t\t`Houston, we had an issue with ${playlist.name}.`,\r\n\t\t\t\t\t\"error\"\r\n\t\t\t\t);\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tupdateProgress();\r\n\t\tdelayms += APIdelay;\r\n\t\tawait delay(delayms);\r\n\t}\r\n\r\n\tuser.log(`All finished big guy.`, \"end\");\r\n}\r\n\r\nexport async function replaceDescription(description) {\r\n\tresetProgress();\r\n\tlet delayms = 0;\r\n\tuser.log(\r\n\t\t`Description time! Changing the description of ${user.selectedPlaylists.length} playlists.`,\r\n\t\t\"start\"\r\n\t);\r\n\t// Go through each playlist and replace the description\r\n\tfor (var j = 0; j < user.selectedPlaylists.length; j++) {\r\n\t\tconst playlistId = user.selectedPlaylists[j];\r\n\t\tconst playlistIndex = user.allPlaylists.findIndex(\r\n\t\t\t(p) => p.id === playlistId\r\n\t\t);\r\n\t\tconst playlist = user.allPlaylists[playlistIndex];\r\n\t\tlet data = { description };\r\n\r\n\t\ttry {\r\n\t\t\tlet res = await axios.put(\r\n\t\t\t\t`https://api.spotify.com/v1/playlists/${playlist.id}/`,\r\n\t\t\t\tdata,\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: \"Bearer \" + user.token,\r\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\t// If successful, update local\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tuser.log(`Bam. Description of ${playlist.name} updated.`);\r\n\t\t\t\tuser.allPlaylists[playlistIndex].description = description;\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tuser.log(`Uh oh! There was an issue with .`);\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n\r\n\t\tupdateProgress();\r\n\t\tdelayms += APIdelay;\r\n\t\tawait delay(delayms);\r\n\t}\r\n\tresetProgress();\r\n\tuser.log(`We're done here.`, \"end\");\r\n}\r\n\r\n// Refresh: get list of playlist tracks and re-add them to playlist\r\nexport async function refreshPlaylists() {\r\n\tuser.log(\r\n\t\t`We're about to refresh ${user.selectedPlaylists.length} playlists.`,\r\n\t\t\"start\"\r\n\t);\r\n\tfor (var i = 0; i < user.selectedPlaylists.length; i++) {\r\n\t\tconst playlistId = user.selectedPlaylists[i];\r\n\t\tconst playlistIndex = user.allPlaylists.findIndex(\r\n\t\t\t(p) => p.id === playlistId\r\n\t\t);\r\n\t\tconst playlist = user.allPlaylists[playlistIndex];\r\n\r\n\t\tlet URIsToSend = [];\r\n\t\t// Get list of playlist tracks\r\n\t\tfor (var j = 0; j < Object.keys(playlist.tracks).length; j++) {\r\n\t\t\tURIsToSend.push(`spotify:track:${playlist.tracks[j].id}`);\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tlet res;\r\n\t\t\t// Remove old tracks\r\n\t\t\tconst apiURL = `https://api.spotify.com/v1/playlists/${playlist.id}/tracks`;\r\n\t\t\tres = await axios.put(\r\n\t\t\t\tapiURL,\r\n\t\t\t\t{ uris: [] },\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: \"Bearer \" + user.token,\r\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\t// Add tracks back in batches of 100\r\n\t\t\tdo {\r\n\t\t\t\tconsole.log(URIsToSend);\r\n\t\t\t\tlet data = { uris: [] };\r\n\t\t\t\tfor (var k = 0; k < URIsToSend.length; k++) {\r\n\t\t\t\t\tdata.uris.push(URIsToSend[k]);\r\n\t\t\t\t\tif (k === 99) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tURIsToSend = URIsToSend.slice(\r\n\t\t\t\t\tdata.uris.length,\r\n\t\t\t\t\tURIsToSend.length\r\n\t\t\t\t);\r\n\t\t\t\tconsole.log(URIsToSend);\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t\tres = await axios.post(apiURL, data, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: \"Bearer \" + user.token,\r\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t} while (URIsToSend.length > 0);\r\n\t\t\t// If successful, update local\r\n\t\t\tconsole.log(res);\r\n\t\t\tif (res.status === 201) {\r\n\t\t\t\tuser.log(`${playlist.name} is looking refreshed af.`, \"end\");\r\n\t\t\t} else {\r\n\t\t\t\tuser.log(\r\n\t\t\t\t\t`Refreshing ${playlist.name} gave us an error. Not cool man.`,\r\n\t\t\t\t\t\"error\"\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tuser.log(\r\n\t\t\t\t`Refreshing ${playlist.name} gave us an error. Not cool man.`,\r\n\t\t\t\t\"error\"\r\n\t\t\t);\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction resetProgress() {\r\n\tuser.progress.done = 0;\r\n\tuser.progress.total = user.selectedPlaylists.length;\r\n\tuser.progress.percent = 0;\r\n}\r\nfunction updateProgress() {\r\n\tuser.progress.done++;\r\n\tuser.progress.percent = (user.progress.done / user.progress.total) * 100;\r\n}\r\n\r\nasync function delay(ms) {\r\n\tawait timeout(ms);\r\n}\r\n\r\nfunction arrayConcat(arr1, arr2) {\r\n\tarr2.forEach(function (item) {\r\n\t\tarr1.push(item);\r\n\t});\r\n\treturn arr1;\r\n}\r\n\r\nconst timeout = (ms) => new Promise((res) => setTimeout(res, ms));\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport ReactDataGrid from \"react-data-grid\";\r\nimport * as api from \"./../api\";\r\n\r\nimport { view } from \"@risingstack/react-easy-state\";\r\nimport { user } from \"./../store\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tfontSize: 14,\r\n\t},\r\n}));\r\n\r\nconst sortRows = (initialRows, sortColumn, sortDirection) => (rows) => {\r\n\tconst comparer = (a, b) => {\r\n\t\tif (sortDirection === \"ASC\") {\r\n\t\t\treturn a[sortColumn] > b[sortColumn] ? 1 : -1;\r\n\t\t} else if (sortDirection === \"DESC\") {\r\n\t\t\treturn a[sortColumn] < b[sortColumn] ? 1 : -1;\r\n\t\t}\r\n\t};\r\n\treturn sortDirection === \"NONE\" ? initialRows : [...rows].sort(comparer);\r\n};\r\n\r\nconst PlaylistTable = (props) => {\r\n\tconst classes = useStyles();\r\n\r\n\tconst [tableWidth, setTableWidth] = useState(500);\r\n\tconst [rows, setRows] = useState(user.allPlaylists);\r\n\r\n\tuseEffect(() => {\r\n\t\t// Get data from storage or API on launch\r\n\t\tconst w = window.innerWidth;\r\n\t\tsetTableWidth(w - 520);\r\n\t\twindow.addEventListener(\"resize\", function () {\r\n\t\t\tconst w = window.innerWidth;\r\n\t\t\tsetTableWidth(w - 520);\r\n\t\t});\r\n\t\tapi.loadTable();\r\n\t}, []);\r\n\r\n\tconst playlistLengthFormatter = ({ value }) => {\r\n\t\t// console.log(value);\r\n\t\tvar ms = parseInt(value);\r\n\t\tvar d, h, m, s;\r\n\t\ts = Math.floor(ms / 1000);\r\n\t\tm = Math.floor(s / 60);\r\n\t\ts = s % 60;\r\n\t\th = Math.floor(m / 60);\r\n\t\tm = m % 60;\r\n\t\td = Math.floor(h / 24);\r\n\t\th = h % 24;\r\n\t\th += d * 24;\r\n\t\treturn `${h < 10 ? \"0\" + h : h}:${m < 10 ? \"0\" + m : m}:${\r\n\t\t\ts < 10 ? \"0\" + s : s\r\n\t\t}`;\r\n\t};\r\n\r\n\tconst lastUpdatedFormatter = ({ value }) => {\r\n\t\tconst now = Date.now().toString();\r\n\t\tconst days = Math.floor((now - value) / 86400000);\r\n\t\tconst word = days === 1 ? \"day\" : \"days\";\r\n\t\treturn `${days} ${word} ago`;\r\n\t};\r\n\r\n\tconst nameFormatter = ({ value }) => {\r\n\t\treturn (\r\n\t\t\t<Tooltip title={value} placement=\"bottom\">\r\n\t\t\t\t<div className=\"no-overflow\">{value}</div>\r\n\t\t\t</Tooltip>\r\n\t\t);\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\tkey: \"name\",\r\n\t\t\tname: \"Name\",\r\n\t\t\twidth: 300,\r\n\t\t\tsortable: true,\r\n\t\t\tresizable: true,\r\n\t\t\tformatter: nameFormatter,\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"playlistMilliseconds\",\r\n\t\t\tname: \"Total length\",\r\n\t\t\tformatter: playlistLengthFormatter,\r\n\t\t\twidth: 100,\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"lastUpdated\",\r\n\t\t\tname: \"Last updated\",\r\n\t\t\tformatter: lastUpdatedFormatter,\r\n\t\t\twidth: 120,\r\n\t\t\tsortable: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"albumsString\",\r\n\t\t\tname: \"Albums\",\r\n\t\t\tresizable: true,\r\n\t\t\tformatter: nameFormatter,\r\n\t\t},\r\n\t];\r\n\r\n\tfunction onRowsSelected(rows) {\r\n\t\tconsole.log(rows);\r\n\t\tuser.selectedPlaylists.push(rows[0].row.id);\r\n\t\t// setSelectedIds(selectedIds.concat(rows.map((r) => r.row.id)));\r\n\t}\r\n\r\n\tfunction onRowsDeselected(rows) {\r\n\t\tuser.selectedPlaylists = user.selectedPlaylists.filter(\r\n\t\t\t(e) => e !== rows[0].row.id\r\n\t\t);\r\n\t\t// let rowIds = rows.map((r) => r.row.id);\r\n\t\t// setSelectedIds(selectedIds.filter((i) => rowIds.indexOf(i) === -1));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<ReactDataGrid\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\trowGetter={(i) => rows[i]}\r\n\t\t\t\trowsCount={rows.length}\r\n\t\t\t\tminHeight={800}\r\n\t\t\t\tminWidth={tableWidth}\r\n\t\t\t\trowSelection={{\r\n\t\t\t\t\tshowCheckbox: true,\r\n\t\t\t\t\tenableShiftSelect: true,\r\n\t\t\t\t\tonRowsSelected: onRowsSelected,\r\n\t\t\t\t\tonRowsDeselected: onRowsDeselected,\r\n\t\t\t\t\tselectBy: {\r\n\t\t\t\t\t\tkeys: {\r\n\t\t\t\t\t\t\trowKey: \"id\",\r\n\t\t\t\t\t\t\tvalues: user.selectedPlaylists,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t}}\r\n\t\t\t\tonGridSort={(sortColumn, sortDirection) => {\r\n\t\t\t\t\tsetRows(\r\n\t\t\t\t\t\tsortRows(user.allPlaylists, sortColumn, sortDirection)\r\n\t\t\t\t\t);\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(PlaylistTable);\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nconst AlertDialog = (props) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Dialog\r\n\t\t\t\topen={props.open}\r\n\t\t\t\tonClose={props.onClose}\r\n\t\t\t\taria-labelledby=\"alert-dialog-title\"\r\n\t\t\t\taria-describedby=\"alert-dialog-description\">\r\n\t\t\t\t<DialogTitle id=\"alert-dialog-title\">\r\n\t\t\t\t\t{\"So it's not working eh?\"}\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<DialogContentText id=\"alert-dialog-description\">\r\n\t\t\t\t\t\tI try my best, but there's always going to be issues.\r\n\t\t\t\t\t\tI'll try to squash them when I can. If you run into an\r\n\t\t\t\t\t\tissue (especially if I just published an update!), first\r\n\t\t\t\t\t\tclick the \"Reset Program\" button, then hard-reset your\r\n\t\t\t\t\t\tpage by hitting Shift + F5. This will clear out old bad\r\n\t\t\t\t\t\tstuff and get you super up to date. If it STILL doesn't\r\n\t\t\t\t\t\twork, contact Brandon (cathcart.brandon@gmail.com).\r\n\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default AlertDialog;\r\n","import React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport * as api from \"./../api\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport HelpDialog from \"./HelpDialog\";\r\n\r\nimport { view } from \"@risingstack/react-easy-state\";\r\nimport { user } from \"./../store\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tbg: {\r\n\t\tbackground: theme.palette.background.paper,\r\n\t},\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t\tjustifyContent: \"flex-start\",\r\n\t},\r\n\titem: {\r\n\t\tmargin: 0,\r\n\t\tmarginRight: 2,\r\n\t\tmarginBottom: 2,\r\n\t},\r\n\tprogressBox: {\r\n\t\twidth: \"100%\",\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t},\r\n\tprogress: {\r\n\t\tflexGrow: \"1\",\r\n\t},\r\n}));\r\n\r\nconst ActionButtons = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst [desc, setDesc] = useState(\"\");\r\n\tconst [helpOpen, setHelpOpen] = useState(false);\r\n\r\n\tfunction descChange(e) {\r\n\t\tsetDesc(e.target.value);\r\n\t}\r\n\r\n\tconst handleDialogClose = () => {\r\n\t\tsetHelpOpen(false);\r\n\t\tconsole.log(helpOpen);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<div className={classes.progressBox}>\r\n\t\t\t\t\t{/* <Typography variant=\"body1\">Current Task</Typography> */}\r\n\t\t\t\t\t<LinearProgress\r\n\t\t\t\t\t\tvariant=\"determinate\"\r\n\t\t\t\t\t\tvalue={user.progress.percent}\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tclassName={classes.progress}\r\n\t\t\t\t\t\tstyle={{ display: \"none\" }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tvariant=\"body1\"\r\n\t\t\t\t\tstyle={{ flexBasis: \"100%\", paddingTop: 5 }}>\r\n\t\t\t\t\tAdd Albums to\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tapi.addAlbums(\"start\");\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsize=\"small\">\r\n\t\t\t\t\tstart\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tapi.addAlbums(\"end\");\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsize=\"small\">\r\n\t\t\t\t\tend\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tapi.addAlbums(\"start\", \"replace\");\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsize=\"small\">\r\n\t\t\t\t\tReplace\r\n\t\t\t\t</Button>\r\n\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tvariant=\"body1\"\r\n\t\t\t\t\tstyle={{ flexBasis: \"100%\", paddingTop: 5 }}>\r\n\t\t\t\t\tPlaylist Actions\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<div style={{ textAlign: \"left\" }}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tid=\"new-description\"\r\n\t\t\t\t\t\tplaceholder=\"Description\"\r\n\t\t\t\t\t\tonChange={descChange}\r\n\t\t\t\t\t\tstyle={{ width: \"120px\", padding: 5 }}\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tapi.replaceDescription(desc);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsize=\"small\">\r\n\t\t\t\t\t\tReplace\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tapi.refreshPlaylists();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsize=\"small\">\r\n\t\t\t\t\t\trefresh albums\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* <Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}>\r\n\t\t\t\t\tAdd to start and push last album\r\n\t\t\t\t</Button> */}\r\n\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tvariant=\"body1\"\r\n\t\t\t\t\tstyle={{ flexBasis: \"100%\", paddingTop: 5 }}>\r\n\t\t\t\t\tUtility\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tlocalStorage.setItem(\"token\", \"\");\r\n\t\t\t\t\t\tuser.log(\r\n\t\t\t\t\t\t\t\"Spotify token has been cleared. Please refresh your webpage.\",\r\n\t\t\t\t\t\t\t\"end\"\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsize=\"small\">\r\n\t\t\t\t\tRe-spotify\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tlocalStorage.clear();\r\n\t\t\t\t\t\tuser.allPlaylists = [];\r\n\t\t\t\t\t\tuser.log(\r\n\t\t\t\t\t\t\t\"All playlist data has been cleared. Please hard refresh (Shift + F5) your webpage.\",\r\n\t\t\t\t\t\t\t\"end\"\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsize=\"small\">\r\n\t\t\t\t\tRESET PROGRAM\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetHelpOpen(true);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsize=\"small\">\r\n\t\t\t\t\tIt's not working!\r\n\t\t\t\t</Button>\r\n\t\t\t\t<HelpDialog open={helpOpen} onClose={handleDialogClose} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(ActionButtons);\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nimport { view } from \"@risingstack/react-easy-state\";\r\nimport { user } from \"./../store\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\tflexWrap: \"wrap\",\r\n\t\tlistStyle: \"none\",\r\n\t\tpadding: theme.spacing(0.5),\r\n\t\tmargin: 0,\r\n\t},\r\n\tchip: {\r\n\t\tmargin: theme.spacing(0.5),\r\n\t},\r\n}));\r\n\r\nconst AlbumChips = () => {\r\n\tconst classes = useStyles();\r\n\tconst handleDelete = (chipToDelete) => () => {\r\n\t\tuser.selectedAlbums = user.selectedAlbums.filter(\r\n\t\t\t(chip) => chip !== chipToDelete\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Paper component=\"ul\" className={classes.root}>\r\n\t\t\t{user.selectedAlbums.map((albumID, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<li key={index}>\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\ttitle={user.allAlbums[albumID].name}\r\n\t\t\t\t\t\t\tplacement=\"top\">\r\n\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t// label={user.allAlbums[albumID].name}\r\n\t\t\t\t\t\t\t\tonClick={handleDelete(albumID)}\r\n\t\t\t\t\t\t\t\tclassName={classes.chip}\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\t\t\tsrc={\r\n\t\t\t\t\t\t\t\t\t\t\tuser.allAlbums[albumID].images[1]\r\n\t\t\t\t\t\t\t\t\t\t\t\t.url\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</Paper>\r\n\t);\r\n};\r\n\r\nexport default view(AlbumChips);\r\n","import React, { useEffect } from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport { view } from \"@risingstack/react-easy-state\";\r\nimport { user } from \"./../store\";\r\n\r\nconst Logger = (props) => {\r\n\tuseEffect(() => {\r\n\t\tuser.logArray = [];\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\tposition: \"absolute\",\r\n\t\t\t\tright: 5,\r\n\t\t\t\ttop: 3,\r\n\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\talignItems: \"flex-start\",\r\n\t\t\t\tjustifyContent: \"flex-end\",\r\n\t\t\t\twidth: \"100%\",\r\n\t\t\t\theight: \"calc(100vh - 60px)\",\r\n\t\t\t\tbackground: \"rgba(0,0,0,0.6)\",\r\n\t\t\t\tzIndex: 1000,\r\n\t\t\t\ttransition: \"0.5s\",\r\n\t\t\t\tborderRadius: 10,\r\n\t\t\t\toverflowY: \"scroll\",\r\n\t\t\t}}\r\n\t\t\tclassName=\"logger\"\r\n\t\t\tid=\"logger\">\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tcolor: \"#ddd\",\r\n\t\t\t\t\tflexGrow: 1,\r\n\t\t\t\t\tpaddingTop: 15,\r\n\t\t\t\t\ttextAlign: \"left\",\r\n\t\t\t\t\tpaddingLeft: 12,\r\n\t\t\t\t}}>\r\n\t\t\t\t{user.logArray.map((logline, index) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tcomponent=\"p\"\r\n\t\t\t\t\t\t\tvariant=\"body2\"\r\n\t\t\t\t\t\t\tid=\"last-log\"\r\n\t\t\t\t\t\t\tstyle={{ display: \"block\", color: logline.color }}\r\n\t\t\t\t\t\t\tkey={index}>\r\n\t\t\t\t\t\t\t{logline.text}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(Logger);\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nimport AlbumList from \"./AlbumList\";\r\nimport PlaylistTable from \"./PlaylistTable\";\r\nimport ActionButtons from \"./ActionButtons\";\r\nimport AlbumChips from \"./AlbumChips\";\r\n\r\nimport Logger from \"./Logger\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t},\r\n\tpaper: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\ttextAlign: \"left\",\r\n\t\tcolor: theme.palette.text.secondary,\r\n\t\theight: \"calc(100vh - 60px)\",\r\n\t\tbackgroundColor: \"rgba(240,240,240,0.7)\",\r\n\t},\r\n}));\r\n\r\nconst PlaylistAlbumsPage = (props) => {\r\n\tconst { token } = props;\r\n\tconst classes = useStyles();\r\n\tconst sidebarWidth = 250;\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: \"fixed\",\r\n\t\t\t\t\t// height: \"calc(100vh-60px)\",\r\n\t\t\t\t\twidth: sidebarWidth,\r\n\t\t\t\t\ttop: 55,\r\n\t\t\t\t\tleft: 5,\r\n\t\t\t\t}}>\r\n\t\t\t\t<Paper className={classes.paper} style={{ padding: 10 }}>\r\n\t\t\t\t\t<AlbumList token={token} />\r\n\t\t\t\t\t<AlbumChips />\r\n\t\t\t\t\t<ActionButtons token={token} />\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\tmarginRight: 10,\r\n\t\t\t\t\tleft: sidebarWidth + 10,\r\n\t\t\t\t\twidth: \"66%\",\r\n\t\t\t\t\ttop: 55,\r\n\t\t\t\t}}>\r\n\t\t\t\t<PlaylistTable token={token} />\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: \"fixed\",\r\n\t\t\t\t\theight: \"100vh\",\r\n\t\t\t\t\twidth: sidebarWidth,\r\n\t\t\t\t\ttop: 50,\r\n\t\t\t\t\tright: 0,\r\n\t\t\t\t}}>\r\n\t\t\t\t<Logger />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PlaylistAlbumsPage;\r\n","import React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport useAxios from \"axios-hooks\";\r\n\r\nimport { view } from \"@risingstack/react-easy-state\";\r\nimport { user } from \"./../store\";\r\n\r\nimport PlaylistAlbumsPage from \"./PlaylistAlbumsPage\";\r\n\r\nfunction TabPanel(props) {\r\n\tconst { children, value, index, ...other } = props;\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\trole=\"tabpanel\"\r\n\t\t\thidden={value !== index}\r\n\t\t\tid={`simple-tabpanel-${index}`}\r\n\t\t\taria-labelledby={`simple-tab-${index}`}\r\n\t\t\t{...other}>\r\n\t\t\t{value === index && <Box p={3}>{children}</Box>}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction a11yProps(index) {\r\n\treturn {\r\n\t\tid: `simple-tab-${index}`,\r\n\t\t\"aria-controls\": `simple-tabpanel-${index}`,\r\n\t};\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t\theight: \"calc(100vh - 48px)\",\r\n\t\t// backgroundColor: theme.palette.background.paper,\r\n\t},\r\n}));\r\n\r\nconst Main = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst { token } = props;\r\n\tconst [value, setValue] = useState(0);\r\n\r\n\tconst [{ data, loading, error }] = useAxios({\r\n\t\turl: \"https://api.spotify.com/v1/me\",\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\tAuthorization: \"Bearer \" + token,\r\n\t\t},\r\n\t});\r\n\r\n\tif (loading) {\r\n\t\tconsole.log(\"Loading user...\");\r\n\t}\r\n\r\n\tif (data) {\r\n\t\t// console.log(data);\r\n\t\tuser.name = data.display_name;\r\n\t\tuser.id = data.id;\r\n\t}\r\n\r\n\tconst handleChange = (event, newValue) => {\r\n\t\tsetValue(newValue);\r\n\t};\r\n\r\n\tif (user.id !== \"\") {\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t{/* <div style={{ display: 'flex' }}> */}\r\n\t\t\t\t<AppBar position=\"static\" style={{ width: \"100%\" }}>\r\n\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\taria-label=\"simple tabs example\">\r\n\t\t\t\t\t\t<Tab label=\"Playlist Tools\" {...a11yProps(0)} />\r\n\t\t\t\t\t\t<Tab label=\"Utilities\" {...a11yProps(1)} />\r\n\t\t\t\t\t</Tabs>\r\n\t\t\t\t</AppBar>\r\n\t\t\t\t{/* </div> */}\r\n\t\t\t\t<TabPanel value={value} index={0} style={{ height: \"100%\" }}>\r\n\t\t\t\t\t<PlaylistAlbumsPage token={token} />\r\n\t\t\t\t</TabPanel>\r\n\t\t\t\t<TabPanel value={value} index={1}>\r\n\t\t\t\t\tItem Two\r\n\t\t\t\t</TabPanel>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tif (error) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<p>\r\n\t\t\t\t\tIf you're seeing this, click this button, then refresh the\r\n\t\t\t\t\tpage.\r\n\t\t\t\t</p>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tlocalStorage.setItem(\"token\", \"\");\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\tClear Token\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<p>Loading...</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(Main);\r\n","import React, { Component } from \"react\";\r\nimport { authEndpoint, clientId, redirectUri, scopes } from \"./config\";\r\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport hash from \"./hash\";\r\nimport Main from \"./components/Main\";\r\nimport logo from \"./logo.svg\";\r\nimport \"./App.css\";\r\nimport { user } from \"./store\";\r\n\r\nconst LSTheme = createMuiTheme({\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t\tmain: \"#0a5e54\",\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tmain: \"#ede8e5\",\r\n\t\t},\r\n\t},\r\n});\r\n\r\nclass App extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\ttoken: null,\r\n\t\t\titem: {\r\n\t\t\t\talbum: {\r\n\t\t\t\t\timages: [{ url: \"\" }],\r\n\t\t\t\t},\r\n\t\t\t\tname: \"\",\r\n\t\t\t\tartists: [{ name: \"\" }],\r\n\t\t\t\tduration_ms: 0,\r\n\t\t\t},\r\n\t\t\tis_playing: \"Paused\",\r\n\t\t\tprogress_ms: 0,\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\t// Set token\r\n\t\tlet _token = hash.access_token || localStorage.getItem(\"token\");\r\n\r\n\t\tif (_token) {\r\n\t\t\t// Set token\r\n\t\t\tthis.setState({\r\n\t\t\t\ttoken: _token,\r\n\t\t\t});\r\n\t\t\tlocalStorage.setItem(\"token\", _token);\r\n\t\t\tuser.token = _token;\r\n\t\t\t// this.getCurrentlyPlaying(_token);\r\n\t\t}\r\n\t}\r\n\r\n\tclearLocalStorage() {\r\n\t\tlocalStorage.setItem(\"token\", \"\");\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<ThemeProvider theme={LSTheme}>\r\n\t\t\t\t<header>\r\n\t\t\t\t\t<div className=\"App\">\r\n\t\t\t\t\t\t<div className=\"bg\">\r\n\t\t\t\t\t\t\t{!this.state.token && (\r\n\t\t\t\t\t\t\t\t<div className=\"App-header\">\r\n\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"h1\"\r\n\t\t\t\t\t\t\t\t\t\tcomponent=\"h1\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\ttextShadow:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"0px 5px 10px rgba(0,0,0,0.9)\",\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\tLittle Conductor\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn--loginApp-link\"\r\n\t\t\t\t\t\t\t\t\t\thref={`${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\r\n\t\t\t\t\t\t\t\t\t\t\t\"%20\"\r\n\t\t\t\t\t\t\t\t\t\t)}&response_type=token&show_dialog=true`}>\r\n\t\t\t\t\t\t\t\t\t\tLogin to Spotify\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.token && <Main token={this.state.token} />}\r\n\t\t\t\t</header>\r\n\t\t\t</ThemeProvider>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}