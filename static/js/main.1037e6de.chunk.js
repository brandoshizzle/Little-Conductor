(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{355:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},362:function(e,t,a){e.exports=a(483)},367:function(e,t,a){},482:function(e,t,a){},483:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),s=a.n(c),o=(a(367),a(212)),i=a(213),l=a(236),u=a(237),m=a(36),f=["user-read-email","playlist-modify-public","playlist-modify-private"],p=window.location.hash.substring(1).split("&").reduce(function(e,t){if(t){var a=t.split("=");e[a[0]]=decodeURIComponent(a[1])}return e},{});window.location.hash="";var d=p,b=a(75),g=a(358),h=a(291),y=a(327),v=a(332),k=a(320),O=a(250),j=a(314),x=a(357),E=a(60),w=a(359),A=a(49),P=localStorage.getItem("user")?Object(E.a)(JSON.parse(localStorage.getItem("user"))):Object(E.a)({name:"",id:"",token:"",allPlaylists:{},selectedAlbums:[],allAlbums:{},selectedPlaylists:[],progress:{done:0,total:0,percent:0},errors:[]});function C(){var e=[];for(var t in P.allPlaylists){var a=Object(w.a)({},P.allPlaylists[t]);e.push(a)}return e}Object(A.c)(function(){localStorage.setItem("user",JSON.stringify(P))}),window.user=P;var R=a(193),S=a(321),N=a(25),I=a.n(N),B=a(63),L=a(254),z=a(256),T=a(294),_=a(293),D=a(333),G=a(54),J=a.n(G),U=Object(h.a)(function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},list:{position:"relative",overflow:"auto",maxHeight:"65vh"}}}),W=Object(E.b)(function(e){var t=U(),a=e.token;Object(n.useEffect)(function(){function e(){return(e=Object(B.a)(I.a.mark(function e(){var t,n,r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.get(t||"https://api.spotify.com/v1/artists/4SCWiQbJCMTHK737aNUqBJ/albums?offset=0&limit=50&market=CA",{headers:{Authorization:"Bearer "+a}});case 2:for(n=e.sent,console.log(P),r=0;r<n.data.items.length;r++)P.allAlbums[n.data.items[r].id]=n.data.items[r];t=n.data.next;case 6:if(t){e.next=0;break}case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]);return r.a.createElement("div",{className:t.root},r.a.createElement(L.a,{className:t.list,component:"nav","aria-label":"main mailbox folders"},P.allAlbums&&Object.values(P.allAlbums).map(function(e,t){var a=new Date(e.release_date);return r.a.createElement(z.a,{button:!0,selected:P.selectedAlbums.indexOf(e.id)>-1,onClick:function(t){return function(e,t){if(P.selectedAlbums.indexOf(t)>-1){var a=P.selectedAlbums.filter(function(e){return e!==t});P.selectedAlbums=a}else P.selectedAlbums=P.selectedAlbums.concat(t)}(0,e.id)},key:e.id},r.a.createElement(_.a,null,r.a.createElement(D.a,{variant:"square",src:e.images[1].url})),r.a.createElement(T.a,{primary:e.name,secondary:a.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}))})))}),H=a(336),q=a.n(H),F=a(342),M=a.n(F),K=a(352),Q=a.n(K),V=a(343),X=a.n(V),Y=a(350),Z=a.n(Y),$=a(281),ee=a.n($),te=a(280),ae=a.n(te),ne=a(344),re=a.n(ne),ce=a(345),se=a.n(ce),oe=a(347),ie=a.n(oe),le=a(348),ue=a.n(le),me=a(349),fe=a.n(me),pe=a(353),de=a.n(pe),be=a(346),ge=a.n(be),he=a(351),ye=a.n(he),ve=a(354),ke=a.n(ve),Oe={Add:Object(n.forwardRef)(function(e,t){return r.a.createElement(M.a,Object.assign({},e,{ref:t}))}),Check:Object(n.forwardRef)(function(e,t){return r.a.createElement(X.a,Object.assign({},e,{ref:t}))}),Clear:Object(n.forwardRef)(function(e,t){return r.a.createElement(ae.a,Object.assign({},e,{ref:t}))}),Delete:Object(n.forwardRef)(function(e,t){return r.a.createElement(re.a,Object.assign({},e,{ref:t}))}),DetailPanel:Object(n.forwardRef)(function(e,t){return r.a.createElement(ee.a,Object.assign({},e,{ref:t}))}),Edit:Object(n.forwardRef)(function(e,t){return r.a.createElement(se.a,Object.assign({},e,{ref:t}))}),Export:Object(n.forwardRef)(function(e,t){return r.a.createElement(ge.a,Object.assign({},e,{ref:t}))}),Filter:Object(n.forwardRef)(function(e,t){return r.a.createElement(ie.a,Object.assign({},e,{ref:t}))}),FirstPage:Object(n.forwardRef)(function(e,t){return r.a.createElement(ue.a,Object.assign({},e,{ref:t}))}),LastPage:Object(n.forwardRef)(function(e,t){return r.a.createElement(fe.a,Object.assign({},e,{ref:t}))}),NextPage:Object(n.forwardRef)(function(e,t){return r.a.createElement(ee.a,Object.assign({},e,{ref:t}))}),PreviousPage:Object(n.forwardRef)(function(e,t){return r.a.createElement(Z.a,Object.assign({},e,{ref:t}))}),ResetSearch:Object(n.forwardRef)(function(e,t){return r.a.createElement(ae.a,Object.assign({},e,{ref:t}))}),Search:Object(n.forwardRef)(function(e,t){return r.a.createElement(ye.a,Object.assign({},e,{ref:t}))}),SortArrow:Object(n.forwardRef)(function(e,t){return r.a.createElement(Q.a,Object.assign({},e,{ref:t}))}),ThirdStateCheck:Object(n.forwardRef)(function(e,t){return r.a.createElement(de.a,Object.assign({},e,{ref:t}))}),ViewColumn:Object(n.forwardRef)(function(e,t){return r.a.createElement(ke.a,Object.assign({},e,{ref:t}))})},je=Object(E.b)(function(e){var t=e.token;function a(e,t){return c.apply(this,arguments)}function c(){return(c=Object(B.a)(I.a.mark(function e(a,n){var r,c,s,o,i,l,u,m;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c=[],s={},o={},i="";case 4:return e.next=6,J.a.get(r||"https://api.spotify.com/v1/playlists/".concat(a,"/tracks?fields="),{headers:{Authorization:"Bearer "+t}});case 6:l=e.sent,console.log(l),c=c.concat(l.data.items),r=l.data.next;case 10:if(r){e.next=4;break}case 11:for(u in c)m=c[u].track,s[u]={place:u,id:m.id,album:m.album.name},o.hasOwnProperty(m.album.name)?o[m.album.name].trackCount+=1:(o[m.album.name]={name:m.album.name,trackCount:0},i+=", "+m.album.name);return i=i.substring(2),e.abrupt("return",[s,o,i]);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function s(e){return o.apply(this,arguments)}function o(){return(o=Object(B.a)(I.a.mark(function e(t){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object(n.useEffect)(function(){function e(){return(e=Object(B.a)(I.a.mark(function e(){var t,n,r,c,o,i,l,u,m,f,p,d,g;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.get(t||"https://api.spotify.com/v1/me/playlists?limit=50",{headers:{Authorization:"Bearer "+P.token}});case 2:for(c in n=e.sent,console.log(n),r=n.data.items)(o=r[c]).owner.id===P.id&&(P.allPlaylists.hasOwnProperty(o.id)||(P.allPlaylists[o.id]={id:o.id,name:o.name,url:o.external_urls.spotify,tracks_endpoint:o.tracks.href,description:decodeURIComponent(o.description),tracks:{},albumList:"Loading...",albums:{}}));t=n.data.next;case 7:if(t){e.next=0;break}case 8:i=-300,e.t0=I.a.keys(P.allPlaylists);case 11:if((e.t1=e.t0()).done){e.next=29;break}if(l=e.t1.value,"Loading..."!==(u=P.allPlaylists[l]).albumList){e.next=27;break}return e.next=17,s(i);case 17:return e.next=19,a(u.id);case 19:m=e.sent,f=Object(b.a)(m,3),p=f[0],d=f[1],g=f[2],P.allPlaylists[u.id].tracks=p,P.allPlaylists[u.id].albums=d,P.allPlaylists[u.id].albumList=g;case 27:e.next=11;break;case 29:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]);var i=function(e){return new Promise(function(t){return setTimeout(t,e)})};return r.a.createElement("div",{style:{maxWidth:"100%"}},r.a.createElement(q.a,{columns:[{title:"Name",field:"name",width:250},{title:"Description",field:"description",width:300},{title:"Albums",field:"albumList"}],data:C(),icons:Oe,options:{showTitle:!1,selection:!0,pageSize:20,maxBodyHeight:"52vh",draggable:!1},onSelectionChange:function(e){return P.selectedPlaylists=e}}))}),xe=300;function Ee(e){return we.apply(this,arguments)}function we(){return(we=Object(B.a)(I.a.mark(function e(t){var a,n,r,c,s,o,i,l,u;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Go time!"),Ne(),a=[],n=0,r=[],c=0;case 6:if(!(c<P.selectedAlbums.length)){e.next=16;break}return e.next=9,J.a.get("https://api.spotify.com/v1/albums/".concat(P.selectedAlbums[c],"/tracks"),{headers:{Authorization:"Bearer "+P.token}});case 9:for(s=e.sent,a=a.concat(s.data),console.log(a),o=0;o<a[c].total;o++)r.push(a[c].items[o].uri);case 13:c++,e.next=6;break;case 16:i=0;case 17:if(!(i<P.selectedPlaylists.length)){e.next=37;break}return l=P.selectedPlaylists[i],u="start"===t?{uris:r,position:0}:{uris:r},e.prev=21,e.next=24,J.a.post("https://api.spotify.com/v1/playlists/".concat(l.id,"/tracks"),u,{headers:{Authorization:"Bearer "+P.token,"Content-Type":"application/json"}});case 24:e.sent,e.next=30;break;case 27:e.prev=27,e.t0=e.catch(21),console.log(e.t0);case 30:return Ie(),n+=xe,e.next=34,Be(n);case 34:i++,e.next=17;break;case 37:Ae(),Ne();case 39:case"end":return e.stop()}},e,null,[[21,27]])}))).apply(this,arguments)}function Ae(){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(B.a)(I.a.mark(function e(){var t,a,n,r,c,s,o,i;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Ne(),t=0,a=0;case 3:if(!(a<P.selectedPlaylists.length)){e.next=22;break}return n=P.selectedPlaylists[a].id,e.next=7,Re(n);case 7:return r=e.sent,c=Object(b.a)(r,3),s=c[0],o=c[1],i=c[2],P.allPlaylists[n].tracks=s,P.allPlaylists[n].albums=o,P.allPlaylists[n].albumList=i,Ie(),t+=xe,e.next=19,Be(t);case 19:a++,e.next=3;break;case 22:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ce(){return(Ce=Object(B.a)(I.a.mark(function e(t){var a,n,r,c;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Go time!"),Ne(),a=0,n=0;case 4:if(!(n<P.selectedPlaylists.length)){e.next=24;break}return r=P.selectedPlaylists[n],c={description:t},e.prev=7,e.next=10,J.a.put("https://api.spotify.com/v1/playlists/".concat(r.id,"/"),c,{headers:{Authorization:"Bearer "+P.token,"Content-Type":"application/json"}});case 10:200===e.sent.status&&(P.allPlaylists[r.id].description=t),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),console.log(e.t0);case 17:return Ie(),a+=xe,e.next=21,Be(a);case 21:n++,e.next=4;break;case 24:Ne();case 25:case"end":return e.stop()}},e,null,[[7,14]])}))).apply(this,arguments)}function Re(e){return Se.apply(this,arguments)}function Se(){return(Se=Object(B.a)(I.a.mark(function e(t){var a,n,r,c,s,o,i,l;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r={},c={},s="";case 4:return e.next=6,J.a.get(a||"https://api.spotify.com/v1/playlists/".concat(t,"/tracks?fields="),{headers:{Authorization:"Bearer "+P.token}});case 6:o=e.sent,console.log(o),n=n.concat(o.data.items),a=o.data.next;case 10:if(a){e.next=4;break}case 11:for(i in n)l=n[i].track,r[i]={place:i,id:l.id,album:l.album.name},c.hasOwnProperty(l.album.name)?c[l.album.name].trackCount+=1:(c[l.album.name]={name:l.album.name,trackCount:0},s+=", "+l.album.name);return s=s.substring(2),e.abrupt("return",[r,c,s]);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ne(){P.progress.done=0,P.progress.total=P.selectedPlaylists.length,P.progress.percent=0}function Ie(){P.progress.done++,P.progress.percent=P.progress.done/P.progress.total*100}function Be(e){return Le.apply(this,arguments)}function Le(){return(Le=Object(B.a)(I.a.mark(function e(t){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze(t);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ze=function(e){return new Promise(function(t){return setTimeout(t,e)})},Te=a(328),_e=a(313),De=a(120),Ge=Object(h.a)(function(e){return{bg:{background:e.palette.background.paper},root:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start"},item:{margin:5},progressBox:{width:"100%",display:"flex",alignItems:"center"},progress:{flexGrow:"1"}}}),Je=Object(E.b)(function(e){var t=Ge(),a=Object(n.useState)(""),c=Object(b.a)(a,2),s=c[0],o=c[1];return r.a.createElement("div",null,r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.progressBox},r.a.createElement(De.a,{variant:"body1"},"Current Task"),r.a.createElement(Te.a,{variant:"determinate",value:P.progress.percent,color:"secondary",className:t.progress})),r.a.createElement(j.a,{variant:"contained",color:"primary",className:t.item,onClick:function(){Ee("start")}},"Add to start"),r.a.createElement(j.a,{variant:"contained",color:"primary",className:t.item,onClick:function(){Ee("end")}},"Add to end"),r.a.createElement(j.a,{variant:"contained",color:"primary",className:t.item},"Add to start and push last album"),r.a.createElement(j.a,{variant:"contained",color:"primary",className:t.item,onClick:function(){localStorage.setItem("token","")}},"Clear Token"),r.a.createElement(j.a,{variant:"contained",color:"primary",className:t.item,onClick:function(){localStorage.removeItem("user")}},"Reload all playlists")),r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement(_e.a,{id:"new-description",label:"Description",onChange:function(e){o(e.target.value)},style:{width:"60%"}}),r.a.createElement(j.a,{variant:"contained",color:"primary",className:t.item,onClick:function(){!function(e){Ce.apply(this,arguments)}(s)}},"Replace description")))}),Ue=a(334),We=Object(h.a)(function(e){return{root:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:0},chip:{margin:e.spacing(.5)}}}),He=Object(E.b)(function(){var e=We();return r.a.createElement(R.a,{component:"ul",className:e.root},P.selectedAlbums.map(function(t,a){var n;return r.a.createElement("li",{key:a},r.a.createElement(Ue.a,{icon:void 0,label:P.allAlbums[t].name,onDelete:(n=t,function(){P.selectedAlbums=P.selectedAlbums.filter(function(e){return e!==n})}),className:e.chip}))}))}),qe=Object(h.a)(function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"left",color:e.palette.text.secondary}}}),Fe=function(e){var t=e.token,a=qe();return r.a.createElement("div",{className:a.root},r.a.createElement(S.a,{container:!0,spacing:3},r.a.createElement(S.a,{item:!0,xs:3},r.a.createElement(R.a,{className:a.paper},r.a.createElement(W,{token:t}),r.a.createElement(He,null))),r.a.createElement(S.a,{item:!0,xs:9},r.a.createElement(je,{token:t})),r.a.createElement(S.a,{item:!0,xs:12},r.a.createElement(Je,{token:t}))))};function Me(e){var t=e.children,a=e.value,n=e.index,c=Object(g.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},c),a===n&&r.a.createElement(O.a,{p:3},t))}function Ke(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var Qe=Object(h.a)(function(e){return{root:{flexGrow:1}}}),Ve=Object(E.b)(function(e){var t=Qe(),a=e.token,c=Object(n.useState)(0),s=Object(b.a)(c,2),o=s[0],i=s[1],l=Object(x.a)({url:"https://api.spotify.com/v1/me",method:"GET",headers:{Authorization:"Bearer "+a}}),u=Object(b.a)(l,2),m=u[0],f=m.data,p=(m.loading,m.error);u[1];f&&(console.log(f),P.name=f.display_name,P.id=f.id);return""!==P.id?r.a.createElement("div",{className:t.root},r.a.createElement(y.a,{position:"static"},r.a.createElement(v.a,{value:o,onChange:function(e,t){i(t)},"aria-label":"simple tabs example"},r.a.createElement(k.a,Object.assign({label:"Playlist Albums"},Ke(0))),r.a.createElement(k.a,Object.assign({label:"Nothing... for now"},Ke(1))))),r.a.createElement(Me,{value:o,index:0},r.a.createElement(Fe,{token:a})),r.a.createElement(Me,{value:o,index:1},"Item Two")):p?r.a.createElement("div",null,r.a.createElement(j.a,{variant:"contained",color:"primary",onClick:function(){localStorage.setItem("token","")}},"Clear Token")):r.a.createElement("div",null,r.a.createElement("p",null,"Loading..."))}),Xe=a(355),Ye=a.n(Xe);a(482);function Ze(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var $e=function(e){Object(l.a)(a,e);var t=Ze(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={token:null,item:{album:{images:[{url:""}]},name:"",artists:[{name:""}],duration_ms:0},is_playing:"Paused",progress_ms:0},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=d.access_token||localStorage.getItem("token");e&&(this.setState({token:e}),localStorage.setItem("token",e),P.token=e)}},{key:"clearLocalStorage",value:function(){localStorage.setItem("token","")}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,!this.state.token&&r.a.createElement("div",{className:"App-header"},r.a.createElement("img",{src:Ye.a,className:"App-logo",alt:"logo"}),r.a.createElement("a",{className:"btn btn--loginApp-link",href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("149f235f7ad941419d900b585b05d9e3","&redirect_uri=").concat("https://brandoshizzle.github.io/Little-Conductor/","&scope=").concat(f.join("%20"),"&response_type=token&show_dialog=true")},"Login to Spotify")),this.state.token&&r.a.createElement(Ve,{token:this.state.token})))}}]),a}(n.Component);s.a.render(r.a.createElement($e,null),document.getElementById("root"))}},[[362,1,2]]]);
//# sourceMappingURL=main.1037e6de.chunk.js.map