{"version":3,"sources":["logo.svg","config.js","hash.js","store.js","components/AlbumList.js","api.js","components/PlaylistTable.js","components/ActionButtons.js","components/AlbumChips.js","components/PlaylistAlbumsPage.js","components/Logger.js","components/Main.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","scopes","hash","window","location","substring","split","reduce","initial","item","parts","decodeURIComponent","defaultUser","name","id","token","allPlaylists","filteredPlaylists","selectedAlbums","allAlbums","selectedPlaylists","progress","done","total","percent","log","newLine","color","textColor","user","logArray","unshift","text","start","normal","end","errors","store","localStorage","getItem","merge","JSON","parse","playlistArray","test","playlist","newObj","Object","objectSpread","push","observe","setItem","stringify","useStyles","makeStyles","theme","root","width","backgroundColor","palette","background","paper","list","position","overflow","maxHeight","view","props","classes","useEffect","_loadAlbums","asyncToGenerator","regenerator_default","a","mark","_callee","nextLink","res","i","wrap","_context","prev","next","axios","get","headers","Authorization","sent","console","data","items","length","concat","values","stop","apply","this","arguments","loadAlbums","react_default","createElement","className","List","component","aria-label","map","album","rDate","Date","release_date","ListItem","button","selected","indexOf","onClick","event","newSelectedAlbums","filter","handleListItemClick","key","ListItemAvatar","Avatar","variant","src","images","url","ListItemText","primary","secondary","toLocaleDateString","year","month","day","APIdelay","addAlbums","_x","_addAlbums","side","albumDetails","delayms","trackURIs","cha","j","resetProgress","uri","uris","post","Content-Type","t0","updateProgress","delay","updateLocalPlaylistTracks","_updateLocalPlaylistTracks","_callee2","_yield$getPlaylistTra","_yield$getPlaylistTra2","newTracks","newAlbums","albumList","_context2","getPlaylistTracksAndAlbums","slicedToArray","tracks","albums","_callee3","description","_context3","put","status","_x3","_getPlaylistTracksAndAlbums","_callee4","album_id","APItracks","hasLSAlbum","track","_context4","place","hasOwnProperty","entries","undefined","abrupt","_callee6","ms","_context6","timeout","Promise","setTimeout","tableIcons","Add","forwardRef","ref","AddBox_default","assign","Check","Check_default","Clear","Clear_default","Delete","DeleteOutline_default","DetailPanel","ChevronRight_default","Edit","Edit_default","Export","SaveAlt_default","Filter","FilterList_default","FirstPage","FirstPage_default","LastPage","LastPage_default","NextPage","PreviousPage","ChevronLeft_default","ResetSearch","Search","Search_default","SortArrow","ArrowDownward_default","ThirdStateCheck","Remove_default","ViewColumn","ViewColumn_default","display","justifyContent","flexWrap","listStyle","padding","spacing","margin","chip","_delay","_loadTable","playlistBatch","currentDelay","_i","_playlist","_yield$api$getPlaylis","_yield$api$getPlaylis2","owner","external_urls","spotify","tracks_endpoint","href","keys","t1","value","api","loadTable","style","maxWidth","dist_default","columns","title","field","icons","options","showTitle","selection","pageSize","maxBodyHeight","draggable","onSelectionChange","rows","bg","progressBox","alignItems","flexGrow","_useState","useState","_useState2","desc","setDesc","Typography","LinearProgress","Button","removeItem","textAlign","TextField","label","onChange","e","target","_x2","_replaceDescription","Paper","albumID","index","chipToDelete","Chip","icon","onDelete","PlaylistAlbumsPage","Grid","container","xs","components_AlbumList","components_AlbumChips","components_PlaylistTable","components_ActionButtons","panelHeight","setPanelHeight","_useState3","_useState4","setOverflow","right","top","height","zIndex","transition","overflowY","paddingTop","paddingLeft","logline","IconButton","MenuOpen_default","TabPanel","children","other","objectWithoutProperties","role","hidden","aria-labelledby","Box","a11yProps","aria-controls","setValue","_useAxios","useAxios","method","_useAxios2","_useAxios2$","error","loading","display_name","AppBar","Tabs","newValue","Tab","components_Logger","components_PlaylistAlbumsPage","App","_this","classCallCheck","_super","call","state","artists","duration_ms","is_playing","progress_ms","_token","access_token","setState","logo","alt","join","components_Main","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.8c280394.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";","export const authEndpoint = \"https://accounts.spotify.com/authorize\";\r\n\r\n// Replace with your app's client ID, redirect URI and desired scopes\r\nexport const clientId = \"149f235f7ad941419d900b585b05d9e3\";\r\n// export const redirectUri = 'http://localhost:3000/redirect';\r\nexport const redirectUri = \"https://brandoshizzle.github.io/Little-Conductor/\";\r\nexport const scopes = [\r\n\t\"user-read-email\",\r\n\t\"playlist-modify-public\",\r\n\t\"playlist-modify-private\",\r\n];\r\n","// Get the hash of the url\r\nconst hash = window.location.hash\r\n  .substring(1)\r\n  .split(\"&\")\r\n  .reduce(function(initial, item) {\r\n    if (item) {\r\n      var parts = item.split(\"=\");\r\n      initial[parts[0]] = decodeURIComponent(parts[1]);\r\n    }\r\n    return initial;\r\n  }, {});\r\nwindow.location.hash = \"\";\r\n\r\nexport default hash;\r\n","import { store } from '@risingstack/react-easy-state';\r\nimport { observe } from '@nx-js/observer-util';\r\nimport merge from 'lodash/merge';\r\n\r\nconst defaultUser = {\r\n\tname: '',\r\n\tid: '',\r\n\ttoken: '',\r\n\tallPlaylists: {},\r\n\tfilteredPlaylists: [],\r\n\tselectedAlbums: [],\r\n\tallAlbums: {},\r\n\tselectedPlaylists: [],\r\n\tprogress: {\r\n\t\tdone: 0,\r\n\t\ttotal: 0,\r\n\t\tpercent: 0,\r\n\t},\r\n\tlog: (newLine, color) => {\r\n\t\tconst textColor = color || 'normal';\r\n\t\tconst colors = {\r\n\t\t\tstart: 'green',\r\n\t\t\tnormal: '#ddd',\r\n\t\t\tend: 'red',\r\n\t\t};\r\n\t\tuser.logArray.unshift({ text: newLine, color: colors[textColor] });\r\n\t},\r\n\tlogArray: [],\r\n\terrors: [],\r\n};\r\n\r\nexport const user = store(\r\n\tlocalStorage.getItem('user') != null ? merge(defaultUser, JSON.parse(localStorage.getItem('user'))) : defaultUser\r\n);\r\n\r\nobserve(() => {\r\n\tlocalStorage.setItem('user', JSON.stringify(user));\r\n});\r\n\r\n// observe(() => {\r\n// \tplaylistArray = [];\r\n// \tfor (var playlist in user.allPlaylists) {\r\n// \t\tconst newObj = {\r\n// \t\t\t...user.allPlaylists[playlist],\r\n// \t\t};\r\n// \t\tplaylistArray.push(newObj);\r\n// \t}\r\n// \t// playlistArray = Object.values(user.allPlaylists);\r\n// \tconsole.log(playlistArray);\r\n// });\r\n\r\nexport function playlistArray() {\r\n\tlet test = [];\r\n\tfor (var playlist in user.allPlaylists) {\r\n\t\tconst newObj = {\r\n\t\t\t...user.allPlaylists[playlist],\r\n\t\t};\r\n\t\ttest.push(newObj);\r\n\t}\r\n\t// playlistArray = Object.values(user.allPlaylists);\r\n\t// console.log(test);\r\n\treturn test;\r\n}\r\n\r\nwindow.user = user;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\n// import useAxios from 'axios-hooks';\r\nimport axios from 'axios';\r\nimport { view } from '@risingstack/react-easy-state';\r\nimport { user } from './../store';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t\tbackgroundColor: theme.palette.background.paper,\r\n\t},\r\n\tlist: {\r\n\t\tposition: 'relative',\r\n\t\toverflow: 'auto',\r\n\t\tmaxHeight: '65vh',\r\n\t},\r\n}));\r\n\r\nconst AlbumList = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst { token } = props;\r\n\t// const [selectedAlbums, setSelectedAlbums] = useState([]);\r\n\t// let [albums, setAlbums] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function loadAlbums() {\r\n\t\t\tlet nextLink;\r\n\t\t\tuser.log('Getting LS albums...');\r\n\t\t\tdo {\r\n\t\t\t\tlet res = await axios.get(\r\n\t\t\t\t\tnextLink ||\r\n\t\t\t\t\t\t'https://api.spotify.com/v1/artists/4SCWiQbJCMTHK737aNUqBJ/albums?offset=0&limit=50&market=CA',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\t// console.log(res);\r\n\t\t\t\t// albums = albums.concat(res.data.items);\r\n\t\t\t\tconsole.log(user);\r\n\t\t\t\tfor (var i = 0; i < res.data.items.length; i++) {\r\n\t\t\t\t\tuser.allAlbums[res.data.items[i].id] = res.data.items[i];\r\n\t\t\t\t}\r\n\t\t\t\tnextLink = res.data.next;\r\n\t\t\t} while (nextLink);\r\n\t\t\tuser.log(`Loaded ${Object.values(user.allAlbums).length} albums`);\r\n\t\t}\r\n\t\t// Get all LS albums\r\n\t\tloadAlbums();\r\n\t\tuser.selectedAlbums = [];\r\n\t}, []);\r\n\r\n\tconst handleListItemClick = (event, id) => {\r\n\t\tif (user.selectedAlbums.indexOf(id) > -1) {\r\n\t\t\tconst newSelectedAlbums = user.selectedAlbums.filter((item) => item !== id);\r\n\t\t\tuser.selectedAlbums = newSelectedAlbums;\r\n\t\t} else {\r\n\t\t\tuser.selectedAlbums = user.selectedAlbums.concat(id);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<List className={classes.list} component=\"nav\" aria-label=\"main mailbox folders\">\r\n\t\t\t\t{user.allAlbums &&\r\n\t\t\t\t\tObject.values(user.allAlbums).map((album, i) => {\r\n\t\t\t\t\t\tconst rDate = new Date(album.release_date);\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\tselected={user.selectedAlbums.indexOf(album.id) > -1}\r\n\t\t\t\t\t\t\t\tonClick={(event) => handleListItemClick(event, album.id)}\r\n\t\t\t\t\t\t\t\tkey={album.id}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t\t\t\t\t<Avatar variant=\"square\" src={album.images[1].url}></Avatar>\r\n\t\t\t\t\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tprimary={album.name}\r\n\t\t\t\t\t\t\t\t\tsecondary={rDate.toLocaleDateString('en-US', {\r\n\t\t\t\t\t\t\t\t\t\tyear: 'numeric',\r\n\t\t\t\t\t\t\t\t\t\tmonth: 'long',\r\n\t\t\t\t\t\t\t\t\t\tday: 'numeric',\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t</List>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(AlbumList);\r\n","import { user } from './store';\r\nimport axios from 'axios';\r\n\r\nconst APIdelay = 300;\r\n\r\nexport async function addAlbums(side) {\r\n\tresetProgress();\r\n\tlet albumDetails = [];\r\n\tlet delayms = 0;\r\n\tlet trackURIs = [];\r\n\tuser.log(\r\n\t\t`It's time to add ${user.selectedAlbums.length} albums to the ${side} of ${user.selectedPlaylists.length} playlists`,\r\n\t\t'start'\r\n\t);\r\n\tfor (var i = 0; i < user.selectedAlbums.length; i++) {\r\n\t\t// console.log(user.selectedAlbums);\r\n\t\tlet res = await axios.get(`https://api.spotify.com/v1/albums/${user.selectedAlbums[i]}/tracks`, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: 'Bearer ' + user.token,\r\n\t\t\t},\r\n\t\t});\r\n\t\talbumDetails = albumDetails.concat(res.data);\r\n\t\tuser.log(`Grabbing track info for ${user.allAlbums[user.selectedAlbums[i]].name}`);\r\n\t\t// console.log(albumDetails);\r\n\t\tfor (var cha = 0; cha < albumDetails[i].total; cha++) {\r\n\t\t\ttrackURIs.push(albumDetails[i].items[cha].uri);\r\n\t\t}\r\n\t}\r\n\t// console.log(trackURIs);\r\n\r\n\t// Go through each playlist and add the albums to it\r\n\tfor (var j = 0; j < user.selectedPlaylists.length; j++) {\r\n\t\tconst playlist = user.selectedPlaylists[j];\r\n\t\t// Don't add album if it's already on the playlist\r\n\t\t// console.log(playlist.albumList, user.album.name, playlist.albumList.indexOf(user.album.name));\r\n\t\t// if (playlist.albumList.indexOf(user.album.name) === -1) {\r\n\t\tif (true) {\r\n\t\t\tlet data =\r\n\t\t\t\tside === 'start'\r\n\t\t\t\t\t? {\r\n\t\t\t\t\t\t\turis: trackURIs,\r\n\t\t\t\t\t\t\tposition: 0,\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t: {\r\n\t\t\t\t\t\t\turis: trackURIs,\r\n\t\t\t\t\t  };\r\n\t\t\ttry {\r\n\t\t\t\tawait axios.post(`https://api.spotify.com/v1/playlists/${playlist.id}/tracks`, data, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: 'Bearer ' + user.token,\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\tuser.log(`Successfully plopped ${trackURIs.length} beats onto ${playlist.name}.`);\r\n\t\t\t} catch (err) {\r\n\t\t\t\tuser.log(`Houston, we had an issue with ${playlist.name}...`);\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tupdateProgress();\r\n\t\tdelayms += APIdelay;\r\n\t\tawait delay(delayms);\r\n\t}\r\n\t// Retreive all modified playlists again from spotify to ensure they are up to date.\r\n\tupdateLocalPlaylistTracks();\r\n\tresetProgress();\r\n\tuser.log(`All finished big guy.`, 'end');\r\n}\r\n\r\nexport async function updateLocalPlaylistTracks() {\r\n\t// Loop through all playlists, getting the data\r\n\tresetProgress();\r\n\tlet delayms = 0;\r\n\tfor (var i = 0; i < user.selectedPlaylists.length; i++) {\r\n\t\tconst id = user.selectedPlaylists[i].id;\r\n\t\tconst [newTracks, newAlbums, albumList] = await getPlaylistTracksAndAlbums(id);\r\n\t\tuser.allPlaylists[id].tracks = newTracks;\r\n\t\tuser.allPlaylists[id].albums = newAlbums;\r\n\t\tuser.allPlaylists[id].albumList = albumList;\r\n\t\tupdateProgress();\r\n\t\tdelayms += APIdelay;\r\n\t\tawait delay(delayms);\r\n\t}\r\n}\r\n\r\nexport async function replaceDescription(description) {\r\n\tresetProgress();\r\n\tlet delayms = 0;\r\n\tuser.log(`Description time! Changing the description of ${user.selectedPlaylists.length} playlists.`, 'start');\r\n\t// Go through each playlist and replace the description\r\n\tfor (var j = 0; j < user.selectedPlaylists.length; j++) {\r\n\t\tconst playlist = user.selectedPlaylists[j];\r\n\t\tlet data = { description };\r\n\r\n\t\ttry {\r\n\t\t\tlet res = await axios.put(`https://api.spotify.com/v1/playlists/${playlist.id}/`, data, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: 'Bearer ' + user.token,\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\t// If successful, update local\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tuser.log(`Bam. Description of ${user.selectedPlaylists[j].name} updated.`);\r\n\t\t\t\tuser.allPlaylists[playlist.id].description = description;\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tuser.log(`Uh oh! There was an issue with .`);\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n\r\n\t\tupdateProgress();\r\n\t\tdelayms += APIdelay;\r\n\t\tawait delay(delayms);\r\n\t}\r\n\tresetProgress();\r\n\tuser.log(`We're done here.`, 'end');\r\n}\r\n\r\nexport async function getPlaylistTracksAndAlbums(album_id) {\r\n\tlet nextLink;\r\n\tlet APItracks = [];\r\n\tlet tracks = {};\r\n\tlet albums = [];\r\n\tlet albumList = '';\r\n\tlet hasLSAlbum = false;\r\n\tdo {\r\n\t\tlet res = await axios.get(nextLink || `https://api.spotify.com/v1/playlists/${album_id}/tracks?fields=`, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: 'Bearer ' + user.token,\r\n\t\t\t},\r\n\t\t});\r\n\t\t// console.log(res);\r\n\t\tAPItracks = APItracks.concat(res.data.items);\r\n\t\tnextLink = res.data.next;\r\n\t} while (nextLink);\r\n\r\n\tconsole.log(user.allAlbums);\r\n\tfor (const i in APItracks) {\r\n\t\tconst track = APItracks[i].track;\r\n\t\ttracks[i] = { place: i, id: track.id, album: track.album.name };\r\n\r\n\t\tif (user.allAlbums.hasOwnProperty(track.album.id)) {\r\n\t\t\thasLSAlbum = true;\r\n\t\t}\r\n\r\n\t\tif (albumList.indexOf(track.album.name) === -1) {\r\n\t\t\talbums.push({ id: track.album.id, name: track.album.name });\r\n\t\t\t// albums.push(track.album.name);\r\n\t\t\talbumList += track.album.name + ', ';\r\n\t\t}\r\n\t}\r\n\r\n\tif (!hasLSAlbum && Object.entries(tracks).length > 0) {\r\n\t\ttracks = undefined;\r\n\t}\r\n\r\n\treturn [tracks, albums, albumList.substring(0, albumList.length - 2)];\r\n}\r\n\r\nexport async function getAllUserPlaylists() {\r\n\t// let nextLink;\r\n\t// let newPlaylistsFromAPI = [];\r\n\t// do {\r\n\t// \tlet res = await axios.get(nextLink || `https://api.spotify.com/v1/me/playlists?limit=50`, {\r\n\t// \t\theaders: {\r\n\t// \t\t\tAuthorization: 'Bearer ' + token,\r\n\t// \t\t},\r\n\t// \t});\r\n\t// \tconsole.log(res);\r\n\t// \tlet playlistBatch = res.data.items;\r\n\t// \tfor (const i in playlistBatch) {\r\n\t// \t\tlet playlist = playlistBatch[i];\r\n\t// \t\tif (playlist.owner.id === user.id) {\r\n\t// \t\t\tlet dupe = playlists.find((element) => element.id === playlist.id);\r\n\t// \t\t\tif (dupe === undefined) {\r\n\t// \t\t\t\tnewPlaylistsFromAPI.push({\r\n\t// \t\t\t\t\tid: playlist.id,\r\n\t// \t\t\t\t\tname: playlist.name,\r\n\t// \t\t\t\t\turl: playlist.external_urls.spotify,\r\n\t// \t\t\t\t\ttracks_endpoint: playlist.tracks.href,\r\n\t// \t\t\t\t\ttracks: {},\r\n\t// \t\t\t\t\talbumList: 'Loading...',\r\n\t// \t\t\t\t\talbums: {},\r\n\t// \t\t\t\t});\r\n\t// \t\t\t}\r\n\t// \t\t}\r\n\t// \t}\r\n\t// \tnextLink = res.data.next;\r\n\t// } while (nextLink);\r\n\t// const newList = [...playlists].concat(newPlaylistsFromAPI);\r\n\t// setPlaylists(newList);\r\n\t// localStorage.setItem('user-playlists', JSON.stringify(newList));\r\n\t// const delayIncrement = 300;\r\n\t// let currentDelay = -delayIncrement;\r\n\t// for (const i in playlists) {\r\n\t// \tlet playlist = playlists[i];\r\n\t// \tif (playlist.albumList === 'Loading...') {\r\n\t// \t\tconst [newTracks, newAlbums, newAlbumList] = await getTracksAndAlbums(playlist.id, currentDelay);\r\n\t// \t\tconsole.log(newTracks, newAlbums, newAlbumList);\r\n\t// \t\tlet playlistsCopy = [...playlists];\r\n\t// \t\tplaylistsCopy[i].tracks = newTracks;\r\n\t// \t\tplaylistsCopy[i].albums = newAlbums;\r\n\t// \t\tplaylistsCopy[i].albumList = newAlbumList;\r\n\t// \t\tsetPlaylists(playlistsCopy);\r\n\t// \t\tlocalStorage.setItem('user-playlists', JSON.stringify(playlistsCopy));\r\n\t// \t}\r\n\t// }\r\n}\r\n\r\nfunction resetProgress() {\r\n\tuser.progress.done = 0;\r\n\tuser.progress.total = user.selectedPlaylists.length;\r\n\tuser.progress.percent = 0;\r\n}\r\nfunction updateProgress() {\r\n\tuser.progress.done++;\r\n\tuser.progress.percent = (user.progress.done / user.progress.total) * 100;\r\n}\r\n\r\nasync function delay(ms) {\r\n\tawait timeout(ms);\r\n}\r\n\r\nconst timeout = (ms) => new Promise((res) => setTimeout(res, ms));\r\n","import React, { forwardRef, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport MaterialTable from 'material-table';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport axios from 'axios';\r\nimport { ReactSortable } from 'react-sortablejs';\r\n\r\nimport * as api from './../api';\r\n\r\nimport { view } from '@risingstack/react-easy-state';\r\nimport { playlistArray, user } from './../store';\r\n\r\nimport AddBox from '@material-ui/icons/AddBox';\r\nimport ArrowDownward from '@material-ui/icons/ArrowDownward';\r\nimport Check from '@material-ui/icons/Check';\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRight from '@material-ui/icons/ChevronRight';\r\nimport Clear from '@material-ui/icons/Clear';\r\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\r\nimport Edit from '@material-ui/icons/Edit';\r\nimport FilterList from '@material-ui/icons/FilterList';\r\nimport FirstPage from '@material-ui/icons/FirstPage';\r\nimport LastPage from '@material-ui/icons/LastPage';\r\nimport Remove from '@material-ui/icons/Remove';\r\nimport SaveAlt from '@material-ui/icons/SaveAlt';\r\nimport Search from '@material-ui/icons/Search';\r\nimport ViewColumn from '@material-ui/icons/ViewColumn';\r\n\r\nconst tableIcons = {\r\n\tAdd: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n\tCheck: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n\tClear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tDelete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n\tDetailPanel: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n\tEdit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n\tExport: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n\tFilter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n\tFirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n\tLastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n\tNextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n\tPreviousPage: forwardRef((props, ref) => <ChevronLeft {...props} ref={ref} />),\r\n\tResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tSearch: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n\tSortArrow: forwardRef((props, ref) => <ArrowDownward {...props} ref={ref} />),\r\n\tThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\r\n\tViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t\tjustifyContent: 'center',\r\n\t\tflexWrap: 'wrap',\r\n\t\tlistStyle: 'none',\r\n\t\tpadding: theme.spacing(0.5),\r\n\t\tmargin: 0,\r\n\t},\r\n\tchip: {\r\n\t\tmargin: theme.spacing(0.5),\r\n\t},\r\n}));\r\n\r\nconst PlaylistTable = (props) => {\r\n\tconst classes = useStyles();\r\n\r\n\t// Get data from storage or API on launch\r\n\tuseEffect(() => {\r\n\t\tasync function loadTable() {\r\n\t\t\tlet nextLink;\r\n\t\t\tuser.log(`Fetching all of ${user.name}'s playlists`);\r\n\t\t\tdo {\r\n\t\t\t\tlet res = await axios.get(nextLink || `https://api.spotify.com/v1/me/playlists?limit=50`, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: 'Bearer ' + user.token,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\t// console.log(res);\r\n\t\t\t\tlet playlistBatch = res.data.items;\r\n\t\t\t\tuser.log(`Retrieved ${res.data.items.length} playlists`);\r\n\t\t\t\tfor (const i in playlistBatch) {\r\n\t\t\t\t\tlet playlist = playlistBatch[i];\r\n\t\t\t\t\tif (playlist.owner.id === user.id) {\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t!user.allPlaylists.hasOwnProperty(playlist.id) &&\r\n\t\t\t\t\t\t\tuser.filteredPlaylists.indexOf(playlist.id) === -1\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\tuser.allPlaylists[playlist.id] = {\r\n\t\t\t\t\t\t\t\tid: playlist.id,\r\n\t\t\t\t\t\t\t\tname: playlist.name,\r\n\t\t\t\t\t\t\t\turl: playlist.external_urls.spotify,\r\n\t\t\t\t\t\t\t\ttracks_endpoint: playlist.tracks.href,\r\n\t\t\t\t\t\t\t\tdescription: decodeURIComponent(playlist.description),\r\n\t\t\t\t\t\t\t\ttracks: {},\r\n\t\t\t\t\t\t\t\talbumList: 'Loading...',\r\n\t\t\t\t\t\t\t\talbums: [],\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tnextLink = res.data.next;\r\n\t\t\t} while (nextLink);\r\n\r\n\t\t\tconst delayIncrement = 300;\r\n\t\t\tlet currentDelay = -delayIncrement;\r\n\t\t\tfor (const i in user.allPlaylists) {\r\n\t\t\t\tlet playlist = user.allPlaylists[i];\r\n\t\t\t\tif (playlist.albumList === 'Loading...') {\r\n\t\t\t\t\tawait delay(currentDelay);\r\n\t\t\t\t\tconst [newTracks, newAlbums, albumList] = await api.getPlaylistTracksAndAlbums(playlist.id);\r\n\t\t\t\t\t// console.log(newTracks, newAlbums, newAlbumList);\r\n\t\t\t\t\tif (newTracks) {\r\n\t\t\t\t\t\tuser.allPlaylists[playlist.id].tracks = newTracks;\r\n\t\t\t\t\t\tuser.allPlaylists[playlist.id].albums = newAlbums;\r\n\t\t\t\t\t\tuser.allPlaylists[playlist.id].albumList = albumList;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuser.log(`${playlist.name} was not relaxing enough.`);\r\n\t\t\t\t\t\tuser.filteredPlaylists.push(playlist.id);\r\n\t\t\t\t\t\tdelete user.allPlaylists[playlist.id];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// currentDelay += delayIncrement;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Get all user's playlists first, then determine if we need additional API calls\r\n\t\tloadTable();\r\n\t}, []);\r\n\r\n\tasync function delay(ms) {\r\n\t\tawait timeout(ms);\r\n\t}\r\n\r\n\tconst timeout = (ms) => new Promise((res) => setTimeout(res, ms));\r\n\r\n\tfunction handleDelete(name) {\r\n\t\t// Remove album from playlist\r\n\t\tconsole.log(name);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div style={{ maxWidth: '100%' }}>\r\n\t\t\t<MaterialTable\r\n\t\t\t\tcolumns={[\r\n\t\t\t\t\t{ title: 'Name', field: 'name', width: 250 },\r\n\t\t\t\t\t{ title: 'Description', field: 'description', width: 300 },\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: 'Albums',\r\n\t\t\t\t\t\tfield: 'albumList',\r\n\t\t\t\t\t},\r\n\t\t\t\t]}\r\n\t\t\t\tdata={playlistArray()}\r\n\t\t\t\ticons={tableIcons}\r\n\t\t\t\toptions={{\r\n\t\t\t\t\tshowTitle: false,\r\n\t\t\t\t\tselection: true,\r\n\t\t\t\t\t// paging: false,\r\n\t\t\t\t\tpageSize: 20,\r\n\t\t\t\t\tmaxBodyHeight: '52vh',\r\n\t\t\t\t\tdraggable: false,\r\n\t\t\t\t\t// actionsColumnIndex: -1,\r\n\t\t\t\t}}\r\n\t\t\t\tonSelectionChange={(rows) => (user.selectedPlaylists = rows)}\r\n\t\t\t\t// onRowClick={(event, rowData, togglePanel) => togglePanel()}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(PlaylistTable);\r\n","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport * as api from './../api';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport { view } from '@risingstack/react-easy-state';\r\nimport { user } from './../store';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tbg: {\r\n\t\tbackground: theme.palette.background.paper,\r\n\t},\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t\tflexWrap: 'wrap',\r\n\t\tjustifyContent: 'flex-start',\r\n\t},\r\n\titem: {\r\n\t\tmargin: 5,\r\n\t},\r\n\tprogressBox: {\r\n\t\twidth: '100%',\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t},\r\n\tprogress: {\r\n\t\tflexGrow: '1',\r\n\t},\r\n}));\r\n\r\nconst ActionButtons = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst [desc, setDesc] = useState('');\r\n\r\n\tfunction descChange(e) {\r\n\t\tsetDesc(e.target.value);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<div className={classes.progressBox}>\r\n\t\t\t\t\t<Typography variant=\"body1\">Current Task</Typography>\r\n\t\t\t\t\t<LinearProgress\r\n\t\t\t\t\t\tvariant=\"determinate\"\r\n\t\t\t\t\t\tvalue={user.progress.percent}\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tclassName={classes.progress}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tapi.addAlbums('start');\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tAdd to start\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tapi.addAlbums('end');\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tAdd to end\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button variant=\"contained\" color=\"primary\" className={classes.item}>\r\n\t\t\t\t\tAdd to start and push last album\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tlocalStorage.setItem('token', '');\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tClear Token\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tlocalStorage.removeItem('user');\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tReload all playlists\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<div style={{ textAlign: 'left' }}>\r\n\t\t\t\t<TextField id=\"new-description\" label=\"Description\" onChange={descChange} style={{ width: '60%' }} />\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tapi.replaceDescription(desc);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tReplace description\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(ActionButtons);\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport { view } from '@risingstack/react-easy-state';\r\nimport { user } from './../store';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t\tjustifyContent: 'center',\r\n\t\tflexWrap: 'wrap',\r\n\t\tlistStyle: 'none',\r\n\t\tpadding: theme.spacing(0.5),\r\n\t\tmargin: 0,\r\n\t},\r\n\tchip: {\r\n\t\tmargin: theme.spacing(0.5),\r\n\t},\r\n}));\r\n\r\nconst AlbumChips = () => {\r\n\tconst classes = useStyles();\r\n\tconst handleDelete = (chipToDelete) => () => {\r\n\t\tuser.selectedAlbums = user.selectedAlbums.filter((chip) => chip !== chipToDelete);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Paper component=\"ul\" className={classes.root}>\r\n\t\t\t{user.selectedAlbums.map((albumID, index) => {\r\n\t\t\t\tlet icon;\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<li key={index}>\r\n\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\ticon={icon}\r\n\t\t\t\t\t\t\tlabel={user.allAlbums[albumID].name}\r\n\t\t\t\t\t\t\tonDelete={handleDelete(albumID)}\r\n\t\t\t\t\t\t\tclassName={classes.chip}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</Paper>\r\n\t);\r\n};\r\n\r\nexport default view(AlbumChips);\r\n","import React, { useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport AlbumList from './AlbumList';\r\nimport PlaylistTable from './PlaylistTable';\r\nimport ActionButtons from './ActionButtons';\r\nimport AlbumChips from './AlbumChips';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t},\r\n\tpaper: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\ttextAlign: 'left',\r\n\t\tcolor: theme.palette.text.secondary,\r\n\t},\r\n}));\r\n\r\nconst PlaylistAlbumsPage = (props) => {\r\n\tconst { token } = props;\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t<Grid item xs={3}>\r\n\t\t\t\t\t{/* <Typography component=\"h5\">Albums</Typography> */}\r\n\t\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t\t<AlbumList token={token} />\r\n\t\t\t\t\t\t<AlbumChips />\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={9}>\r\n\t\t\t\t\t{/* <Typography component=\"h5\">Playlists</Typography> */}\r\n\t\t\t\t\t<PlaylistTable token={token} />\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<ActionButtons token={token} />\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PlaylistAlbumsPage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/MenuOpen';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport { view } from '@risingstack/react-easy-state';\r\nimport { user } from './../store';\r\n\r\nconst Logger = (props) => {\r\n\tconst [panelHeight, setPanelHeight] = useState(48);\r\n\tconst [overflow, setOverflow] = useState('hidden');\r\n\r\n\tfunction expand() {\r\n\t\tsetPanelHeight(panelHeight === 48 ? '80vh' : 48);\r\n\t\tsetOverflow(overflow === 'hidden' ? 'scroll' : 'hidden');\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tuser.logArray = [];\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\tright: 0,\r\n\t\t\t\ttop: 0,\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\talignItems: 'flex-start',\r\n\t\t\t\tjustifyContent: 'flex-end',\r\n\t\t\t\twidth: '50%',\r\n\t\t\t\theight: panelHeight,\r\n\t\t\t\tbackground: 'black',\r\n\t\t\t\tzIndex: 1000,\r\n\t\t\t\ttransition: '0.5s',\r\n\t\t\t\toverflowY: overflow,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div style={{ color: '#ddd', flexGrow: 1, paddingTop: 15, textAlign: 'left', paddingLeft: 12 }}>\r\n\t\t\t\t{user.logArray.map((logline, index) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tcomponent=\"p\"\r\n\t\t\t\t\t\t\tvariant=\"body2\"\r\n\t\t\t\t\t\t\tid=\"last-log\"\r\n\t\t\t\t\t\t\tstyle={{ display: 'block', color: logline.color }}\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{logline.text}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t\t<IconButton\r\n\t\t\t\taria-label=\"delete\"\r\n\t\t\t\tstyle={{ color: 'white' }}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\texpand();\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<MenuIcon />\r\n\t\t\t</IconButton>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(Logger);\r\n","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Box from '@material-ui/core/Box';\r\nimport Button from '@material-ui/core/Button';\r\nimport useAxios from 'axios-hooks';\r\n\r\nimport { view } from '@risingstack/react-easy-state';\r\nimport { user } from './../store';\r\n\r\nimport PlaylistAlbumsPage from './PlaylistAlbumsPage';\r\nimport Logger from './Logger';\r\n\r\nfunction TabPanel(props) {\r\n\tconst { children, value, index, ...other } = props;\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\trole=\"tabpanel\"\r\n\t\t\thidden={value !== index}\r\n\t\t\tid={`simple-tabpanel-${index}`}\r\n\t\t\taria-labelledby={`simple-tab-${index}`}\r\n\t\t\t{...other}\r\n\t\t>\r\n\t\t\t{value === index && <Box p={3}>{children}</Box>}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction a11yProps(index) {\r\n\treturn {\r\n\t\tid: `simple-tab-${index}`,\r\n\t\t'aria-controls': `simple-tabpanel-${index}`,\r\n\t};\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t\t// backgroundColor: theme.palette.background.paper,\r\n\t},\r\n}));\r\n\r\nconst Main = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst { token } = props;\r\n\tconst [value, setValue] = useState(0);\r\n\r\n\tconst [{ data, loading, error }, refetch] = useAxios({\r\n\t\turl: 'https://api.spotify.com/v1/me',\r\n\t\tmethod: 'GET',\r\n\t\theaders: {\r\n\t\t\tAuthorization: 'Bearer ' + token,\r\n\t\t},\r\n\t});\r\n\r\n\tif (data) {\r\n\t\tconsole.log(data);\r\n\t\tuser.name = data.display_name;\r\n\t\tuser.id = data.id;\r\n\t}\r\n\r\n\tconst handleChange = (event, newValue) => {\r\n\t\tsetValue(newValue);\r\n\t};\r\n\r\n\tif (user.id !== '') {\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t{/* <div style={{ display: 'flex' }}> */}\r\n\t\t\t\t<AppBar position=\"static\" style={{ width: '50%' }}>\r\n\t\t\t\t\t<Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\">\r\n\t\t\t\t\t\t<Tab label=\"Playlist Albums\" {...a11yProps(0)} />\r\n\t\t\t\t\t\t<Tab label=\"Nothing... for now\" {...a11yProps(1)} />\r\n\t\t\t\t\t</Tabs>\r\n\t\t\t\t</AppBar>\r\n\t\t\t\t<Logger />\r\n\t\t\t\t{/* </div> */}\r\n\t\t\t\t<TabPanel value={value} index={0}>\r\n\t\t\t\t\t<PlaylistAlbumsPage token={token} />\r\n\t\t\t\t</TabPanel>\r\n\t\t\t\t<TabPanel value={value} index={1}>\r\n\t\t\t\t\tItem Two\r\n\t\t\t\t</TabPanel>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tif (error) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<p>If you're seeing this, click this button, then refresh the page.</p>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tlocalStorage.setItem('token', '');\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tClear Token\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<p>Loading...</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(Main);\r\n","import React, { Component } from 'react';\r\nimport { authEndpoint, clientId, redirectUri, scopes } from './config';\r\nimport hash from './hash';\r\nimport Main from './components/Main';\r\nimport logo from './logo.svg';\r\nimport './App.css';\r\nimport { user } from './store';\r\n\r\nclass App extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\ttoken: null,\r\n\t\t\titem: {\r\n\t\t\t\talbum: {\r\n\t\t\t\t\timages: [{ url: '' }],\r\n\t\t\t\t},\r\n\t\t\t\tname: '',\r\n\t\t\t\tartists: [{ name: '' }],\r\n\t\t\t\tduration_ms: 0,\r\n\t\t\t},\r\n\t\t\tis_playing: 'Paused',\r\n\t\t\tprogress_ms: 0,\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\t// Set token\r\n\t\tlet _token = hash.access_token || localStorage.getItem('token');\r\n\r\n\t\tif (_token) {\r\n\t\t\t// Set token\r\n\t\t\tthis.setState({\r\n\t\t\t\ttoken: _token,\r\n\t\t\t});\r\n\t\t\tlocalStorage.setItem('token', _token);\r\n\t\t\tuser.token = _token;\r\n\t\t\t// this.getCurrentlyPlaying(_token);\r\n\t\t}\r\n\t}\r\n\r\n\tclearLocalStorage() {\r\n\t\tlocalStorage.setItem('token', '');\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"App\">\r\n\t\t\t\t<header>\r\n\t\t\t\t\t{!this.state.token && (\r\n\t\t\t\t\t\t<div className=\"App-header\">\r\n\t\t\t\t\t\t\t<img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn--loginApp-link\"\r\n\t\t\t\t\t\t\t\thref={`${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\r\n\t\t\t\t\t\t\t\t\t'%20'\r\n\t\t\t\t\t\t\t\t)}&response_type=token&show_dialog=true`}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tLogin to Spotify\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{this.state.token && <Main token={this.state.token} />}\r\n\t\t\t\t</header>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}