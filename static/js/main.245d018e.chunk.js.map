{"version":3,"sources":["img/spotify-square.png","logo.svg","config.js","hash.js","store.js","api/utilities.js","components/AlbumList.js","api/api.js","components/RearrangeAlbums.js","components/PlaylistTable.js","components/HelpDialog.js","components/ActionButtons.js","components/AlbumChips.js","components/Logger.js","components/PlaylistAlbumsPage.js","components/LSRPage.js","components/UtilitiesPage.js","components/Main.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","scopes","hash","window","location","substring","split","reduce","initial","item","parts","decodeURIComponent","defaultUser","name","id","token","tokenms","allPlaylists","filteredPlaylists","selectedAlbums","allAlbums","selectedPlaylists","progress","done","total","percent","log","newLine","color","textColor","logline","user","logArray","push","text","start","normal","end","error","logEl","document","getElementById","scrollTop","scrollHeight","errors","store","localStorage","getItem","merge","JSON","parse","observe","setItem","stringify","getAlbumTracksFromSpotify","_x","_getAlbumTracksFromSpotify","apply","this","arguments","_callee","albumId","res","trackData","i","s","regenerator_default","a","wrap","_context","prev","next","axios","get","concat","headers","Authorization","sent","status","data","items","length","duration","duration_ms","trackNumber","track_number","uri","abrupt","stop","_callee2","nextLink","albums","album","trackInfo","_context2","hasOwnProperty","Object","objectSpread","tracks","values","spotifyHeader","Content-Type","getPlaylistFromSpotify","_x2","_getPlaylistFromSpotify","_callee3","listOfTracks","hasLSAlbum","playlistData","trackBatch","_iterator","_step","track","trackAddedDate","_context3","url","external_urls","spotify","tracks_endpoint","href","description","albumsString","lastUpdated","Date","_createForOfIteratorHelper","n","value","artists","t0","e","f","finish","undefined","place","added_at","Math","max","indexOf","slice","useStyles","makeStyles","theme","root","width","backgroundColor","palette","background","paper","paddingLeft","list","position","overflow","maxHeight","filter","obj","predicate","keys","key","view","props","classes","useEffect","_getUserAlbumsFromSpotify","getUserAlbumsFromSpotify","handleListItemClick","event","newSelectedAlbums","react_default","createElement","className","List","component","aria-label","Typography","variant","album_type","map","rDate","release_date","ListItem","button","selected","onClick","style","paddingBottom","paddingTop","ListItemAvatar","Avatar","src","images","ListItemText","primary","secondary","toLocaleDateString","year","month","day","APIdelay","playlistBatch","_loop","console","mark","playlist","newFiltered","owner","findIndex","delay","splice","t1","delegateYield","addSelectedAlbumsToSelectedPlaylist","_addSelectedAlbumsToSelectedPlaylist","side","replaceArg","replace","albumDetails","delayms","trackURIs","newAlbumsString","addedTime","newAlbumsList","newTracksList","userMessage","t","numTracks","_loop2","j","tc","k","_context4","playlistId","playlistIndex","firstAlbum","trackURI","apiURL","newPlaylistData","uris","shift","unshift","pop","put","post","cloneDeep","arrayConcat","now","toString","updateProgress","_loop3","_context6","resetProgress","_context5","_callee4","_loop4","_context8","URIsToSend","_context7","_callee5","listString","listArray","idArray","_context9","questionmarkIndex","getFollowerCounts","_x5","_getFollowerCounts","_callee6","resultsArray","_context10","followers","join","_callee7","d","_context11","display_name","_callee8","ms","_context12","timeout","arr1","arr2","forEach","Promise","setTimeout","title","fontSize","pos","marginBottom","modal","display","justifyContent","alignItems","_useState","useState","_useState2","slicedToArray","setAlbums","albumsInfo","SpotifySquare","onSave","_ref","asyncToGenerator","oldSelection","oldPlaylistSelection","newSelection","api","close","Modal","open","onClose","aria-labelledby","aria-describedby","Card","CardContent","gutterBottom","overflowY","index_es","setList","animation","CardActions","float","Button","tableWidth","setTableWidth","_useState3","_useState4","sortedAllPlaylists","setSortedAllPlaylists","_useState5","_useState6","rows","setRows","_useState7","_useState8","editAlbumsOpen","setEditAlbumsOpen","_useState9","_useState10","rearrangePlaylistSelection","setRearrangePlaylistSelection","w","innerWidth","addEventListener","_loadTable","search","newPlaylists","playlistInfo","toLowerCase","nameFormatter","_ref3","Tooltip","placement","columns","sortable","resizable","formatter","h","m","parseInt","floor","_ref2","days","word","react_data_grid_default","rowGetter","rowsCount","minHeight","minWidth","rowSelection","showCheckbox","enableShiftSelect","onRowsSelected","newSelected","row","onRowsDeselected","selectBy","rowKey","onGridSort","sortColumn","sortDirection","initialRows","toConsumableArray","sort","b","sortRows","getCellActions","column","icon","Edit_default","callback","RearrangeAlbums","margin","marginRight","AlertDialog","Dialog","DialogTitle","DialogContent","size","clear","bg","flexWrap","progressBox","flexGrow","desc","setDesc","helpOpen","setHelpOpen","LinearProgress","flexBasis","textAlign","placeholder","onChange","target","padding","type","_x3","_replaceDescription","_refreshPlaylists","HelpDialog","listStyle","spacing","chip","Paper","albumID","index","Chip","chipToDelete","avatar","right","top","height","zIndex","transition","borderRadius","PlaylistAlbumsPage","setSearch","left","components_AlbumList","components_AlbumChips","components_ActionButtons","sidebarWidth","TextField","label","components_PlaylistTable","components_Logger","flexDirection","LSRPage","_React$useState","React","_React$useState2","playlistList","setPlaylistList","noValidate","autoComplete","multiline","defaultValue","marginTop","_x6","_getPlaypastingData","UtilitiesAlbumPage","followList","setFollowList","_React$useState3","_React$useState4","statsToGetList","setStatsToGetList","_React$useState5","_React$useState6","resultsListString","setResultsListString","_getFollowers","results","_x4","_followPlaylists","getFollowers","TabPanel","children","other","objectWithoutProperties","assign","role","hidden","Box","a11yProps","aria-controls","setValue","tokenTimeout","setTokenTimout","tokenTimeoutInterval","setInterval","_useAxios","useAxios","method","_useAxios2$","loading","AppBar","Tabs","newValue","Tab","ceil","components_PlaylistAlbumsPage","components_LSRPage","UtilitiesPage","LSTheme","createMuiTheme","main","App","_this","classCallCheck","_super","call","state","is_playing","progress_ms","_token","access_token","setState","ThemeProvider","textShadow","components_Main","Component","ReactDOM","render","src_App_0"],"mappings":"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","file":"static/js/main.245d018e.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";","export const authEndpoint = \"https://accounts.spotify.com/authorize\";\r\n\r\n// Replace with your app's client ID, redirect URI and desired scopes\r\nexport const clientId = \"149f235f7ad941419d900b585b05d9e3\";\r\nexport const redirectUri = \"http://localhost:3000/redirect\";\r\n// export const redirectUri = \"https://brandoshizzle.github.io/Little-Conductor/\";\r\nexport const scopes = [\r\n\t\"user-read-email\",\r\n\t\"playlist-modify-public\",\r\n\t\"playlist-modify-private\",\r\n];\r\n","// Get the hash of the url\r\nconst hash = window.location.hash\r\n  .substring(1)\r\n  .split(\"&\")\r\n  .reduce(function(initial, item) {\r\n    if (item) {\r\n      var parts = item.split(\"=\");\r\n      initial[parts[0]] = decodeURIComponent(parts[1]);\r\n    }\r\n    return initial;\r\n  }, {});\r\nwindow.location.hash = \"\";\r\n\r\nexport default hash;\r\n","import { store } from \"@risingstack/react-easy-state\";\r\nimport { observe } from \"@nx-js/observer-util\";\r\nimport merge from \"lodash/merge\";\r\n\r\nconst defaultUser = {\r\n\tname: \"\",\r\n\tid: \"\",\r\n\ttoken: \"\",\r\n\ttokenms: 0,\r\n\tallPlaylists: [],\r\n\tfilteredPlaylists: [],\r\n\tselectedAlbums: [],\r\n\tallAlbums: {},\r\n\tselectedPlaylists: [],\r\n\tprogress: {\r\n\t\tdone: 0,\r\n\t\ttotal: 0,\r\n\t\tpercent: 0,\r\n\t},\r\n\tlog: (newLine, color) => {\r\n\t\tconst textColor = color || \"normal\";\r\n\t\tconst colors = {\r\n\t\t\tstart: \"cornflowerblue\",\r\n\t\t\tnormal: \"#ddd\",\r\n\t\t\tend: \"lightgreen\",\r\n\t\t\terror: \"red\",\r\n\t\t};\r\n\t\tconst logline = \"> \" + newLine;\r\n\t\tuser.logArray.push({ text: logline, color: colors[textColor] });\r\n\t\tvar logEl = document.getElementById(\"logger\");\r\n\t\tlogEl.scrollTop = logEl.scrollHeight + 50;\r\n\t},\r\n\tlogArray: [],\r\n\terrors: [],\r\n};\r\n\r\nexport function addPlaylist(playlistData) {\r\n\tuser.allPlaylists.push({\r\n\t\tid: playlistData.id,\r\n\t\tname: playlistData.name,\r\n\t\turl: playlistData.external_urls.spotify,\r\n\t\ttracks_endpoint: playlistData.tracks.href,\r\n\t\tdescription: decodeURIComponent(playlistData.description),\r\n\t\ttracks: playlistData.tracks,\r\n\t\talbumsString: playlistData.albumsString,\r\n\t\talbums: playlistData.albums,\r\n\t\tlastUpdated: playlistData.lastUpdated,\r\n\t\tduration: playlistData.duration,\r\n\t});\r\n}\r\n\r\nexport const user = store(\r\n\tlocalStorage.getItem(\"user\") != null\r\n\t\t? merge(defaultUser, JSON.parse(localStorage.getItem(\"user\")))\r\n\t\t: defaultUser\r\n);\r\n\r\nobserve(() => {\r\n\tlocalStorage.setItem(\"user\", JSON.stringify(user));\r\n});\r\n\r\nwindow.user = user;\r\n","import { user, addPlaylist } from \"../store\";\r\nimport axios from \"axios\";\r\n\r\n// Get information from album on Spotify\r\nexport async function getAlbumTracksFromSpotify(albumId) {\r\n\t// Make request\r\n\tlet res = await axios.get(\r\n\t\t`https://api.spotify.com/v1/albums/${albumId}/tracks?limit=50`,\r\n\t\t{\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: \"Bearer \" + user.token,\r\n\t\t\t},\r\n\t\t}\r\n\t);\r\n\tif (res.status === 200) {\r\n\t\t// We're all good, pick and choose data to include\r\n\t\tlet trackData = [];\r\n\t\tfor (var i = 0; i < res.data.items.length; i++) {\r\n\t\t\tconst s = res.data.items[i];\r\n\t\t\ttrackData[i] = {\r\n\t\t\t\tduration: s.duration_ms,\r\n\t\t\t\tid: s.id,\r\n\t\t\t\ttrackNumber: s.track_number,\r\n\t\t\t\tname: s.name,\r\n\t\t\t\turi: s.uri,\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn trackData;\r\n\t} else {\r\n\t\t// Error, set message and send empty response\r\n\t\tuser.log(`Error in getting album id ${albumId}: ${res.error}`);\r\n\t}\r\n}\r\n\r\n// Gets all LS albums from Spotify\r\n// If we already have detailed data, don't call it again\r\n// If we don't, get detailed data from Spotify and add it\r\nexport async function getUserAlbumsFromSpotify() {\r\n\tlet nextLink;\r\n\tuser.log(\"Getting LS albums...\");\r\n\tdo {\r\n\t\tlet res = await axios.get(\r\n\t\t\tnextLink ||\r\n\t\t\t\t\"https://api.spotify.com/v1/artists/4SCWiQbJCMTHK737aNUqBJ/albums?offset=0&limit=50&market=CA\",\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: \"Bearer \" + user.token,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t);\r\n\t\tconst albums = res.data.items;\r\n\t\t// We have all the albums.\r\n\t\t// Get track data for those who are new\r\n\t\tfor (var i = 0; i < albums.length; i++) {\r\n\t\t\tlet album = albums[i];\r\n\t\t\tif (!user.allAlbums.hasOwnProperty(album.id)) {\r\n\t\t\t\tconst trackInfo = await getAlbumTracksFromSpotify(album.id);\r\n\t\t\t\talbum = {\r\n\t\t\t\t\t...album,\r\n\t\t\t\t\ttracks: trackInfo,\r\n\t\t\t\t};\r\n\t\t\t\tuser.allAlbums[album.id] = album;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tnextLink = res.data.next;\r\n\t} while (nextLink);\r\n\r\n\tuser.log(`Loaded ${Object.values(user.allAlbums).length} albums`);\r\n}\r\n\r\nexport function spotifyHeader() {\r\n\treturn {\r\n\t\tAuthorization: \"Bearer \" + user.token,\r\n\t\t\"Content-Type\": \"application/json\",\r\n\t};\r\n}\r\n\r\nexport async function getPlaylistFromSpotify(id) {\r\n\tlet nextLink;\r\n\tlet listOfTracks = [];\r\n\tlet hasLSAlbum = false;\r\n\tlet playlistData;\r\n\r\n\t// Grab playlist from Spotify\r\n\tlet res = await axios.get(\r\n\t\tnextLink || `https://api.spotify.com/v1/playlists/${id}`,\r\n\t\t{\r\n\t\t\theaders: spotifyHeader(),\r\n\t\t}\r\n\t);\r\n\r\n\tif (res.status === 200) {\r\n\t\t// Set all the basic info\r\n\t\tconst p = res.data;\r\n\t\tplaylistData = {\r\n\t\t\tid: p.id,\r\n\t\t\tname: p.name,\r\n\t\t\turl: p.external_urls.spotify,\r\n\t\t\ttracks_endpoint: p.tracks.href,\r\n\t\t\tdescription: decodeURIComponent(p.description),\r\n\t\t\ttracks: [],\r\n\t\t\talbums: [],\r\n\t\t\talbumsString: \"\",\r\n\t\t\tlastUpdated: Date.parse(\"1980-01-01T12:00:00Z\"),\r\n\t\t\tduration: 0,\r\n\t\t};\r\n\r\n\t\t// Get all tracks on the playlist\r\n\t\tdo {\r\n\t\t\tlet data = res.data.tracks ? res.data.tracks : res.data;\r\n\t\t\tlet trackBatch = data.items;\r\n\t\t\tlistOfTracks = listOfTracks.concat(trackBatch);\r\n\t\t\t// Check if at least one track has LS album on it\r\n\t\t\tfor (const trackData of trackBatch) {\r\n\t\t\t\tif (trackData.track.artists[0].name === \"Little Symphony\") {\r\n\t\t\t\t\thasLSAlbum = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tnextLink = data.next;\r\n\t\t\t// If there's more, get the next batch\r\n\t\t\tif (nextLink) {\r\n\t\t\t\tres = await axios.get(nextLink, {\r\n\t\t\t\t\theaders: spotifyHeader(),\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} while (nextLink && hasLSAlbum);\r\n\r\n\t\t// No LS releases and more than 0 tracks? Send back default data\r\n\t\tif (!hasLSAlbum && listOfTracks.length > 0) {\r\n\t\t\tplaylistData.tracks = undefined;\r\n\t\t\treturn playlistData;\r\n\t\t}\r\n\r\n\t\t// Loop through tracks to get info\r\n\t\tfor (const i in listOfTracks) {\r\n\t\t\tconst track = listOfTracks[i].track;\r\n\t\t\t// Push relevant info to playlistData\r\n\t\t\tplaylistData.tracks.push({\r\n\t\t\t\tplace: i,\r\n\t\t\t\tid: track.id,\r\n\t\t\t\turi: track.uri,\r\n\t\t\t\tduration: track.duration_ms,\r\n\t\t\t\talbum: track.album.name,\r\n\t\t\t});\r\n\r\n\t\t\tplaylistData.duration += track.duration_ms;\r\n\t\t\tconst trackAddedDate = Date.parse(listOfTracks[i].added_at);\r\n\r\n\t\t\t// Updated lastUpdated if trackAddedDate is later\r\n\t\t\tplaylistData.lastUpdated = Math.max.apply(null, [\r\n\t\t\t\ttrackAddedDate,\r\n\t\t\t\tplaylistData.lastUpdated,\r\n\t\t\t]);\r\n\r\n\t\t\t// If this is the first track of a new album on the playlist, add it to the lists\r\n\t\t\tif (playlistData.albumsString.indexOf(track.album.name) === -1) {\r\n\t\t\t\tplaylistData.albums.push({\r\n\t\t\t\t\tid: track.album.id,\r\n\t\t\t\t\tname: track.album.name,\r\n\t\t\t\t});\r\n\t\t\t\tplaylistData.albumsString += track.album.name + \", \";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Remove comma/space from album list\r\n\t\tplaylistData.albumsString = playlistData.albumsString.slice(0, -2);\r\n\r\n\t\treturn playlistData;\r\n\t}\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n// import useAxios from 'axios-hooks';\r\nimport axios from \"axios\";\r\nimport { view } from \"@risingstack/react-easy-state\";\r\nimport { user } from \"./../store\";\r\nimport { getUserAlbumsFromSpotify } from \"../api/utilities\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\twidth: \"100%\",\r\n\t\tbackgroundColor: theme.palette.background.paper,\r\n\t\tpaddingLeft: 10,\r\n\t},\r\n\tlist: {\r\n\t\tposition: \"relative\",\r\n\t\toverflow: \"auto\",\r\n\t\tmaxHeight: \"50vh\",\r\n\t},\r\n}));\r\n\r\nObject.filter = (obj, predicate) =>\r\n\tObject.keys(obj)\r\n\t\t.filter((key) => predicate(obj[key]))\r\n\t\t.reduce((res, key) => ((res[key] = obj[key]), res), {});\r\n\r\nconst AlbumList = (props) => {\r\n\tconst classes = useStyles();\r\n\r\n\tuseEffect(() => {\r\n\t\t// Get all LS albums\r\n\t\tgetUserAlbumsFromSpotify();\r\n\t\tuser.selectedAlbums = [];\r\n\t}, []);\r\n\r\n\tconst handleListItemClick = (event, id) => {\r\n\t\tif (user.selectedAlbums.indexOf(id) > -1) {\r\n\t\t\tconst newSelectedAlbums = user.selectedAlbums.filter(\r\n\t\t\t\t(item) => item !== id\r\n\t\t\t);\r\n\t\t\tuser.selectedAlbums = newSelectedAlbums;\r\n\t\t} else {\r\n\t\t\tuser.selectedAlbums = user.selectedAlbums.concat(id);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<List\r\n\t\t\t\tclassName={classes.list}\r\n\t\t\t\tcomponent=\"nav\"\r\n\t\t\t\taria-label=\"main mailbox folders\">\r\n\t\t\t\t<Typography variant=\"body1\">Releases</Typography>\r\n\t\t\t\t{user.allAlbums &&\r\n\t\t\t\t\tObject.values(\r\n\t\t\t\t\t\tObject.filter(\r\n\t\t\t\t\t\t\tuser.allAlbums,\r\n\t\t\t\t\t\t\t(album) => album.album_type === \"album\"\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t).map((album, i) => {\r\n\t\t\t\t\t\tconst rDate = new Date(album.release_date);\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\tselected={\r\n\t\t\t\t\t\t\t\t\tuser.selectedAlbums.indexOf(album.id) > -1\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tonClick={(event) =>\r\n\t\t\t\t\t\t\t\t\thandleListItemClick(event, album.id)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tkey={album.id}\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tpaddingLeft: 0,\r\n\t\t\t\t\t\t\t\t\tpaddingBottom: 0,\r\n\t\t\t\t\t\t\t\t\tpaddingTop: 0,\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"square\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={album.images[1].url}></Avatar>\r\n\t\t\t\t\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tprimary={album.name}\r\n\t\t\t\t\t\t\t\t\tsecondary={rDate.toLocaleDateString(\r\n\t\t\t\t\t\t\t\t\t\t\"en-US\",\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tyear: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t\tmonth: \"long\",\r\n\t\t\t\t\t\t\t\t\t\t\tday: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t<Typography variant=\"body1\">Singles</Typography>\r\n\t\t\t\t{user.allAlbums &&\r\n\t\t\t\t\tObject.values(\r\n\t\t\t\t\t\tObject.filter(\r\n\t\t\t\t\t\t\tuser.allAlbums,\r\n\t\t\t\t\t\t\t(album) => album.album_type === \"single\"\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t).map((album, i) => {\r\n\t\t\t\t\t\tconst rDate = new Date(album.release_date);\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\tselected={\r\n\t\t\t\t\t\t\t\t\tuser.selectedAlbums.indexOf(album.id) > -1\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tonClick={(event) =>\r\n\t\t\t\t\t\t\t\t\thandleListItemClick(event, album.id)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tkey={album.id}\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tpaddingLeft: 0,\r\n\t\t\t\t\t\t\t\t\tpaddingBottom: 0,\r\n\t\t\t\t\t\t\t\t\tpaddingTop: 0,\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"square\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={album.images[1].url}></Avatar>\r\n\t\t\t\t\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tprimary={album.name}\r\n\t\t\t\t\t\t\t\t\tsecondary={rDate.toLocaleDateString(\r\n\t\t\t\t\t\t\t\t\t\t\"en-US\",\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tyear: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t\tmonth: \"long\",\r\n\t\t\t\t\t\t\t\t\t\t\tday: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t</List>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(AlbumList);\r\n","import { user, addPlaylist } from \"../store\";\r\nimport axios from \"axios\";\r\nimport cloneDeep from \"lodash/cloneDeep\";\r\nimport {\r\n\tgetPlaylistFromSpotify,\r\n\tgetAlbumTracksFromSpotify,\r\n\tspotifyHeader,\r\n} from \"./utilities\";\r\n\r\nconst APIdelay = 300;\r\n\r\nexport async function loadTable() {\r\n\tlet nextLink;\r\n\tuser.log(`Fetching all of ${user.name}'s playlists`);\r\n\tlet res;\r\n\t// Loop until we get all playlists\r\n\tdo {\r\n\t\t// Get 50 playlists from spotify\r\n\t\tres = await axios.get(\r\n\t\t\tnextLink || `https://api.spotify.com/v1/me/playlists?limit=50`,\r\n\t\t\t{\r\n\t\t\t\theaders: spotifyHeader(),\r\n\t\t\t}\r\n\t\t);\r\n\t\t// Make sure the response is good\r\n\t\tif (res.status !== 200) {\r\n\t\t\tconsole.log(res);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tlet playlistBatch = res.data.items;\r\n\t\tuser.log(`Retrieved ${res.data.items.length} playlists`);\r\n\r\n\t\t// Loop through playlists in that batch\r\n\t\tfor (const i in playlistBatch) {\r\n\t\t\tlet playlist = playlistBatch[i];\r\n\t\t\t// Only get playlists that are owned by the logged in user\r\n\t\t\tif (playlist.owner.id === user.id) {\r\n\t\t\t\t// If we already have the playlist in our list for some reason, don't add it\r\n\t\t\t\tif (\r\n\t\t\t\t\tuser.allPlaylists.findIndex((p) => p.id === playlist.id) ===\r\n\t\t\t\t\t\t-1 &&\r\n\t\t\t\t\tuser.filteredPlaylists.indexOf(playlist.id) === -1\r\n\t\t\t\t) {\r\n\t\t\t\t\t// Get track and album details\r\n\t\t\t\t\tawait delay(APIdelay);\r\n\t\t\t\t\tplaylist = await getPlaylistFromSpotify(playlist.id);\r\n\r\n\t\t\t\t\tif (playlist.tracks !== undefined) {\r\n\t\t\t\t\t\t// Add it to the store\r\n\t\t\t\t\t\tconsole.log(playlist);\r\n\t\t\t\t\t\tuser.allPlaylists.push(playlist);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuser.log(`${playlist.name} was not relaxing enough.`);\r\n\t\t\t\t\t\tconst newFiltered = user.filteredPlaylists.splice();\r\n\t\t\t\t\t\tnewFiltered.push(playlist.id);\r\n\t\t\t\t\t\tuser.filteredPlaylists = newFiltered;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// If there's an API link for more, get more\r\n\t\tnextLink = res.data.next;\r\n\t} while (nextLink);\r\n}\r\n\r\n// async function getPlaylistTracks(playlist) {\r\n// \tlet nextLink;\r\n// \tlet APItracks = [];\r\n// \tlet hasLSAlbum = false;\r\n\r\n// \tconst newData = {\r\n// \t\ttracks: [],\r\n// \t\talbums: [],\r\n// \t\talbumsString: \"\",\r\n// \t\tlastUpdated: Date.parse(\"1980-01-01T12:00:00Z\"),\r\n// \t\tduration: 0,\r\n// \t};\r\n\r\n// \t// Get all tracks on the playlist\r\n// \tdo {\r\n// \t\tlet res = await axios.get(\r\n// \t\t\tnextLink ||\r\n// \t\t\t\t`https://api.spotify.com/v1/playlists/${playlist.id}/tracks?fields=`,\r\n// \t\t\t{\r\n// \t\t\t\theaders: {\r\n// \t\t\t\t\tAuthorization: \"Bearer \" + user.token,\r\n// \t\t\t\t},\r\n// \t\t\t}\r\n// \t\t);\r\n// \t\t// console.log(res);\r\n// \t\tAPItracks = APItracks.concat(res.data.items);\r\n// \t\tfor (const trackData of res.data.items) {\r\n// \t\t\tif (trackData.track.artists[0].name === \"Little Symphony\") {\r\n// \t\t\t\thasLSAlbum = true;\r\n// \t\t\t\tbreak;\r\n// \t\t\t}\r\n// \t\t}\r\n// \t\tnextLink = res.data.next;\r\n// \t} while (nextLink && hasLSAlbum);\r\n\r\n// \tif (!hasLSAlbum) {\r\n// \t\tplaylist.tracks = undefined;\r\n// \t\treturn playlist;\r\n// \t}\r\n\r\n// \tfor (const i in APItracks) {\r\n// \t\tconst track = APItracks[i].track;\r\n// \t\tnewData.tracks.push({\r\n// \t\t\tplace: i,\r\n// \t\t\tid: track.id,\r\n// \t\t\tlength: track.duration_ms,\r\n// \t\t\talbum: track.album.name,\r\n// \t\t});\r\n\r\n// \t\tnewData.duration += track.duration_ms;\r\n// \t\tconst trackAddedDate = Date.parse(APItracks[i].added_at);\r\n\r\n// \t\t// Updated lastUpdated if trackAddedDate is later\r\n// \t\tif (trackAddedDate > newData.lastUpdated) {\r\n// \t\t\tnewData.lastUpdated = trackAddedDate;\r\n// \t\t}\r\n\r\n// \t\tif (newData.albumsString.indexOf(track.album.name) === -1) {\r\n// \t\t\tnewData.albums.push({ id: track.album.id, name: track.album.name });\r\n// \t\t\tnewData.albumsString += track.album.name + \", \";\r\n// \t\t}\r\n// \t}\r\n\r\n// \tif (!hasLSAlbum && Object.entries(newData.tracks).length > 0) {\r\n// \t\tnewData.tracks = undefined;\r\n// \t}\r\n\r\n// \t// Remove comma/space from album list\r\n// \tnewData.albumsString = newData.albumsString.substring(\r\n// \t\t0,\r\n// \t\tnewData.albumsString.length - 2\r\n// \t);\r\n// \tplaylist = {\r\n// \t\t...playlist,\r\n// \t\t...newData,\r\n// \t};\r\n\r\n// \treturn playlist;\r\n// }\r\n\r\nexport async function addSelectedAlbumsToSelectedPlaylist(side, replaceArg) {\r\n\tconst replace = replaceArg === \"replace\" ? true : false;\r\n\tlet albumDetails = [];\r\n\tlet delayms = 0;\r\n\tlet trackURIs = [];\r\n\tlet newAlbumsString = \"\";\r\n\tlet addedTime = 0;\r\n\tlet newAlbumsList = [];\r\n\tlet newTracksList = [];\r\n\r\n\t// Tell the user what's up\r\n\tlet userMessage = \"\";\r\n\tif (replace) {\r\n\t\tside = \"end\";\r\n\t\tuserMessage = `Replacing ${user.selectedPlaylists.length} playlists with ${user.selectedAlbums.length} selected albums.`;\r\n\t} else {\r\n\t\tuserMessage = `Adding ${user.selectedAlbums.length} albums to the ${side} of ${user.selectedPlaylists.length} playlists`;\r\n\t}\r\n\tuser.log(userMessage, \"start\");\r\n\r\n\t// For each album\r\n\tfor (var i = 0; i < user.selectedAlbums.length; i++) {\r\n\t\t// Grab album info from storage if LS or from playlist if it's another one\r\n\t\tconst album = JSON.parse(\r\n\t\t\tJSON.stringify(user.allAlbums[user.selectedAlbums[i]])\r\n\t\t);\r\n\t\tconsole.log(album);\r\n\t\t// Add to list\r\n\t\talbumDetails = albumDetails.concat(album);\r\n\t\t// Add name to string\r\n\t\tnewAlbumsString += `${user.allAlbums[user.selectedAlbums[i]].name}, `;\r\n\t\t// Wait what?\r\n\t\tnewAlbumsList.push(user.allAlbums[user.selectedAlbums[i]]);\r\n\r\n\t\t// For each track on the album\r\n\t\tfor (var t = 0; t < album.tracks.length; t++) {\r\n\t\t\t// Add track URIs to list\r\n\t\t\ttrackURIs.push(album.tracks[t].uri);\r\n\t\t\t// Add track time to total length\r\n\t\t\taddedTime += album.tracks[t].duration;\r\n\t\t\t// Add track to list for playlist updating\r\n\t\t\tnewTracksList.push(album.tracks[t]);\r\n\t\t}\r\n\t}\r\n\r\n\tconst numTracks = trackURIs.length;\r\n\r\n\t// Go through each playlist and add the albums to it\r\n\tfor (var j = 0; j < user.selectedPlaylists.length; j++) {\r\n\t\tconst playlistId = user.selectedPlaylists[j];\r\n\t\tconst playlistIndex = user.allPlaylists.findIndex(\r\n\t\t\t(p) => p.id === playlistId\r\n\t\t);\r\n\t\tconst playlist = user.allPlaylists[playlistIndex];\r\n\t\tconsole.log(playlist.tracks);\r\n\t\t// Don't add album if it's already on the playlist\r\n\t\t// console.log(playlist.albumList, user.album.name, playlist.albumList.indexOf(user.album.name));\r\n\t\t// if (playlist.albumList.indexOf(user.album.name) === -1) {\r\n\t\tif (true) {\r\n\t\t\tlet res;\r\n\t\t\tdo {\r\n\t\t\t\tlet data = { uris: [] };\r\n\t\t\t\tif (side === \"start\") {\r\n\t\t\t\t\tdata.position = 0;\r\n\t\t\t\t}\r\n\t\t\t\tif (side === \"second\") {\r\n\t\t\t\t\tlet firstAlbum = playlist.tracks[0].album;\r\n\t\t\t\t\tfor (var tc = 0; tc < playlist.tracks.length; tc++) {\r\n\t\t\t\t\t\tif (playlist.tracks[tc].album !== firstAlbum) {\r\n\t\t\t\t\t\t\tdata.position = tc;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(trackURIs);\r\n\t\t\t\t// Add up to 100 tracks at a time. This gets up to 100 tracks then breaks\r\n\t\t\t\t// Remove the added track from the trackURIs so only unsent remain\r\n\t\t\t\tfor (var k = 0; k < trackURIs.length; k++) {\r\n\t\t\t\t\tif (side === \"end\") {\r\n\t\t\t\t\t\tdata.uris.push(trackURIs[0]);\r\n\t\t\t\t\t\ttrackURIs.shift();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet trackURI = trackURIs[trackURIs.length - 1];\r\n\t\t\t\t\t\tdata.uris.unshift(trackURI);\r\n\t\t\t\t\t\ttrackURIs.pop();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (k === 99) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Okay, with this set of up to 100 tracks, add them to the playlist\r\n\t\t\t\tconst apiURL = `https://api.spotify.com/v1/playlists/${playlist.id}/tracks`;\r\n\r\n\t\t\t\t// Check if we're replacing the tracks - do a put request\r\n\t\t\t\tif (\r\n\t\t\t\t\treplace &&\r\n\t\t\t\t\ttrackURIs.length + data.uris.length === numTracks\r\n\t\t\t\t) {\r\n\t\t\t\t\tres = await axios.put(apiURL, data, {\r\n\t\t\t\t\t\theaders: spotifyHeader(),\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tres = await axios.post(apiURL, data, {\r\n\t\t\t\t\t\theaders: spotifyHeader(),\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t// console.log(res);\r\n\r\n\t\t\t\t// Repeat for each set of tracks\r\n\t\t\t} while (trackURIs.length > 0);\r\n\r\n\t\t\t// If successful, update local by getting each playlist from Spotify\r\n\t\t\t// TODO: get playlist from spotify\r\n\t\t\t// console.log(res);\r\n\t\t\tif (res.status === 201) {\r\n\t\t\t\tif (replace) {\r\n\t\t\t\t\tuser.log(\r\n\t\t\t\t\t\t`Removed all previous albums from ${playlist.name}.`\r\n\t\t\t\t\t);\r\n\t\t\t\t\tuser.allPlaylists[playlistIndex].albumsString = \"\";\r\n\t\t\t\t\tuser.allPlaylists[playlistIndex].albums = [];\r\n\t\t\t\t\tuser.allPlaylists[playlistIndex].tracks = [];\r\n\t\t\t\t\tuser.allPlaylists[playlistIndex].duration = 0;\r\n\t\t\t\t}\r\n\t\t\t\tuser.log(\r\n\t\t\t\t\t`Successfully plopped ${numTracks} beats onto ${playlist.name}.`\r\n\t\t\t\t);\r\n\t\t\t\t// Update list of albums\r\n\t\t\t\tlet newPlaylistData = cloneDeep(\r\n\t\t\t\t\tuser.allPlaylists[playlistIndex]\r\n\t\t\t\t);\r\n\t\t\t\tif (side === \"start\") {\r\n\t\t\t\t\tnewPlaylistData.albumsString =\r\n\t\t\t\t\t\tnewAlbumsString + newPlaylistData.albumsString;\r\n\r\n\t\t\t\t\tnewPlaylistData.albums = arrayConcat(\r\n\t\t\t\t\t\tnewAlbumsList,\r\n\t\t\t\t\t\tnewPlaylistData.albums\r\n\t\t\t\t\t);\r\n\t\t\t\t\tnewPlaylistData.tracks = arrayConcat(\r\n\t\t\t\t\t\tnewTracksList,\r\n\t\t\t\t\t\tnewPlaylistData.tracks\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (newPlaylistData.albumsString !== \"\") {\r\n\t\t\t\t\t\tnewPlaylistData.albumsString += \", \";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnewPlaylistData.albumsString =\r\n\t\t\t\t\t\tnewPlaylistData.albumsString +\r\n\t\t\t\t\t\tnewAlbumsString.substring(\r\n\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\tnewAlbumsString.length - 2\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tnewPlaylistData.albums = arrayConcat(\r\n\t\t\t\t\t\tnewPlaylistData.albums,\r\n\t\t\t\t\t\tnewAlbumsList\r\n\t\t\t\t\t);\r\n\t\t\t\t\tnewPlaylistData.tracks = arrayConcat(\r\n\t\t\t\t\t\tnewPlaylistData.tracks,\r\n\t\t\t\t\t\tnewTracksList\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\t// Update total time\r\n\t\t\t\tnewPlaylistData.duration += addedTime;\r\n\t\t\t\t// Update lastUpdated\r\n\t\t\t\tnewPlaylistData.lastUpdated = Date.now().toString();\r\n\t\t\t\t// Write back to state\r\n\t\t\t\tuser.allPlaylists[playlistIndex] = newPlaylistData;\r\n\t\t\t} else {\r\n\t\t\t\tuser.log(\r\n\t\t\t\t\t`Houston, we had an issue with ${playlist.name}.`,\r\n\t\t\t\t\t\"error\"\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tupdateProgress();\r\n\t\tdelayms += APIdelay;\r\n\t\tawait delay(delayms);\r\n\t}\r\n\r\n\tuser.log(`All finished big guy.`, \"end\");\r\n}\r\n\r\nexport async function replaceDescription(description) {\r\n\tresetProgress();\r\n\tlet delayms = 0;\r\n\tuser.log(\r\n\t\t`Description time! Changing the description of ${user.selectedPlaylists.length} playlists.`,\r\n\t\t\"start\"\r\n\t);\r\n\t// Go through each playlist and replace the description\r\n\tfor (var j = 0; j < user.selectedPlaylists.length; j++) {\r\n\t\tconst playlistId = user.selectedPlaylists[j];\r\n\t\tconst playlistIndex = user.allPlaylists.findIndex(\r\n\t\t\t(p) => p.id === playlistId\r\n\t\t);\r\n\t\tconst playlist = user.allPlaylists[playlistIndex];\r\n\t\tlet data = { description };\r\n\r\n\t\ttry {\r\n\t\t\tlet res = await axios.put(\r\n\t\t\t\t`https://api.spotify.com/v1/playlists/${playlist.id}/`,\r\n\t\t\t\tdata,\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: spotifyHeader(),\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\t// If successful, update local\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tuser.log(`Bam. Description of ${playlist.name} updated.`);\r\n\t\t\t\tplaylist.description = description;\r\n\t\t\t\tuser.allPlaylists[playlistIndex] = playlist;\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tuser.log(`Uh oh! There was an issue with .`);\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n\r\n\t\tupdateProgress();\r\n\t\tdelayms += APIdelay;\r\n\t\tawait delay(delayms);\r\n\t}\r\n\tresetProgress();\r\n\tuser.log(`We're done here.`, \"end\");\r\n}\r\n\r\n// Refresh: get list of playlist tracks and re-add them to playlist\r\nexport async function refreshPlaylists() {\r\n\tuser.log(\r\n\t\t`We're about to refresh ${user.selectedPlaylists.length} playlists.`,\r\n\t\t\"start\"\r\n\t);\r\n\tfor (var i = 0; i < user.selectedPlaylists.length; i++) {\r\n\t\tconst playlistId = user.selectedPlaylists[i];\r\n\t\tconst playlistIndex = user.allPlaylists.findIndex(\r\n\t\t\t(p) => p.id === playlistId\r\n\t\t);\r\n\t\tconst playlist = user.allPlaylists[playlistIndex];\r\n\r\n\t\tlet URIsToSend = [];\r\n\t\t// Get list of playlist tracks\r\n\t\tfor (var j = 0; j < Object.keys(playlist.tracks).length; j++) {\r\n\t\t\tURIsToSend.push(`spotify:track:${playlist.tracks[j].id}`);\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tlet res;\r\n\t\t\t// Remove old tracks\r\n\t\t\tconst apiURL = `https://api.spotify.com/v1/playlists/${playlist.id}/tracks`;\r\n\t\t\tres = await axios.put(\r\n\t\t\t\tapiURL,\r\n\t\t\t\t{ uris: [] },\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: \"Bearer \" + user.token,\r\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\t// Add tracks back in batches of 100\r\n\t\t\tdo {\r\n\t\t\t\tconsole.log(URIsToSend);\r\n\t\t\t\tlet data = { uris: [] };\r\n\t\t\t\tfor (var k = 0; k < URIsToSend.length; k++) {\r\n\t\t\t\t\tdata.uris.push(URIsToSend[k]);\r\n\t\t\t\t\tif (k === 99) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tURIsToSend = URIsToSend.slice(\r\n\t\t\t\t\tdata.uris.length,\r\n\t\t\t\t\tURIsToSend.length\r\n\t\t\t\t);\r\n\t\t\t\tconsole.log(URIsToSend);\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t\tres = await axios.post(apiURL, data, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: \"Bearer \" + user.token,\r\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t} while (URIsToSend.length > 0);\r\n\t\t\t// If successful, update local\r\n\t\t\tif (res.status === 201) {\r\n\t\t\t\tuser.log(`${playlist.name} is looking refreshed af.`, \"end\");\r\n\t\t\t} else {\r\n\t\t\t\tuser.log(\r\n\t\t\t\t\t`Refreshing ${playlist.name} gave us an error. Not cool man.`,\r\n\t\t\t\t\t\"error\"\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tuser.log(\r\n\t\t\t\t`Refreshing ${playlist.name} gave us an error. Not cool man.`,\r\n\t\t\t\t\"error\"\r\n\t\t\t);\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport async function followPlaylists(listString) {\r\n\tconst listArray = listString.split(\"\\n\");\r\n\t// Example format of one array element\r\n\t// https://open.spotify.com/playlist/7qJbIatA439sogHeQ0lOnS?si=qem5KAPzQ-2tD8RIVOf99A\r\n\tconst idArray = listArray.map((url) => {\r\n\t\tconst playlistIndex = url.indexOf(\"playlist\");\r\n\t\tconst questionmarkIndex = url.indexOf(\"?\");\r\n\t\treturn url.substring(playlistIndex + 9, questionmarkIndex);\r\n\t});\r\n\r\n\tuser.log(`We're about to follow ${idArray.length} playlists.`, \"start\");\r\n\tfor (var i = 0; i < idArray.length; i++) {\r\n\t\tconst playlistId = idArray[i];\r\n\t\tconsole.log(playlistId);\r\n\t\ttry {\r\n\t\t\tlet res;\r\n\t\t\t// Remove old tracks\r\n\t\t\tconst apiURL = `https://api.spotify.com/v1/playlists/${playlistId}/followers`;\r\n\t\t\tres = await axios.put(\r\n\t\t\t\tapiURL,\r\n\t\t\t\t{},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: \"Bearer \" + user.token,\r\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\t// If successful, update local\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tuser.log(`${idArray[i]} has been followed.`);\r\n\t\t\t} else {\r\n\t\t\t\tuser.log(\r\n\t\t\t\t\t`Following ${listArray[i]} gave us an error. Not cool man.`,\r\n\t\t\t\t\t\"error\"\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tuser.log(\r\n\t\t\t\t`Following ${listArray[i]} gave us an error. Not cool man.`,\r\n\t\t\t\t\"error\"\r\n\t\t\t);\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n\t}\r\n\tuser.log(`All done boss.`, \"end\");\r\n}\r\n\r\nexport async function getFollowerCounts(listString) {\r\n\tlet resultsArray = [];\r\n\tconst listArray = listString.split(\"\\n\");\r\n\t// Example format of one array element\r\n\t// https://open.spotify.com/playlist/7qJbIatA439sogHeQ0lOnS?si=qem5KAPzQ-2tD8RIVOf99A\r\n\tconst idArray = listArray.map((url) => {\r\n\t\tconst playlistIndex = url.indexOf(\"playlist\");\r\n\t\tlet questionmarkIndex = url.indexOf(\"?\");\r\n\t\tif (questionmarkIndex === -1) {\r\n\t\t\tquestionmarkIndex = url.length;\r\n\t\t}\r\n\t\treturn url.substring(playlistIndex + 9, questionmarkIndex);\r\n\t});\r\n\r\n\tuser.log(\r\n\t\t`We're about to get follower counts from ${idArray.length} playlists.`,\r\n\t\t\"start\"\r\n\t);\r\n\tfor (var i = 0; i < idArray.length; i++) {\r\n\t\tconst playlistId = idArray[i];\r\n\t\tconsole.log(playlistId);\r\n\t\ttry {\r\n\t\t\tlet res;\r\n\t\t\t// Remove old tracks\r\n\t\t\tconst apiURL = `https://api.spotify.com/v1/playlists/${playlistId}`;\r\n\t\t\tres = await axios.get(apiURL, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: \"Bearer \" + user.token,\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t},\r\n\t\t\t});\r\n\r\n\t\t\t// If successful, update local\r\n\t\t\tconsole.log(res);\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tuser.log(`Got followers from ${idArray[i]}.`);\r\n\t\t\t\tresultsArray.push(res.data.followers.total);\r\n\t\t\t} else {\r\n\t\t\t\tuser.log(\r\n\t\t\t\t\t`Getting followers from ${listArray[i]} gave us an error. Not cool man.`,\r\n\t\t\t\t\t\"error\"\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tuser.log(\r\n\t\t\t\t`Getting followers from ${listArray[i]} gave us an error. Not cool man.`,\r\n\t\t\t\t\"error\"\r\n\t\t\t);\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n\t}\r\n\tuser.log(`All done boss.`, \"end\");\r\n\treturn resultsArray.join(\"\\n\");\r\n}\r\n\r\nexport async function getPlaypastingData(listString) {\r\n\tlet resultsArray = [];\r\n\tconsole.log(resultsArray);\r\n\tconst listArray = listString.split(\"\\n\");\r\n\t// Example format of one array element\r\n\t// https://open.spotify.com/playlist/7qJbIatA439sogHeQ0lOnS?si=qem5KAPzQ-2tD8RIVOf99A\r\n\tconst idArray = listArray.map((url) => {\r\n\t\tconst playlistIndex = url.indexOf(\"playlist\");\r\n\t\tlet questionmarkIndex = url.indexOf(\"?\");\r\n\t\tif (questionmarkIndex === -1) {\r\n\t\t\tquestionmarkIndex = url.length;\r\n\t\t}\r\n\t\treturn url.substring(playlistIndex + 9, questionmarkIndex);\r\n\t});\r\n\r\n\tuser.log(\r\n\t\t`We're about to get playpasting data from ${idArray.length} playlists.`,\r\n\t\t\"start\"\r\n\t);\r\n\tfor (var i = 0; i < idArray.length; i++) {\r\n\t\tconst playlistId = idArray[i];\r\n\t\tconsole.log(playlistId);\r\n\t\ttry {\r\n\t\t\tlet res;\r\n\t\t\t// Remove old tracks\r\n\t\t\tconst apiURL = `https://api.spotify.com/v1/playlists/${playlistId}`;\r\n\t\t\tres = await axios.get(apiURL, {\r\n\t\t\t\theaders: spotifyHeader(),\r\n\t\t\t});\r\n\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tuser.log(`Got data from ${idArray[i]}.`);\r\n\t\t\t\tconsole.log(\"got data\", res.data.name);\r\n\t\t\t\tlet d = res.data;\r\n\t\t\t\t// Playlist Name, Playlist Link, Creator Name, Creator Link, Followers\r\n\t\t\t\tresultsArray[i] = [\r\n\t\t\t\t\td.name,\r\n\t\t\t\t\td.external_urls.spotify,\r\n\t\t\t\t\td.owner.display_name,\r\n\t\t\t\t\td.owner.external_urls.spotify,\r\n\t\t\t\t\td.followers.total,\r\n\t\t\t\t\tdecodeURIComponent(d.description),\r\n\t\t\t\t];\r\n\t\t\t} else {\r\n\t\t\t\tuser.log(\r\n\t\t\t\t\t`Getting data from ${listArray[i]} gave us an error. Not cool man.`,\r\n\t\t\t\t\t\"error\"\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tuser.log(\r\n\t\t\t\t`Getting data from ${listArray[i]} gave us an error. Not cool man.`,\r\n\t\t\t\t\"error\"\r\n\t\t\t);\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n\t}\r\n\tuser.log(`All done boss.`, \"end\");\r\n\r\n\tfor (var j = 0; j < resultsArray.length; j++) {\r\n\t\tresultsArray[j] = resultsArray[j].join(\", \");\r\n\t}\r\n\r\n\tdocument.getElementById(\"results\").value = resultsArray.join(\"\\n\");\r\n\treturn resultsArray.join(\"\\n\");\r\n}\r\n\r\nfunction resetProgress() {\r\n\tuser.progress.done = 0;\r\n\tuser.progress.total = user.selectedPlaylists.length;\r\n\tuser.progress.percent = 0;\r\n}\r\nfunction updateProgress() {\r\n\tuser.progress.done++;\r\n\tuser.progress.percent = (user.progress.done / user.progress.total) * 100;\r\n}\r\n\r\nasync function delay(ms) {\r\n\tawait timeout(ms);\r\n}\r\n\r\nfunction arrayConcat(arr1, arr2) {\r\n\tarr2.forEach(function (item) {\r\n\t\tarr1.push(item);\r\n\t});\r\n\treturn arr1;\r\n}\r\n\r\nconst timeout = (ms) => new Promise((res) => setTimeout(res, ms));\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport { ReactSortable } from \"react-sortablejs\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport * as api from \"../api/api\";\r\nimport SpotifySquare from \"./../img/spotify-square.png\";\r\n\r\nimport { view } from \"@risingstack/react-easy-state\";\r\nimport { user } from \"./../store\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\twidth: 400,\r\n\t},\r\n\ttitle: {\r\n\t\tfontSize: 14,\r\n\t},\r\n\tpos: {\r\n\t\tmarginBottom: 12,\r\n\t},\r\n\tmodal: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t},\r\n}));\r\n\r\nconst RearrangeModal = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst [albums, setAlbums] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst albumsInfo = [];\r\n\t\tconsole.log(props.playlist);\r\n\t\tif (Object.keys(props.playlist).length > 0) {\r\n\t\t\tprops.playlist.albums.map((album, i) => {\r\n\t\t\t\tif (user.allAlbums.hasOwnProperty(album.id)) {\r\n\t\t\t\t\talbumsInfo.push(user.allAlbums[album.id]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\talbumsInfo.push({\r\n\t\t\t\t\t\tid: album.id,\r\n\t\t\t\t\t\tname: album.name,\r\n\t\t\t\t\t\timages: [{}, { url: SpotifySquare }],\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tsetAlbums(albumsInfo);\r\n\t\t\tconsole.log(albumsInfo);\r\n\t\t}\r\n\t}, [props.playlist]);\r\n\r\n\tconst onSave = async () => {\r\n\t\tconst oldSelection = user.selectedAlbums;\r\n\t\tconst oldPlaylistSelection = user.selectedPlaylists;\r\n\t\tconst newSelection = [];\r\n\t\talbums.forEach((a) => {\r\n\t\t\tnewSelection.push(a.id);\r\n\t\t});\r\n\t\tuser.selectedAlbums = newSelection;\r\n\t\tuser.selectedPlaylists = [props.playlist.id];\r\n\t\tawait api.addSelectedAlbumsToSelectedPlaylist(\"end\", \"replace\");\r\n\t\tuser.selectedAlbums = oldSelection;\r\n\t\tuser.selectedPlaylists = oldPlaylistSelection;\r\n\t\tprops.close();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\tclassName={classes.modal}\r\n\t\t\topen={props.open}\r\n\t\t\tonClose={props.close}\r\n\t\t\taria-labelledby=\"simple-modal-title\"\r\n\t\t\taria-describedby=\"simple-modal-description\">\r\n\t\t\t<Card className={classes.root}>\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tvariant=\"h2\"\r\n\t\t\t\t\t\tcomponent=\"h2\"\r\n\t\t\t\t\t\tclassName={classes.title}\r\n\t\t\t\t\t\tgutterBottom>\r\n\t\t\t\t\t\t{props.playlist.name}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<List style={{ overflowY: \"scroll\", maxHeight: 500 }}>\r\n\t\t\t\t\t\t<ReactSortable\r\n\t\t\t\t\t\t\tlist={albums}\r\n\t\t\t\t\t\t\tsetList={setAlbums}\r\n\t\t\t\t\t\t\tanimation={200}>\r\n\t\t\t\t\t\t\t{albums &&\r\n\t\t\t\t\t\t\t\talbums.map((album) => (\r\n\t\t\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\t\t\tkey={album.id}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tpaddingLeft: 0,\r\n\t\t\t\t\t\t\t\t\t\t\tpaddingBottom: 0,\r\n\t\t\t\t\t\t\t\t\t\t\tpaddingTop: 0,\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"square\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talbum.images[1].url\r\n\t\t\t\t\t\t\t\t\t\t\t\t}></Avatar>\r\n\t\t\t\t\t\t\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\t\tprimary={album.name}\r\n\t\t\t\t\t\t\t\t\t\t\tsecondary={\"beans\"}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</ReactSortable>\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</CardContent>\r\n\t\t\t\t<CardActions style={{ float: \"right\" }}>\r\n\t\t\t\t\t<Button onClick={props.close}>Cancel</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tonClick={onSave}>\r\n\t\t\t\t\t\tSave\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</CardActions>\r\n\t\t\t</Card>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default view(RearrangeModal);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport ReactDataGrid from \"react-data-grid\";\r\nimport * as api from \"./../api/api\";\r\n\r\nimport RearrangeAlbums from \"./RearrangeAlbums\";\r\n\r\nimport { view } from \"@risingstack/react-easy-state\";\r\nimport { user } from \"./../store\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tfontSize: 14,\r\n\t},\r\n}));\r\n\r\nconst sortRows = (initialRows, sortColumn, sortDirection) => (rows) => {\r\n\tconst comparer = (a, b) => {\r\n\t\tif (sortDirection === \"ASC\") {\r\n\t\t\treturn a[sortColumn] > b[sortColumn] ? 1 : -1;\r\n\t\t} else if (sortDirection === \"DESC\") {\r\n\t\t\treturn a[sortColumn] < b[sortColumn] ? 1 : -1;\r\n\t\t}\r\n\t};\r\n\treturn sortDirection === \"NONE\" ? initialRows : [...rows].sort(comparer);\r\n};\r\n\r\nconst PlaylistTable = (props) => {\r\n\tconst classes = useStyles();\r\n\r\n\tconst [tableWidth, setTableWidth] = useState(500);\r\n\tconst [sortedAllPlaylists, setSortedAllPlaylists] = useState(\r\n\t\tuser.allPlaylists\r\n\t);\r\n\tconst [rows, setRows] = useState(user.allPlaylists);\r\n\tconst [editAlbumsOpen, setEditAlbumsOpen] = useState(false);\r\n\tconst [\r\n\t\trearrangePlaylistSelection,\r\n\t\tsetRearrangePlaylistSelection,\r\n\t] = useState({});\r\n\r\n\tconst onModalOpen = () => {\r\n\t\tsetEditAlbumsOpen(true);\r\n\t};\r\n\r\n\tconst onModalClose = () => {\r\n\t\tsetEditAlbumsOpen(false);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\t// Get data from storage or API on launch\r\n\t\tconst w = window.innerWidth;\r\n\t\tsetTableWidth(w - 520);\r\n\t\twindow.addEventListener(\"resize\", function () {\r\n\t\t\tconst w = window.innerWidth;\r\n\t\t\tsetTableWidth(w - 520);\r\n\t\t});\r\n\t\tapi.loadTable();\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log(props.search.length);\r\n\t\tif (props.search.length > 2) {\r\n\t\t\tconst newPlaylists = sortedAllPlaylists.filter((playlistInfo) => {\r\n\t\t\t\tconsole.log(playlistInfo.name);\r\n\t\t\t\tconsole.log(\r\n\t\t\t\t\tplaylistInfo.name.indexOf(props.search.toLowerCase())\r\n\t\t\t\t);\r\n\t\t\t\treturn (\r\n\t\t\t\t\tplaylistInfo.name\r\n\t\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t\t.indexOf(props.search.toLowerCase()) > -1 ||\r\n\t\t\t\t\tplaylistInfo.albumsString\r\n\t\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t\t.indexOf(props.search.toLowerCase()) > -1\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\tconsole.log(newPlaylists);\r\n\t\t\tsetRows(newPlaylists);\r\n\t\t} else {\r\n\t\t\tsetRows(sortedAllPlaylists);\r\n\t\t}\r\n\t}, [props.search, sortedAllPlaylists]);\r\n\r\n\tconst playlistLengthFormatter = ({ value }) => {\r\n\t\t// console.log(value);\r\n\t\tvar ms = parseInt(value);\r\n\t\tvar d, h, m, s;\r\n\t\ts = Math.floor(ms / 1000);\r\n\t\tm = Math.floor(s / 60);\r\n\t\ts = s % 60;\r\n\t\th = Math.floor(m / 60);\r\n\t\tm = m % 60;\r\n\t\td = Math.floor(h / 24);\r\n\t\th = h % 24;\r\n\t\th += d * 24;\r\n\t\treturn `${h < 10 ? \"0\" + h : h}:${m < 10 ? \"0\" + m : m}:${\r\n\t\t\ts < 10 ? \"0\" + s : s\r\n\t\t}`;\r\n\t};\r\n\r\n\tconst lastUpdatedFormatter = ({ value }) => {\r\n\t\tconst now = Date.now().toString();\r\n\t\tconst days = Math.floor((now - value) / 86400000);\r\n\t\tconst word = days === 1 ? \"day\" : \"days\";\r\n\t\treturn `${days} ${word} ago`;\r\n\t};\r\n\r\n\tconst nameFormatter = ({ value }) => {\r\n\t\treturn (\r\n\t\t\t<Tooltip title={value} placement=\"bottom\">\r\n\t\t\t\t<div className=\"no-overflow\">{value}</div>\r\n\t\t\t</Tooltip>\r\n\t\t);\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\tkey: \"name\",\r\n\t\t\tname: \"Name\",\r\n\t\t\twidth: 300,\r\n\t\t\tsortable: true,\r\n\t\t\tresizable: true,\r\n\t\t\tformatter: nameFormatter,\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"duration\",\r\n\t\t\tname: \"Total length\",\r\n\t\t\tformatter: playlistLengthFormatter,\r\n\t\t\twidth: 100,\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"lastUpdated\",\r\n\t\t\tname: \"Last updated\",\r\n\t\t\tformatter: lastUpdatedFormatter,\r\n\t\t\twidth: 120,\r\n\t\t\tsortable: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: \"albumsString\",\r\n\t\t\tname: \"Albums\",\r\n\t\t\tresizable: true,\r\n\t\t\tformatter: nameFormatter,\r\n\t\t},\r\n\t];\r\n\r\n\tfunction onRowsSelected(rows) {\r\n\t\tfor (var i = 0; i < rows.length; i++) {\r\n\t\t\tlet newSelected = user.selectedPlaylists.slice();\r\n\t\t\tnewSelected.push(rows[i].row.id);\r\n\t\t\tuser.selectedPlaylists = newSelected;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onRowsDeselected(rows) {\r\n\t\tfor (var i = 0; i < rows.length; i++) {\r\n\t\t\tuser.selectedPlaylists = user.selectedPlaylists.filter(\r\n\t\t\t\t(e) => e !== rows[i].row.id\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tconst albumActions = function (column, row) {\r\n\t\tconst cellActions = {\r\n\t\t\talbumsString: [\r\n\t\t\t\t{\r\n\t\t\t\t\ticon: <EditIcon />,\r\n\t\t\t\t\tcallback: () => {\r\n\t\t\t\t\t\tconsole.log(row);\r\n\t\t\t\t\t\tsetRearrangePlaylistSelection(row);\r\n\t\t\t\t\t\tsetEditAlbumsOpen(true);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t};\r\n\t\treturn cellActions[column.key];\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<ReactDataGrid\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\trowGetter={(i) => rows[i]}\r\n\t\t\t\trowsCount={rows.length}\r\n\t\t\t\tminHeight={800}\r\n\t\t\t\tminWidth={tableWidth}\r\n\t\t\t\trowSelection={{\r\n\t\t\t\t\tshowCheckbox: true,\r\n\t\t\t\t\tenableShiftSelect: true,\r\n\t\t\t\t\tonRowsSelected: onRowsSelected,\r\n\t\t\t\t\tonRowsDeselected: onRowsDeselected,\r\n\t\t\t\t\tselectBy: {\r\n\t\t\t\t\t\tkeys: {\r\n\t\t\t\t\t\t\trowKey: \"id\",\r\n\t\t\t\t\t\t\tvalues: user.selectedPlaylists,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t}}\r\n\t\t\t\tonGridSort={(sortColumn, sortDirection) => {\r\n\t\t\t\t\tsetSortedAllPlaylists(\r\n\t\t\t\t\t\tsortRows(user.allPlaylists, sortColumn, sortDirection)\r\n\t\t\t\t\t);\r\n\t\t\t\t}}\r\n\t\t\t\tgetCellActions={albumActions}\r\n\t\t\t/>\r\n\t\t\t<RearrangeAlbums\r\n\t\t\t\topen={editAlbumsOpen}\r\n\t\t\t\tclose={onModalClose}\r\n\t\t\t\tplaylist={rearrangePlaylistSelection}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(PlaylistTable);\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { user } from \"./../store\";\r\nconst useStyles = makeStyles((theme) => ({\r\n\titem: {\r\n\t\tmargin: 0,\r\n\t\tmarginRight: 2,\r\n\t\tmarginBottom: 2,\r\n\t},\r\n}));\r\n\r\nconst AlertDialog = (props) => {\r\n\tconst classes = useStyles();\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Dialog\r\n\t\t\t\topen={props.open}\r\n\t\t\t\tonClose={props.onClose}\r\n\t\t\t\taria-labelledby=\"alert-dialog-title\"\r\n\t\t\t\taria-describedby=\"alert-dialog-description\">\r\n\t\t\t\t<DialogTitle id=\"alert-dialog-title\">\r\n\t\t\t\t\tPlease do the following in order:\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Typography variant=\"body1\">\r\n\t\t\t\t\t\t\t1. Spotify probably needs to re-authenticate.\r\n\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tlocalStorage.setItem(\"token\", \"\");\r\n\t\t\t\t\t\t\t\tuser.log(\r\n\t\t\t\t\t\t\t\t\t\"Spotify token has been cleared. Please hit Ctrl+F5 to hard refresh your webpage.\",\r\n\t\t\t\t\t\t\t\t\t\"end\"\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsize=\"small\">\r\n\t\t\t\t\t\t\tClick here\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Typography variant=\"body1\">\r\n\t\t\t\t\t\t\tthen refresh your webpage\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<Typography variant=\"body1\">\r\n\t\t\t\t\t\t\t2. If the above button not work, let's reset all\r\n\t\t\t\t\t\t\tyour data.\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tlocalStorage.clear();\r\n\t\t\t\t\t\t\t\tuser.allPlaylists = [];\r\n\t\t\t\t\t\t\t\tuser.log(\r\n\t\t\t\t\t\t\t\t\t\"All playlist data has been cleared. Please hit Ctrl+F5 to hard refresh your webpage.\",\r\n\t\t\t\t\t\t\t\t\t\"end\"\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsize=\"small\">\r\n\t\t\t\t\t\t\tClick here\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Typography variant=\"body1\">\r\n\t\t\t\t\t\t\tthen refresh your webpage\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<Typography variant=\"body1\">\r\n\t\t\t\t\t\t\t3. If those didn't work, contact Brandon.\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\t\t\thref={\"mailto:cathcart.brandon@gmail.com\"}\r\n\t\t\t\t\t\t\tsize=\"small\">\r\n\t\t\t\t\t\t\tClick here\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Typography variant=\"body1\">\r\n\t\t\t\t\t\t\tbut don't refresh your webpage\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default AlertDialog;\r\n","import React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport * as api from \"./../api/api\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport HelpDialog from \"./HelpDialog\";\r\n\r\nimport { view } from \"@risingstack/react-easy-state\";\r\nimport { user } from \"./../store\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tbg: {\r\n\t\tbackground: theme.palette.background.paper,\r\n\t},\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t\tjustifyContent: \"flex-start\",\r\n\t},\r\n\titem: {\r\n\t\tmargin: 0,\r\n\t\tmarginRight: 2,\r\n\t\tmarginBottom: 2,\r\n\t},\r\n\tprogressBox: {\r\n\t\twidth: \"100%\",\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t},\r\n\tprogress: {\r\n\t\tflexGrow: \"1\",\r\n\t},\r\n}));\r\n\r\nconst ActionButtons = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst [desc, setDesc] = useState(\"\");\r\n\tconst [helpOpen, setHelpOpen] = useState(false);\r\n\r\n\tfunction descChange(e) {\r\n\t\tsetDesc(e.target.value);\r\n\t}\r\n\r\n\tconst handleDialogClose = () => {\r\n\t\tsetHelpOpen(false);\r\n\t\tconsole.log(helpOpen);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<div className={classes.progressBox}>\r\n\t\t\t\t\t{/* <Typography variant=\"body1\">Current Task</Typography> */}\r\n\t\t\t\t\t<LinearProgress\r\n\t\t\t\t\t\tvariant=\"determinate\"\r\n\t\t\t\t\t\tvalue={user.progress.percent}\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tclassName={classes.progress}\r\n\t\t\t\t\t\tstyle={{ display: \"none\" }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tvariant=\"body1\"\r\n\t\t\t\t\tstyle={{ flexBasis: \"100%\", paddingTop: 5 }}>\r\n\t\t\t\t\tAdd Albums to\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tapi.addSelectedAlbumsToSelectedPlaylist(\"start\");\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsize=\"small\">\r\n\t\t\t\t\tstart\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tapi.addSelectedAlbumsToSelectedPlaylist(\"second\");\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsize=\"small\">\r\n\t\t\t\t\tsecond\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tapi.addSelectedAlbumsToSelectedPlaylist(\"end\");\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsize=\"small\">\r\n\t\t\t\t\tend\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tapi.addSelectedAlbumsToSelectedPlaylist(\r\n\t\t\t\t\t\t\t\"start\",\r\n\t\t\t\t\t\t\t\"replace\"\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsize=\"small\">\r\n\t\t\t\t\tReplace all\r\n\t\t\t\t</Button>\r\n\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tvariant=\"body1\"\r\n\t\t\t\t\tstyle={{ flexBasis: \"100%\", paddingTop: 5 }}>\r\n\t\t\t\t\tPlaylist Actions\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<div style={{ textAlign: \"left\" }}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tid=\"new-description\"\r\n\t\t\t\t\t\tplaceholder=\"Description\"\r\n\t\t\t\t\t\tonChange={descChange}\r\n\t\t\t\t\t\tstyle={{ width: \"120px\", padding: 5 }}\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tapi.replaceDescription(desc);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsize=\"small\">\r\n\t\t\t\t\t\tReplace\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tapi.refreshPlaylists();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsize=\"small\">\r\n\t\t\t\t\t\trefresh albums\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* <Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}>\r\n\t\t\t\t\tAdd to start and push last album\r\n\t\t\t\t</Button> */}\r\n\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tvariant=\"body1\"\r\n\t\t\t\t\tstyle={{ flexBasis: \"100%\", paddingTop: 5 }}>\r\n\t\t\t\t\tUtility\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tlocalStorage.setItem(\"token\", \"\");\r\n\t\t\t\t\t\tuser.log(\r\n\t\t\t\t\t\t\t\"Spotify token has been cleared. Please refresh your webpage.\",\r\n\t\t\t\t\t\t\t\"end\"\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsize=\"small\">\r\n\t\t\t\t\tSpotify access token\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.item}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetHelpOpen(true);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsize=\"small\">\r\n\t\t\t\t\tI'm getting an error!\r\n\t\t\t\t</Button>\r\n\t\t\t\t<HelpDialog open={helpOpen} onClose={handleDialogClose} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(ActionButtons);\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nimport { view } from \"@risingstack/react-easy-state\";\r\nimport { user } from \"./../store\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\tflexWrap: \"wrap\",\r\n\t\tlistStyle: \"none\",\r\n\t\tpadding: theme.spacing(0.5),\r\n\t\tmargin: 0,\r\n\t},\r\n\tchip: {\r\n\t\tmargin: theme.spacing(0.5),\r\n\t},\r\n}));\r\n\r\nconst AlbumChips = () => {\r\n\tconst classes = useStyles();\r\n\tconst handleDelete = (chipToDelete) => () => {\r\n\t\tuser.selectedAlbums = user.selectedAlbums.filter(\r\n\t\t\t(chip) => chip !== chipToDelete\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Paper component=\"ul\" className={classes.root}>\r\n\t\t\t{user.selectedAlbums.map((albumID, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<li key={index}>\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\ttitle={user.allAlbums[albumID].name}\r\n\t\t\t\t\t\t\tplacement=\"top\">\r\n\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t// label={user.allAlbums[albumID].name}\r\n\t\t\t\t\t\t\t\tonClick={handleDelete(albumID)}\r\n\t\t\t\t\t\t\t\tclassName={classes.chip}\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\t\t\tsrc={\r\n\t\t\t\t\t\t\t\t\t\t\tuser.allAlbums[albumID].images[1]\r\n\t\t\t\t\t\t\t\t\t\t\t\t.url\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</Paper>\r\n\t);\r\n};\r\n\r\nexport default view(AlbumChips);\r\n","import React, { useEffect } from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport { view } from \"@risingstack/react-easy-state\";\r\nimport { user } from \"./../store\";\r\n\r\nconst Logger = (props) => {\r\n\tuseEffect(() => {\r\n\t\tuser.logArray = [];\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\tposition: \"absolute\",\r\n\t\t\t\tright: 5,\r\n\t\t\t\ttop: 3,\r\n\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\talignItems: \"flex-start\",\r\n\t\t\t\tjustifyContent: \"flex-end\",\r\n\t\t\t\twidth: \"100%\",\r\n\t\t\t\theight: \"calc(100vh - 60px)\",\r\n\t\t\t\tbackground: \"rgba(0,0,0,0.6)\",\r\n\t\t\t\tzIndex: 1000,\r\n\t\t\t\ttransition: \"0.5s\",\r\n\t\t\t\tborderRadius: 10,\r\n\t\t\t\toverflowY: \"scroll\",\r\n\t\t\t}}\r\n\t\t\tclassName=\"logger\"\r\n\t\t\tid=\"logger\">\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tcolor: \"#ddd\",\r\n\t\t\t\t\tflexGrow: 1,\r\n\t\t\t\t\tpaddingTop: 15,\r\n\t\t\t\t\ttextAlign: \"left\",\r\n\t\t\t\t\tpaddingLeft: 12,\r\n\t\t\t\t}}>\r\n\t\t\t\t{user.logArray.map((logline, index) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tcomponent=\"p\"\r\n\t\t\t\t\t\t\tvariant=\"body2\"\r\n\t\t\t\t\t\t\tid=\"last-log\"\r\n\t\t\t\t\t\t\tstyle={{ display: \"block\", color: logline.color }}\r\n\t\t\t\t\t\t\tkey={index}>\r\n\t\t\t\t\t\t\t{logline.text}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(Logger);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nimport AlbumList from \"./AlbumList\";\r\nimport PlaylistTable from \"./PlaylistTable\";\r\nimport ActionButtons from \"./ActionButtons\";\r\nimport AlbumChips from \"./AlbumChips\";\r\n\r\nimport Logger from \"./Logger\";\r\nimport { user } from \"./../store\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t},\r\n\tpaper: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\ttextAlign: \"left\",\r\n\t\tcolor: theme.palette.text.secondary,\r\n\t\theight: \"calc(100vh - 60px)\",\r\n\t\tbackgroundColor: \"rgba(240,240,240,0.7)\",\r\n\t},\r\n}));\r\n\r\nconst PlaylistAlbumsPage = (props) => {\r\n\tconst { token } = props;\r\n\tconst classes = useStyles();\r\n\tconst sidebarWidth = 250;\r\n\tconst [search, setSearch] = useState(\"\");\r\n\r\n\tconst handleSearchChange = (event) => {\r\n\t\tsetSearch(event.target.value);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tuser.selectedPlaylists = [];\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: \"fixed\",\r\n\t\t\t\t\twidth: sidebarWidth,\r\n\t\t\t\t\ttop: 55,\r\n\t\t\t\t\tleft: 5,\r\n\t\t\t\t}}>\r\n\t\t\t\t<Paper className={classes.paper} style={{ padding: 10 }}>\r\n\t\t\t\t\t<AlbumList token={token} />\r\n\t\t\t\t\t<AlbumChips />\r\n\t\t\t\t\t<ActionButtons token={token} />\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\tmarginRight: 10,\r\n\t\t\t\t\tleft: sidebarWidth + 10,\r\n\t\t\t\t\ttop: 55,\r\n\t\t\t\t}}>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tid=\"outlined-basic\"\r\n\t\t\t\t\tlabel=\"Search\"\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tfloat: \"right\",\r\n\t\t\t\t\t\tbackground: \"rgba(250,250,250,0.7)\",\r\n\t\t\t\t\t\tmarginBottom: 10,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonChange={handleSearchChange}\r\n\t\t\t\t\tvalue={search}\r\n\t\t\t\t/>\r\n\t\t\t\t<PlaylistTable token={token} search={search} />\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: \"fixed\",\r\n\t\t\t\t\theight: \"100vh\",\r\n\t\t\t\t\twidth: sidebarWidth,\r\n\t\t\t\t\ttop: 50,\r\n\t\t\t\t\tright: 0,\r\n\t\t\t\t}}>\r\n\t\t\t\t<Logger />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PlaylistAlbumsPage;\r\n","import React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport * as api from \"./../api/api\";\r\nimport Logger from \"./Logger\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"row\",\r\n\t},\r\n\tpaper: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\ttextAlign: \"left\",\r\n\t\tcolor: theme.palette.text.secondary,\r\n\t\theight: \"calc(100vh - 60px)\",\r\n\t\tbackgroundColor: \"rgba(240,240,240,0.7)\",\r\n\t},\r\n}));\r\n\r\nconst LSRPage = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst sidebarWidth = 250;\r\n\r\n\tconst [playlistList, setPlaylistList] = React.useState(\"\");\r\n\t// const [resultsListString, setResultsListString] = React.useState(\"\");\r\n\r\n\tconst handlePlaylistListChange = (event) => {\r\n\t\tsetPlaylistList(event.target.value);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<div style={{ width: 600 }}>\r\n\t\t\t\t<form\r\n\t\t\t\t\tnoValidate\r\n\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\tstyle={{ display: \"inline-block\" }}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Paper style={{ width: 250 }}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tid=\"outlined-multiline-static\"\r\n\t\t\t\t\t\t\t\tlabel=\"Playlist URIs\"\r\n\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\trows={20}\r\n\t\t\t\t\t\t\t\tdefaultValue=\"\"\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\tonChange={handlePlaylistListChange}\r\n\t\t\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t\t<form\r\n\t\t\t\t\tnoValidate\r\n\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\tstyle={{ display: \"inline-block\" }}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Paper style={{ width: 250 }}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tid=\"results\"\r\n\t\t\t\t\t\t\t\tlabel=\"Results\"\r\n\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\trows={20}\r\n\t\t\t\t\t\t\t\tdefaultValue=\"\"\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tstyle={{ display: \"block\", marginTop: 10 }}\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tapi.getPlaypastingData(playlistList);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsize=\"small\">\r\n\t\t\t\t\tGet Playpasting Data\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: \"fixed\",\r\n\t\t\t\t\theight: \"100vh\",\r\n\t\t\t\t\twidth: sidebarWidth,\r\n\t\t\t\t\ttop: 50,\r\n\t\t\t\t\tright: 0,\r\n\t\t\t\t}}>\r\n\t\t\t\t<Logger />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default LSRPage;\r\n","import React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport * as api from \"./../api/api\";\r\nimport Logger from \"./Logger\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"row\",\r\n\t},\r\n\tpaper: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\ttextAlign: \"left\",\r\n\t\tcolor: theme.palette.text.secondary,\r\n\t\theight: \"calc(100vh - 60px)\",\r\n\t\tbackgroundColor: \"rgba(240,240,240,0.7)\",\r\n\t},\r\n}));\r\n\r\nconst UtilitiesAlbumPage = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst sidebarWidth = 250;\r\n\r\n\tconst [followList, setFollowList] = React.useState(\"\");\r\n\tconst [statsToGetList, setStatsToGetList] = React.useState(\"\");\r\n\tconst [resultsListString, setResultsListString] = React.useState(\"\");\r\n\r\n\tconst handleFollowListChange = (event) => {\r\n\t\tsetFollowList(event.target.value);\r\n\t};\r\n\tconst handleFollowStatsChange = (event) => {\r\n\t\tsetStatsToGetList(event.target.value);\r\n\t};\r\n\r\n\tasync function getFollowers() {\r\n\t\tconsole.log(\"starting\");\r\n\t\tconst results = await api.getFollowerCounts(statsToGetList);\r\n\t\tconsole.log(results);\r\n\t\tsetResultsListString(results);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<div style={{ width: 300 }}>\r\n\t\t\t\t<form noValidate autoComplete=\"off\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Paper style={{ width: 250 }}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tid=\"outlined-multiline-static\"\r\n\t\t\t\t\t\t\t\tlabel=\"Playlists to Follow\"\r\n\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\trows={20}\r\n\t\t\t\t\t\t\t\tdefaultValue=\"\"\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\tonChange={handleFollowListChange}\r\n\t\t\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tstyle={{ display: \"block\", marginTop: 10 }}\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tapi.followPlaylists(followList);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsize=\"small\">\r\n\t\t\t\t\tFollow playlists\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<div style={{ width: 600 }}>\r\n\t\t\t\t<form\r\n\t\t\t\t\tnoValidate\r\n\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\tstyle={{ display: \"inline-block\" }}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Paper style={{ width: 250 }}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tid=\"outlined-multiline-static\"\r\n\t\t\t\t\t\t\t\tlabel=\"Get follow stats\"\r\n\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\trows={20}\r\n\t\t\t\t\t\t\t\tdefaultValue=\"\"\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\tonChange={handleFollowStatsChange}\r\n\t\t\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t\t<form\r\n\t\t\t\t\tnoValidate\r\n\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\tstyle={{ display: \"inline-block\" }}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Paper style={{ width: 250 }}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tid=\"follower-results\"\r\n\t\t\t\t\t\t\t\tlabel=\"Results appear here\"\r\n\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\trows={20}\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\tvalue={resultsListString}\r\n\t\t\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tstyle={{ display: \"block\", marginTop: 10 }}\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tgetFollowers();\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsize=\"small\">\r\n\t\t\t\t\tGet follow counts\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: \"fixed\",\r\n\t\t\t\t\theight: \"100vh\",\r\n\t\t\t\t\twidth: sidebarWidth,\r\n\t\t\t\t\ttop: 50,\r\n\t\t\t\t\tright: 0,\r\n\t\t\t\t}}>\r\n\t\t\t\t<Logger />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default UtilitiesAlbumPage;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport useAxios from \"axios-hooks\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport { view } from \"@risingstack/react-easy-state\";\r\nimport { user } from \"./../store\";\r\n\r\nimport PlaylistAlbumsPage from \"./PlaylistAlbumsPage\";\r\nimport LSRPage from \"./LSRPage\";\r\nimport UtilitiesPage from \"./UtilitiesPage\";\r\n\r\nfunction TabPanel(props) {\r\n\tconst { children, value, index, ...other } = props;\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\trole=\"tabpanel\"\r\n\t\t\thidden={value !== index}\r\n\t\t\tid={`simple-tabpanel-${index}`}\r\n\t\t\taria-labelledby={`simple-tab-${index}`}\r\n\t\t\t{...other}>\r\n\t\t\t{value === index && <Box p={3}>{children}</Box>}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction a11yProps(index) {\r\n\treturn {\r\n\t\tid: `simple-tab-${index}`,\r\n\t\t\"aria-controls\": `simple-tabpanel-${index}`,\r\n\t};\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t\theight: \"calc(100vh - 48px)\",\r\n\t\t// backgroundColor: theme.palette.background.paper,\r\n\t},\r\n}));\r\n\r\nconst Main = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst { token } = props;\r\n\tconst [value, setValue] = useState(0);\r\n\tconst [tokenTimeout, setTokenTimout] = useState(user.tokenms - Date.now());\r\n\r\n\tuseEffect(() => {\r\n\t\tconst tokenTimeoutInterval = setInterval(() => {\r\n\t\t\tsetTokenTimout(user.tokenms - Date.now());\r\n\t\t\tif (tokenTimeout < 1000) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\ttokenTimeoutInterval.clear();\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.log(\"Tried to clear interval, could not. Oh well.\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, 60000);\r\n\t}, []);\r\n\r\n\tconst [{ data, loading, error }] = useAxios({\r\n\t\turl: \"https://api.spotify.com/v1/me\",\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\tAuthorization: \"Bearer \" + token,\r\n\t\t},\r\n\t});\r\n\r\n\tif (loading) {\r\n\t\tconsole.log(\"Loading user...\");\r\n\t}\r\n\r\n\tif (data) {\r\n\t\t// console.log(data);\r\n\t\tuser.name = data.display_name;\r\n\t\tuser.id = data.id;\r\n\t}\r\n\r\n\tconst handleChange = (event, newValue) => {\r\n\t\tsetValue(newValue);\r\n\t};\r\n\r\n\tif (user.id !== \"\") {\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t{/* <div style={{ display: 'flex' }}> */}\r\n\t\t\t\t<AppBar position=\"static\" style={{ width: \"100%\" }}>\r\n\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\taria-label=\"simple tabs example\"\r\n\t\t\t\t\t\tstyle={{ width: \"75%\" }}>\r\n\t\t\t\t\t\t<Tab label=\"Playlist Tools\" {...a11yProps(0)} />\r\n\t\t\t\t\t\t<Tab label=\"LSR\" {...a11yProps(1)} />\r\n\t\t\t\t\t\t<Tab label=\"Utilities\" {...a11yProps(2)} />\r\n\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t<div style={{ position: \"absolute\", top: 10, right: 10 }}>\r\n\t\t\t\t\t\t<Typography variant=\"h5\">\r\n\t\t\t\t\t\t\tSpotify access expires in:{\" \"}\r\n\t\t\t\t\t\t\t{Math.ceil(tokenTimeout / 1000 / 60)} mins\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</AppBar>\r\n\t\t\t\t{/* </div> */}\r\n\t\t\t\t<TabPanel value={value} index={0} style={{ height: \"100%\" }}>\r\n\t\t\t\t\t<PlaylistAlbumsPage token={token} />\r\n\t\t\t\t</TabPanel>\r\n\t\t\t\t<TabPanel value={value} index={1}>\r\n\t\t\t\t\t<LSRPage token={token} />\r\n\t\t\t\t</TabPanel>\r\n\t\t\t\t<TabPanel value={value} index={2}>\r\n\t\t\t\t\t<UtilitiesPage token={token} />\r\n\t\t\t\t</TabPanel>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tif (error) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<p>\r\n\t\t\t\t\tIf you're seeing this, click this button, then refresh the\r\n\t\t\t\t\tpage.\r\n\t\t\t\t</p>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tlocalStorage.setItem(\"token\", \"\");\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\tClear Token\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<p>Loading...</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default view(Main);\r\n","import React, { Component } from \"react\";\r\nimport { authEndpoint, clientId, redirectUri, scopes } from \"./config\";\r\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport hash from \"./hash\";\r\nimport Main from \"./components/Main\";\r\nimport logo from \"./logo.svg\";\r\nimport \"./App.css\";\r\nimport { user } from \"./store\";\r\n\r\nconst LSTheme = createMuiTheme({\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t\tmain: \"#0a5e54\",\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tmain: \"#ede8e5\",\r\n\t\t},\r\n\t},\r\n});\r\n\r\nclass App extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\ttoken: null,\r\n\t\t\titem: {\r\n\t\t\t\talbum: {\r\n\t\t\t\t\timages: [{ url: \"\" }],\r\n\t\t\t\t},\r\n\t\t\t\tname: \"\",\r\n\t\t\t\tartists: [{ name: \"\" }],\r\n\t\t\t\tduration_ms: 0,\r\n\t\t\t},\r\n\t\t\tis_playing: \"Paused\",\r\n\t\t\tprogress_ms: 0,\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\t// Set token\r\n\t\tlet _token = hash.access_token || localStorage.getItem(\"token\");\r\n\r\n\t\tif (hash.access_token) {\r\n\t\t\t// Set to 30 minutes later than now\r\n\t\t\tuser.tokenms = Date.now() + 30 * 60 * 1000;\r\n\t\t}\r\n\r\n\t\tif (_token) {\r\n\t\t\t// Set token\r\n\t\t\tthis.setState({\r\n\t\t\t\ttoken: _token,\r\n\t\t\t});\r\n\t\t\tlocalStorage.setItem(\"token\", _token);\r\n\t\t\tuser.token = _token;\r\n\t\t}\r\n\t}\r\n\r\n\tclearLocalStorage() {\r\n\t\tlocalStorage.setItem(\"token\", \"\");\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<ThemeProvider theme={LSTheme}>\r\n\t\t\t\t<header>\r\n\t\t\t\t\t<div className=\"App\">\r\n\t\t\t\t\t\t<div className=\"bg\">\r\n\t\t\t\t\t\t\t{!this.state.token && (\r\n\t\t\t\t\t\t\t\t<div className=\"App-header\">\r\n\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"h1\"\r\n\t\t\t\t\t\t\t\t\t\tcomponent=\"h1\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\ttextShadow:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"0px 5px 10px rgba(0,0,0,0.9)\",\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\tLittle Conductor\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn--loginApp-link\"\r\n\t\t\t\t\t\t\t\t\t\thref={`${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\r\n\t\t\t\t\t\t\t\t\t\t\t\"%20\"\r\n\t\t\t\t\t\t\t\t\t\t)}&response_type=token&show_dialog=true`}>\r\n\t\t\t\t\t\t\t\t\t\tLogin to Spotify\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.token && <Main token={this.state.token} />}\r\n\t\t\t\t</header>\r\n\t\t\t</ThemeProvider>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}